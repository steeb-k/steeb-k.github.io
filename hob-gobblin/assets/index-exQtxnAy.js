(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();const ia=!1;var dr=Array.isArray,ks=Array.prototype.indexOf,_r=Array.from,ir=Object.defineProperty,un=Object.getOwnPropertyDescriptor,oa=Object.getOwnPropertyDescriptors,xs=Object.prototype,Ss=Array.prototype,hr=Object.getPrototypeOf,Wr=Object.isExtensible;function Ts(e){return e()}function Rn(e){for(var t=0;t<e.length;t++)e[t]()}function As(){var e,t,r=new Promise((s,l)=>{e=s,t=l});return{promise:r,resolve:e,reject:t}}const Ge=2,pr=4,Fn=8,Zt=16,pt=32,Lt=64,mr=128,qe=256,Nn=512,Ae=1024,Ye=2048,mt=4096,at=8192,en=16384,br=32768,Pn=65536,Jr=1<<17,Ms=1<<18,tn=1<<19,va=1<<20,or=1<<21,gr=1<<22,Ct=1<<23,Wt=Symbol("$state"),Cs=Symbol(""),yr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ua(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Is(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Rs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ns(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Os(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ls(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ds(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Fs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ps(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Hs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Hn=1,Vn=2,fa=4,Vs=8,Bs=16,Gs=1,js=2,Te=Symbol(),Us="http://www.w3.org/1999/xhtml";function Ws(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Js=!1;function ca(e){return e===this.v}function qs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function da(e){return!qs(e,this.v)}let _n=!1,$s=!1;function Ys(){_n=!0}let ve=null;function $t(e){ve=e}function _a(e,t=!1,r){ve={p:ve,c:null,e:null,s:e,x:null,l:_n&&!t?{s:null,u:null,$:[]}:null}}function ha(e){var t=ve,r=t.e;if(r!==null){t.e=null;for(var s of r)Ca(s)}return ve=t.p,{}}function hn(){return!_n||ve!==null&&ve.l===null}let wt=[],On=[];function pa(){var e=wt;wt=[],Rn(e)}function Qs(){var e=On;On=[],Rn(e)}function Ks(){return wt.length>0||On.length>0}function Dt(e){if(wt.length===0&&!fn){var t=wt;queueMicrotask(()=>{t===wt&&pa()})}wt.push(e)}function Xs(){wt.length>0&&pa(),On.length>0&&Qs()}const Zs=new WeakMap;function ma(e){var t=j;if(t===null)return V.f|=Ct,e;if((t.f&br)===0){if((t.f&mr)===0)throw!t.parent&&e instanceof Error&&ba(e),e;t.b.error(e)}else Yt(e,t)}function Yt(e,t){for(;t!==null;){if((t.f&mr)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&ba(e),e}function ba(e){const t=Zs.get(e);t&&(ir(e,"message",{value:t.message}),ir(e,"stack",{value:t.stack}))}const rr=new Set;let oe=null,In=null,vr=new Set,Nt=[],Bn=null,ur=!1,fn=!1;class _t{current=new Map;#s=new Map;#t=new Set;#c=0;#l=null;#u=!1;#a=[];#n=[];#e=[];#r=[];#i=[];#f=[];#v=[];skipped_effects=new Set;process(t){Nt=[],In=null;for(const l of t)this.#d(l);if(this.#a.length===0&&this.#c===0){this.#_();var r=this.#e,s=this.#r;this.#e=[],this.#r=[],this.#i=[],In=oe,oe=null,qr(r),qr(s),oe===null?oe=this:rr.delete(this),this.#l?.resolve()}else this.#o(this.#e),this.#o(this.#r),this.#o(this.#i);for(const l of this.#a)Rt(l);for(const l of this.#n)Rt(l);this.#a=[],this.#n=[]}#d(t){t.f^=Ae;for(var r=t.first;r!==null;){var s=r.f,l=(s&(pt|Lt))!==0,o=l&&(s&Ae)!==0,f=o||(s&at)!==0||this.skipped_effects.has(r);if(!f&&r.fn!==null){if(l)r.f^=Ae;else if((s&pr)!==0)this.#r.push(r);else if((s&Ae)===0)if((s&gr)!==0){var c=r.b?.is_pending()?this.#n:this.#a;c.push(r)}else gn(r)&&((r.f&Zt)!==0&&this.#i.push(r),Rt(r));var v=r.first;if(v!==null){r=v;continue}}var d=r.parent;for(r=r.next;r===null&&d!==null;)r=d.next,d=d.parent}}#o(t){for(const r of t)((r.f&Ye)!==0?this.#f:this.#v).push(r),Ne(r,Ae);t.length=0}capture(t,r){this.#s.has(t)||this.#s.set(t,r),this.current.set(t,t.v)}activate(){oe=this}deactivate(){oe=null,In=null;for(const t of vr)if(vr.delete(t),t(),oe!==null)break}neuter(){this.#u=!0}flush(){Nt.length>0?ga():this.#_(),oe===this&&(this.#c===0&&rr.delete(this),this.deactivate())}#_(){if(!this.#u)for(const t of this.#t)t();this.#t.clear()}increment(){this.#c+=1}decrement(){if(this.#c-=1,this.#c===0){for(const t of this.#f)Ne(t,Ye),Qt(t);for(const t of this.#v)Ne(t,mt),Qt(t);this.#e=[],this.#r=[],this.flush()}else this.deactivate()}add_callback(t){this.#t.add(t)}settled(){return(this.#l??=As()).promise}static ensure(){if(oe===null){const t=oe=new _t;rr.add(oe),fn||_t.enqueue(()=>{oe===t&&t.flush()})}return oe}static enqueue(t){Dt(t)}}function el(e){var t=fn;fn=!0;try{for(var r;;){if(Xs(),Nt.length===0&&!Ks()&&(oe?.flush(),Nt.length===0))return Bn=null,r;ga()}}finally{fn=t}}function ga(){var e=qt;ur=!0;try{var t=0;for(Xr(!0);Nt.length>0;){var r=_t.ensure();if(t++>1e3){var s,l;tl()}r.process(Nt),zt.clear()}}finally{ur=!1,Xr(e),Bn=null}}function tl(){try{Ls()}catch(e){Yt(e,Bn)}}let Mt=null;function qr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var s=e[r++];if((s.f&(en|at))===0&&gn(s)&&(Mt=[],Rt(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Na(s):s.fn=null),Mt?.length>0)){zt.clear();for(const l of Mt)Rt(l);Mt=[]}}Mt=null}}function Qt(e){for(var t=Bn=e;t.parent!==null;){t=t.parent;var r=t.f;if(ur&&t===j&&(r&Zt)!==0)return;if((r&(Lt|pt))!==0){if((r&Ae)===0)return;t.f^=Ae}}Nt.push(t)}function nl(e){let t=0,r=Ot(0),s;return()=>{pl()&&(n(r),bn(()=>(t===0&&(s=S(()=>e(()=>cn(r)))),t+=1,()=>{Dt(()=>{t-=1,t===0&&(s?.(),s=void 0,cn(r))})})))}}var rl=Pn|tn|mr;function al(e,t,r){new sl(e,t,r)}class sl{parent;#s=!1;#t;#c=null;#l;#u;#a;#n=null;#e=null;#r=null;#i=null;#f=0;#v=0;#d=!1;#o=null;#_=()=>{this.#o&&Kt(this.#o,this.#f)};#b=nl(()=>(this.#o=Ot(this.#f),()=>{this.#o=null}));constructor(t,r,s){this.#t=t,this.#l=r,this.#u=s,this.parent=j.b,this.#s=!!this.#l.pending,this.#a=zr(()=>{j.b=this;{try{this.#n=nt(()=>s(this.#t))}catch(l){this.error(l)}this.#v>0?this.#p():this.#s=!1}},rl)}#g(){try{this.#n=nt(()=>this.#u(this.#t))}catch(t){this.error(t)}this.#s=!1}#y(){const t=this.#l.pending;t&&(this.#e=nt(()=>t(this.#t)),_t.enqueue(()=>{this.#n=this.#h(()=>(_t.ensure(),nt(()=>this.#u(this.#t)))),this.#v>0?this.#p():(Jt(this.#e,()=>{this.#e=null}),this.#s=!1)}))}is_pending(){return this.#s||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#l.pending}#h(t){var r=j,s=V,l=ve;vt(this.#a),Fe(this.#a),$t(this.#a.ctx);try{return t()}catch(o){return ma(o),null}finally{vt(r),Fe(s),$t(l)}}#p(){const t=this.#l.pending;this.#n!==null&&(this.#i=document.createDocumentFragment(),ll(this.#n,this.#i)),this.#e===null&&(this.#e=nt(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#v+=t,this.#v===0&&(this.#s=!1,this.#e&&Jt(this.#e,()=>{this.#e=null}),this.#i&&(this.#t.before(this.#i),this.#i=null))}update_pending_count(t){this.#m(t),this.#f+=t,vr.add(this.#_)}get_effect_pending(){return this.#b(),n(this.#o)}error(t){var r=this.#l.onerror;let s=this.#l.failed;if(this.#d||!r&&!s)throw t;this.#n&&($e(this.#n),this.#n=null),this.#e&&($e(this.#e),this.#e=null),this.#r&&($e(this.#r),this.#r=null);var l=!1,o=!1;const f=()=>{if(l){Ws();return}l=!0,o&&Hs(),_t.ensure(),this.#f=0,this.#r!==null&&Jt(this.#r,()=>{this.#r=null}),this.#s=this.has_pending_snippet(),this.#n=this.#h(()=>(this.#d=!1,nt(()=>this.#u(this.#t)))),this.#v>0?this.#p():this.#s=!1};var c=V;try{Fe(null),o=!0,r?.(t,f),o=!1}catch(v){Yt(v,this.#a&&this.#a.parent)}finally{Fe(c)}s&&Dt(()=>{this.#r=this.#h(()=>{this.#d=!0;try{return nt(()=>{s(this.#t,()=>t,()=>f)})}catch(v){return Yt(v,this.#a.parent),null}finally{this.#d=!1}})})}}function ll(e,t){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var l=r===s?null:mn(r);t.append(r),r=l}}function il(e,t,r){const s=hn()?wr:wa;if(t.length===0){r(e.map(s));return}var l=oe,o=j,f=ol();Promise.all(t.map(c=>vl(c))).then(c=>{l?.activate(),f();try{r([...e.map(s),...c])}catch(v){(o.f&en)===0&&Yt(v,o)}l?.deactivate(),ya()}).catch(c=>{Yt(c,o)})}function ol(){var e=j,t=V,r=ve,s=oe;return function(){vt(e),Fe(t),$t(r),s?.activate()}}function ya(){vt(null),Fe(null),$t(null)}function wr(e){var t=Ge|Ye,r=V!==null&&(V.f&Ge)!==0?V:null;return j===null||r!==null&&(r.f&qe)!==0?t|=qe:j.f|=tn,{ctx:ve,deps:null,effects:null,equals:ca,f:t,fn:e,reactions:null,rv:0,v:Te,wv:0,parent:r??j,ac:null}}function vl(e,t){let r=j;r===null&&Is();var s=r.b,l=void 0,o=Ot(Te),f=null,c=!V;return El(()=>{try{var v=e();f&&Promise.resolve(v).catch(()=>{})}catch(y){v=Promise.reject(y)}var d=()=>v;l=f?.then(d,d)??Promise.resolve(v),f=l;var _=oe,b=s.is_pending();c&&(s.update_pending_count(1),b||_.increment());const E=(y,h=void 0)=>{f=null,b||_.activate(),h?h!==yr&&(o.f|=Ct,Kt(o,h)):((o.f&Ct)!==0&&(o.f^=Ct),Kt(o,y)),c&&(s.update_pending_count(-1),b||_.decrement()),ya()};if(l.then(E,y=>E(null,y||"unknown")),_)return()=>{queueMicrotask(()=>_.neuter())}}),new Promise(v=>{function d(_){function b(){_===l?v(o):d(l)}_.then(b,b)}d(l)})}function wa(e){const t=wr(e);return t.equals=da,t}function Ea(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)$e(t[r])}}function ul(e){for(var t=e.parent;t!==null;){if((t.f&Ge)===0)return t;t=t.parent}return null}function Er(e){var t,r=j;vt(ul(e));try{Ea(e),t=Ha(e)}finally{vt(r)}return t}function za(e){var t=Er(e);if(e.equals(t)||(e.v=t,e.wv=Fa()),!nn){var r=(Et||(e.f&qe)!==0)&&e.deps!==null?mt:Ae;Ne(e,r)}}const zt=new Map;function Ot(e,t){var r={f:0,v:e,reactions:null,equals:ca,rv:0,wv:0};return r}function gt(e,t){const r=Ot(e);return xl(r),r}function C(e,t=!1,r=!0){const s=Ot(e);return t||(s.equals=da),_n&&r&&ve!==null&&ve.l!==null&&(ve.l.s??=[]).push(s),s}function a(e,t,r=!1){V!==null&&(!rt||(V.f&Jr)!==0)&&hn()&&(V.f&(Ge|Zt|gr|Jr))!==0&&!ht?.includes(e)&&Ps();let s=r?on(t):t;return Kt(e,s)}function Kt(e,t){if(!e.equals(t)){var r=e.v;nn?zt.set(e,t):zt.set(e,r),e.v=t;var s=_t.ensure();s.capture(e,r),(e.f&Ge)!==0&&((e.f&Ye)!==0&&Er(e),Ne(e,(e.f&qe)===0?Ae:mt)),e.wv=Fa(),ka(e,Ye),hn()&&j!==null&&(j.f&Ae)!==0&&(j.f&(pt|Lt))===0&&(Je===null?Sl([e]):Je.push(e))}return t}function $r(e,t=1){var r=n(e),s=t===1?r++:r--;return a(e,r),s}function cn(e){a(e,e.v+1)}function ka(e,t){var r=e.reactions;if(r!==null)for(var s=hn(),l=r.length,o=0;o<l;o++){var f=r[o],c=f.f;if(!(!s&&f===j)){var v=(c&Ye)===0;v&&Ne(f,t),(c&Ge)!==0?ka(f,mt):v&&((c&Zt)!==0&&Mt!==null&&Mt.push(f),Qt(f))}}}function on(e){if(typeof e!="object"||e===null||Wt in e)return e;const t=hr(e);if(t!==xs&&t!==Ss)return e;var r=new Map,s=dr(e),l=gt(0),o=It,f=c=>{if(It===o)return c();var v=V,d=It;Fe(null),ea(o);var _=c();return Fe(v),ea(d),_};return s&&r.set("length",gt(e.length)),new Proxy(e,{defineProperty(c,v,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Ds();var _=r.get(v);return _===void 0?_=f(()=>{var b=gt(d.value);return r.set(v,b),b}):a(_,d.value,!0),!0},deleteProperty(c,v){var d=r.get(v);if(d===void 0){if(v in c){const _=f(()=>gt(Te));r.set(v,_),cn(l)}}else a(d,Te),cn(l);return!0},get(c,v,d){if(v===Wt)return e;var _=r.get(v),b=v in c;if(_===void 0&&(!b||un(c,v)?.writable)&&(_=f(()=>{var y=on(b?c[v]:Te),h=gt(y);return h}),r.set(v,_)),_!==void 0){var E=n(_);return E===Te?void 0:E}return Reflect.get(c,v,d)},getOwnPropertyDescriptor(c,v){var d=Reflect.getOwnPropertyDescriptor(c,v);if(d&&"value"in d){var _=r.get(v);_&&(d.value=n(_))}else if(d===void 0){var b=r.get(v),E=b?.v;if(b!==void 0&&E!==Te)return{enumerable:!0,configurable:!0,value:E,writable:!0}}return d},has(c,v){if(v===Wt)return!0;var d=r.get(v),_=d!==void 0&&d.v!==Te||Reflect.has(c,v);if(d!==void 0||j!==null&&(!_||un(c,v)?.writable)){d===void 0&&(d=f(()=>{var E=_?on(c[v]):Te,y=gt(E);return y}),r.set(v,d));var b=n(d);if(b===Te)return!1}return _},set(c,v,d,_){var b=r.get(v),E=v in c;if(s&&v==="length")for(var y=d;y<b.v;y+=1){var h=r.get(y+"");h!==void 0?a(h,Te):y in c&&(h=f(()=>gt(Te)),r.set(y+"",h))}if(b===void 0)(!E||un(c,v)?.writable)&&(b=f(()=>gt(void 0)),a(b,on(d)),r.set(v,b));else{E=b.v!==Te;var z=f(()=>on(d));a(b,z)}var I=Reflect.getOwnPropertyDescriptor(c,v);if(I?.set&&I.set.call(_,d),!E){if(s&&typeof v=="string"){var X=r.get("length"),N=Number(v);Number.isInteger(N)&&N>=X.v&&a(X,N+1)}cn(l)}return!0},ownKeys(c){n(l);var v=Reflect.ownKeys(c).filter(b=>{var E=r.get(b);return E===void 0||E.v!==Te});for(var[d,_]of r)_.v!==Te&&!(d in c)&&v.push(d);return v},setPrototypeOf(){Fs()}})}var Yr,xa,Sa,Ta;function fl(){if(Yr===void 0){Yr=window,xa=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Sa=un(t,"firstChild").get,Ta=un(t,"nextSibling").get,Wr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Wr(r)&&(r.__t=void 0)}}function pn(e=""){return document.createTextNode(e)}function Xt(e){return Sa.call(e)}function mn(e){return Ta.call(e)}function p(e,t){return Xt(e)}function Ee(e,t=!1){{var r=Xt(e);return r instanceof Comment&&r.data===""?mn(r):r}}function m(e,t=1,r=!1){let s=e;for(;t--;)s=mn(s);return s}function cl(e){e.textContent=""}function Aa(){return!1}function Qr(e,t){{const r=document.body;e.autofocus=!0,Dt(()=>{document.activeElement===r&&e.focus()})}}let Kr=!1;function dl(){Kr||(Kr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Gn(e){var t=V,r=j;Fe(null),vt(null);try{return e()}finally{Fe(t),vt(r)}}function _l(e,t,r,s=r){e.addEventListener(t,()=>Gn(r));const l=e.__on_r;l?e.__on_r=()=>{l(),s(!0)}:e.__on_r=()=>s(!0),dl()}function Ma(e){j===null&&V===null&&Os(),V!==null&&(V.f&qe)!==0&&j===null&&Ns(),nn&&Rs()}function hl(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ut(e,t,r,s=!0){var l=j;l!==null&&(l.f&at)!==0&&(e|=at);var o={ctx:ve,deps:null,nodes_start:null,nodes_end:null,f:e|Ye,first:null,fn:t,last:null,next:null,parent:l,b:l&&l.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Rt(o),o.f|=br}catch(v){throw $e(o),v}else t!==null&&Qt(o);if(s){var f=o;if(r&&f.deps===null&&f.teardown===null&&f.nodes_start===null&&f.first===f.last&&(f.f&tn)===0&&(f=f.first),f!==null&&(f.parent=l,l!==null&&hl(f,l),V!==null&&(V.f&Ge)!==0&&(e&Lt)===0)){var c=V;(c.effects??=[]).push(f)}}return o}function pl(){return V!==null&&!rt}function ml(e){const t=ut(Fn,null,!1);return Ne(t,Ae),t.teardown=e,t}function fr(e){Ma();var t=j.f,r=!V&&(t&pt)!==0&&(t&br)===0;if(r){var s=ve;(s.e??=[]).push(e)}else return Ca(e)}function Ca(e){return ut(pr|va,e,!1)}function bl(e){return Ma(),ut(Fn|va,e,!0)}function gl(e){_t.ensure();const t=ut(Lt|tn,e,!0);return(r={})=>new Promise(s=>{r.outro?Jt(t,()=>{$e(t),s(void 0)}):($e(t),s(void 0))})}function yl(e){return ut(pr,e,!1)}function Gt(e,t){var r=ve,s={effect:null,ran:!1,deps:e};r.l.$.push(s),s.effect=bn(()=>{e(),!s.ran&&(s.ran=!0,S(t))})}function wl(){var e=ve;bn(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&Ae)!==0&&Ne(r,mt),gn(r)&&Rt(r),t.ran=!1}})}function El(e){return ut(gr|tn,e,!0)}function bn(e,t=0){return ut(Fn|t,e,!0)}function P(e,t=[],r=[]){il(t,r,s=>{ut(Fn,()=>e(...s.map(n)),!0)})}function zr(e,t=0){var r=ut(Zt|t,e,!0);return r}function nt(e,t=!0){return ut(pt|tn,e,!0,t)}function Ia(e){var t=e.teardown;if(t!==null){const r=nn,s=V;Zr(!0),Fe(null);try{t.call(null)}finally{Zr(r),Fe(s)}}}function Ra(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const l=r.ac;l!==null&&Gn(()=>{l.abort(yr)});var s=r.next;(r.f&Lt)!==0?r.parent=null:$e(r,t),r=s}}function zl(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&pt)===0&&$e(t),t=r}}function $e(e,t=!0){var r=!1;(t||(e.f&Ms)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(kl(e.nodes_start,e.nodes_end),r=!0),Ra(e,t&&!r),Ln(e,0),Ne(e,en);var s=e.transitions;if(s!==null)for(const o of s)o.stop();Ia(e);var l=e.parent;l!==null&&l.first!==null&&Na(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function kl(e,t){for(;e!==null;){var r=e===t?null:mn(e);e.remove(),e=r}}function Na(e){var t=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=r))}function Jt(e,t){var r=[];kr(e,r,!0),Oa(r,()=>{$e(e),t&&t()})}function Oa(e,t){var r=e.length;if(r>0){var s=()=>--r||t();for(var l of e)l.out(s)}else t()}function kr(e,t,r){if((e.f&at)===0){if(e.f^=at,e.transitions!==null)for(const f of e.transitions)(f.is_global||r)&&t.push(f);for(var s=e.first;s!==null;){var l=s.next,o=(s.f&Pn)!==0||(s.f&pt)!==0;kr(s,t,o?r:!1),s=l}}}function xr(e){La(e,!0)}function La(e,t){if((e.f&at)!==0){e.f^=at,(e.f&Ae)===0&&(Ne(e,Ye),Qt(e));for(var r=e.first;r!==null;){var s=r.next,l=(r.f&Pn)!==0||(r.f&pt)!==0;La(r,l?t:!1),r=s}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let qt=!1;function Xr(e){qt=e}let nn=!1;function Zr(e){nn=e}let V=null,rt=!1;function Fe(e){V=e}let j=null;function vt(e){j=e}let ht=null;function xl(e){V!==null&&(ht===null?ht=[e]:ht.push(e))}let Re=null,Be=0,Je=null;function Sl(e){Je=e}let Da=1,dn=0,It=dn;function ea(e){It=e}let Et=!1;function Fa(){return++Da}function gn(e){var t=e.f;if((t&Ye)!==0)return!0;if((t&mt)!==0){var r=e.deps,s=(t&qe)!==0;if(r!==null){var l,o,f=(t&Nn)!==0,c=s&&j!==null&&!Et,v=r.length;if((f||c)&&(j===null||(j.f&en)===0)){var d=e,_=d.parent;for(l=0;l<v;l++)o=r[l],(f||!o?.reactions?.includes(d))&&(o.reactions??=[]).push(d);f&&(d.f^=Nn),c&&_!==null&&(_.f&qe)===0&&(d.f^=qe)}for(l=0;l<v;l++)if(o=r[l],gn(o)&&za(o),o.wv>e.wv)return!0}(!s||j!==null&&!Et)&&Ne(e,Ae)}return!1}function Pa(e,t,r=!0){var s=e.reactions;if(s!==null&&!ht?.includes(e))for(var l=0;l<s.length;l++){var o=s[l];(o.f&Ge)!==0?Pa(o,t,!1):t===o&&(r?Ne(o,Ye):(o.f&Ae)!==0&&Ne(o,mt),Qt(o))}}function Ha(e){var t=Re,r=Be,s=Je,l=V,o=Et,f=ht,c=ve,v=rt,d=It,_=e.f;Re=null,Be=0,Je=null,Et=(_&qe)!==0&&(rt||!qt||V===null),V=(_&(pt|Lt))===0?e:null,ht=null,$t(e.ctx),rt=!1,It=++dn,e.ac!==null&&(Gn(()=>{e.ac.abort(yr)}),e.ac=null);try{e.f|=or;var b=e.fn,E=b(),y=e.deps;if(Re!==null){var h;if(Ln(e,Be),y!==null&&Be>0)for(y.length=Be+Re.length,h=0;h<Re.length;h++)y[Be+h]=Re[h];else e.deps=y=Re;if(!Et||(_&Ge)!==0&&e.reactions!==null)for(h=Be;h<y.length;h++)(y[h].reactions??=[]).push(e)}else y!==null&&Be<y.length&&(Ln(e,Be),y.length=Be);if(hn()&&Je!==null&&!rt&&y!==null&&(e.f&(Ge|mt|Ye))===0)for(h=0;h<Je.length;h++)Pa(Je[h],e);return l!==null&&l!==e&&(dn++,Je!==null&&(s===null?s=Je:s.push(...Je))),(e.f&Ct)!==0&&(e.f^=Ct),E}catch(z){return ma(z)}finally{e.f^=or,Re=t,Be=r,Je=s,V=l,Et=o,ht=f,$t(c),rt=v,It=d}}function Tl(e,t){let r=t.reactions;if(r!==null){var s=ks.call(r,e);if(s!==-1){var l=r.length-1;l===0?r=t.reactions=null:(r[s]=r[l],r.pop())}}r===null&&(t.f&Ge)!==0&&(Re===null||!Re.includes(t))&&(Ne(t,mt),(t.f&(qe|Nn))===0&&(t.f^=Nn),Ea(t),Ln(t,0))}function Ln(e,t){var r=e.deps;if(r!==null)for(var s=t;s<r.length;s++)Tl(e,r[s])}function Rt(e){var t=e.f;if((t&en)===0){Ne(e,Ae);var r=j,s=qt;j=e,qt=!0;try{(t&Zt)!==0?zl(e):Ra(e),Ia(e);var l=Ha(e);e.teardown=typeof l=="function"?l:null,e.wv=Da;var o;ia&&$s&&(e.f&Ye)!==0&&e.deps}finally{qt=s,j=r}}}async function Al(){await Promise.resolve(),el()}function n(e){var t=e.f,r=(t&Ge)!==0;if(V!==null&&!rt){var s=j!==null&&(j.f&en)!==0;if(!s&&!ht?.includes(e)){var l=V.deps;if((V.f&or)!==0)e.rv<dn&&(e.rv=dn,Re===null&&l!==null&&l[Be]===e?Be++:Re===null?Re=[e]:(!Et||!Re.includes(e))&&Re.push(e));else{(V.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[V]:o.includes(V)||o.push(V)}}}else if(r&&e.deps===null&&e.effects===null){var f=e,c=f.parent;c!==null&&(c.f&qe)===0&&(f.f^=qe)}if(nn){if(zt.has(e))return zt.get(e);if(r){f=e;var v=f.v;return((f.f&Ae)===0&&f.reactions!==null||Va(f))&&(v=Er(f)),zt.set(f,v),v}}else r&&(f=e,gn(f)&&za(f));if((e.f&Ct)!==0)throw e.v;return e.v}function Va(e){if(e.v===Te)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(zt.has(t)||(t.f&Ge)!==0&&Va(t))return!0;return!1}function S(e){var t=rt;try{return rt=!0,e()}finally{rt=t}}const Ml=-7169;function Ne(e,t){e.f=e.f&Ml|t}function Cl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Wt in e)cr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Wt in r&&cr(r)}}}function cr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let s in e)try{cr(e[s],t)}catch{}const r=hr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=oa(r);for(let l in s){const o=s[l].get;if(o)try{o.call(e)}catch{}}}}}const Il=["touchstart","touchmove"];function Rl(e){return Il.includes(e)}const Nl=new Set,ta=new Set;function Ol(e,t,r,s={}){function l(o){if(s.capture||vn.call(t,o),!o.cancelBubble)return Gn(()=>r?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Dt(()=>{t.addEventListener(e,l,s)}):t.addEventListener(e,l,s),l}function $(e,t,r,s,l){var o={capture:s,passive:l},f=Ol(e,t,r,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ml(()=>{t.removeEventListener(e,f,o)})}let na=null;function vn(e){var t=this,r=t.ownerDocument,s=e.type,l=e.composedPath?.()||[],o=l[0]||e.target;na=e;var f=0,c=na===e&&e.__root;if(c){var v=l.indexOf(c);if(v!==-1&&(t===document||t===window)){e.__root=t;return}var d=l.indexOf(t);if(d===-1)return;v<=d&&(f=v)}if(o=l[f]||e.target,o!==t){ir(e,"currentTarget",{configurable:!0,get(){return o||r}});var _=V,b=j;Fe(null),vt(null);try{for(var E,y=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var z=o["__"+s];if(z!=null&&(!o.disabled||e.target===o))if(dr(z)){var[I,...X]=z;I.apply(o,[e,...X])}else z.call(o,e)}catch(N){E?y.push(N):E=N}if(e.cancelBubble||h===t||h===null)break;o=h}if(E){for(let N of y)queueMicrotask(()=>{throw N});throw E}}finally{e.__root=t,delete e.currentTarget,Fe(_),vt(b)}}}function Ba(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Dn(e,t){var r=j;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function x(e,t){var r=(t&Gs)!==0,s=(t&js)!==0,l,o=!e.startsWith("<!>");return()=>{l===void 0&&(l=Ba(o?e:"<!>"+e),r||(l=Xt(l)));var f=s||xa?document.importNode(l,!0):l.cloneNode(!0);if(r){var c=Xt(f),v=f.lastChild;Dn(c,v)}else Dn(f,f);return f}}function Ll(e,t,r="svg"){var s=!e.startsWith("<!>"),l=`<${r}>${s?e:"<!>"+e}</${r}>`,o;return()=>{if(!o){var f=Ba(l),c=Xt(f);o=Xt(c)}var v=o.cloneNode(!0);return Dn(v,v),v}}function jn(e,t){return Ll(e,t,"svg")}function yt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=pn();return e.append(t,r),Dn(t,r),e}function g(e,t){e!==null&&e.before(t)}function H(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Dl(e,t){return Fl(e,t)}const jt=new Map;function Fl(e,{target:t,anchor:r,props:s={},events:l,context:o,intro:f=!0}){fl();var c=new Set,v=b=>{for(var E=0;E<b.length;E++){var y=b[E];if(!c.has(y)){c.add(y);var h=Rl(y);t.addEventListener(y,vn,{passive:h});var z=jt.get(y);z===void 0?(document.addEventListener(y,vn,{passive:h}),jt.set(y,1)):jt.set(y,z+1)}}};v(_r(Nl)),ta.add(v);var d=void 0,_=gl(()=>{var b=r??t.appendChild(pn());return al(b,{pending:()=>{}},E=>{if(o){_a({});var y=ve;y.c=o}l&&(s.$$events=l),d=e(E,s)||{},o&&ha()}),()=>{for(var E of c){t.removeEventListener(E,vn);var y=jt.get(E);--y===0?(document.removeEventListener(E,vn),jt.delete(E)):jt.set(E,y)}ta.delete(v),b!==r&&b.parentNode?.removeChild(b)}});return Pl.set(d,_),d}let Pl=new WeakMap;function O(e,t,r=!1){var s=e,l=null,o=null,f=Te,c=r?Pn:0,v=!1;const d=(y,h=!0)=>{v=!0,E(h,y)};var _=null;function b(){_!==null&&(_.lastChild.remove(),s.before(_),_=null);var y=f?l:o,h=f?o:l;y&&xr(y),h&&Jt(h,()=>{f?o=null:l=null})}const E=(y,h)=>{if(f!==(f=y)){var z=Aa(),I=s;if(z&&(_=document.createDocumentFragment(),_.append(I=pn())),f?l??=h&&nt(()=>h(I)):o??=h&&nt(()=>h(I)),z){var X=oe,N=f?l:o,J=f?o:l;N&&X.skipped_effects.delete(N),J&&X.skipped_effects.add(J),X.add_callback(b)}else b()}};zr(()=>{v=!1,t(d),v||E(null,null)},c)}function et(e,t){return t}function Hl(e,t,r){for(var s=e.items,l=[],o=t.length,f=0;f<o;f++)kr(t[f].e,l,!0);var c=o>0&&l.length===0&&r!==null;if(c){var v=r.parentNode;cl(v),v.append(r),s.clear(),ot(e,t[0].prev,t[o-1].next)}Oa(l,()=>{for(var d=0;d<o;d++){var _=t[d];c||(s.delete(_.k),ot(e,_.prev,_.next)),$e(_.e,!c)}})}function tt(e,t,r,s,l,o=null){var f=e,c={flags:t,items:new Map,first:null},v=(t&fa)!==0;if(v){var d=e;f=d.appendChild(pn())}var _=null,b=!1,E=new Map,y=wa(()=>{var X=r();return dr(X)?X:X==null?[]:_r(X)}),h,z;function I(){Vl(z,h,c,E,f,l,t,s,r),o!==null&&(h.length===0?_?xr(_):_=nt(()=>o(f)):_!==null&&Jt(_,()=>{_=null}))}zr(()=>{z??=j,h=n(y);var X=h.length;if(!(b&&X===0)){b=X===0;var N,J,ye,Z;if(Aa()){var L=new Set,q=oe;for(J=0;J<X;J+=1){ye=h[J],Z=s(ye,J);var he=c.items.get(Z)??E.get(Z);he?(t&(Hn|Vn))!==0&&Ga(he,ye,J,t):(N=ja(null,c,null,null,ye,Z,J,l,t,r,!0),E.set(Z,N)),L.add(Z)}for(const[kt,xt]of c.items)L.has(kt)||q.skipped_effects.add(xt.e);q.add_callback(I)}else I();n(y)}})}function Vl(e,t,r,s,l,o,f,c,v){var d=(f&Vs)!==0,_=(f&(Hn|Vn))!==0,b=t.length,E=r.items,y=r.first,h=y,z,I=null,X,N=[],J=[],ye,Z,L,q;if(d)for(q=0;q<b;q+=1)ye=t[q],Z=c(ye,q),L=E.get(Z),L!==void 0&&(L.a?.measure(),(X??=new Set).add(L));for(q=0;q<b;q+=1){if(ye=t[q],Z=c(ye,q),L=E.get(Z),L===void 0){var he=s.get(Z);if(he!==void 0){s.delete(Z),E.set(Z,he);var kt=I?I.next:h;ot(r,I,he),ot(r,he,kt),ar(he,kt,l),I=he}else{var xt=h?h.e.nodes_start:l;I=ja(xt,r,I,I===null?r.first:I.next,ye,Z,q,o,f,v)}E.set(Z,I),N=[],J=[],h=I.next;continue}if(_&&Ga(L,ye,q,f),(L.e.f&at)!==0&&(xr(L.e),d&&(L.a?.unfix(),(X??=new Set).delete(L))),L!==h){if(z!==void 0&&z.has(L)){if(N.length<J.length){var st=J[0],ze;I=st.prev;var Oe=N[0],Qe=N[N.length-1];for(ze=0;ze<N.length;ze+=1)ar(N[ze],st,l);for(ze=0;ze<J.length;ze+=1)z.delete(J[ze]);ot(r,Oe.prev,Qe.next),ot(r,I,Oe),ot(r,Qe,st),h=st,I=Qe,q-=1,N=[],J=[]}else z.delete(L),ar(L,h,l),ot(r,L.prev,L.next),ot(r,L,I===null?r.first:I.next),ot(r,I,L),I=L;continue}for(N=[],J=[];h!==null&&h.k!==Z;)(h.e.f&at)===0&&(z??=new Set).add(h),J.push(h),h=h.next;if(h===null)continue;L=h}N.push(L),I=L,h=L.next}if(h!==null||z!==void 0){for(var Me=z===void 0?[]:_r(z);h!==null;)(h.e.f&at)===0&&Me.push(h),h=h.next;var ce=Me.length;if(ce>0){var lt=(f&fa)!==0&&b===0?l:null;if(d){for(q=0;q<ce;q+=1)Me[q].a?.measure();for(q=0;q<ce;q+=1)Me[q].a?.fix()}Hl(r,Me,lt)}}d&&Dt(()=>{if(X!==void 0)for(L of X)L.a?.apply()}),e.first=r.first&&r.first.e,e.last=I&&I.e;for(var ee of s.values())$e(ee.e);s.clear()}function Ga(e,t,r,s){(s&Hn)!==0&&Kt(e.v,t),(s&Vn)!==0?Kt(e.i,r):e.i=r}function ja(e,t,r,s,l,o,f,c,v,d,_){var b=(v&Hn)!==0,E=(v&Bs)===0,y=b?E?C(l,!1,!1):Ot(l):l,h=(v&Vn)===0?f:Ot(f),z={i:h,v:y,k:o,a:null,e:null,prev:r,next:s};try{if(e===null){var I=document.createDocumentFragment();I.append(e=pn())}return z.e=nt(()=>c(e,y,h,d),Js),z.e.prev=r&&r.e,z.e.next=s&&s.e,r===null?_||(t.first=z):(r.next=z,r.e.next=z.e),s!==null&&(s.prev=z,s.e.prev=z.e),z}finally{}}function ar(e,t,r){for(var s=e.next?e.next.e.nodes_start:r,l=t?t.e.nodes_start:r,o=e.e.nodes_start;o!==null&&o!==s;){var f=mn(o);l.before(o),o=f}}function ot(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Bl(e,t,r){var s=e==null?"":""+e;return s=s?s+" "+t:t,s===""?null:s}function Gl(e,t){return e==null?null:String(e)}function Ut(e,t,r,s,l,o){var f=e.__className;if(f!==r||f===void 0){var c=Bl(r,s);c==null?e.removeAttribute("class"):e.className=c,e.__className=r}return o}function Cn(e,t,r,s){var l=e.__style;if(l!==t){var o=Gl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return s}const jl=Symbol("is custom element"),Ul=Symbol("is html");function Ie(e,t,r,s){var l=Wl(e);l[t]!==(l[t]=r)&&(t==="loading"&&(e[Cs]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Jl(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Wl(e){return e.__attributes??={[jl]:e.nodeName.includes("-"),[Ul]:e.namespaceURI===Us}}var ra=new Map;function Jl(e){var t=e.getAttribute("is")||e.nodeName,r=ra.get(t);if(r)return r;ra.set(t,r=[]);for(var s,l=e,o=Element.prototype;o!==l;){s=oa(l);for(var f in s)s[f].set&&r.push(f);l=hr(l)}return r}function aa(e,t,r=t){var s=new WeakSet;_l(e,"input",async l=>{var o=l?e.defaultValue:e.value;if(o=sr(e)?lr(o):o,r(o),oe!==null&&s.add(oe),await Al(),o!==(o=t())){var f=e.selectionStart,c=e.selectionEnd;e.value=o??"",c!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(c,e.value.length))}}),S(t)==null&&e.value&&(r(sr(e)?lr(e.value):e.value),oe!==null&&s.add(oe)),bn(()=>{var l=t();if(e===document.activeElement){var o=In??oe;if(s.has(o))return}sr(e)&&l===lr(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function sr(e){var t=e.type;return t==="number"||t==="range"}function lr(e){return e===""?null:+e}function sa(e,t){return e===t||e?.[Wt]===t}function ql(e={},t,r,s){return yl(()=>{var l,o;return bn(()=>{l=o,o=[],S(()=>{e!==r(...o)&&(t(e,...o),l&&sa(r(...l),e)&&t(null,...l))})}),()=>{Dt(()=>{o&&sa(r(...o),e)&&t(null,...o)})}}),e}function $l(e=!1){const t=ve,r=t.l.u;if(!r)return;let s=()=>Cl(t.s);if(e){let l=0,o={};const f=wr(()=>{let c=!1;const v=t.s;for(const d in v)v[d]!==o[d]&&(o[d]=v[d],c=!0);return c&&l++,l});s=()=>n(f)}r.b.length&&bl(()=>{la(t,s),Rn(r.b)}),fr(()=>{const l=S(()=>r.m.map(Ts));return()=>{for(const o of l)typeof o=="function"&&o()}}),r.a.length&&fr(()=>{la(t,s),Rn(r.a)})}function la(e,t){if(e.l.s)for(const r of e.l.s)n(r);t()}function Ua(e){ve===null&&ua(),_n&&ve.l!==null?Ql(ve).m.push(e):fr(()=>{const t=S(e);if(typeof t=="function")return t})}function Yl(e){ve===null&&ua(),Ua(()=>()=>S(e))}function Ql(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Kl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Kl);Ys();var Xl=x('<div class="rejoin-error svelte-zv9a4n"> </div>'),Zl=x('<div class="rejoin-section svelte-zv9a4n"><div class="rejoin-info svelte-zv9a4n">Resume room <strong class="svelte-zv9a4n"> </strong> as <strong class="svelte-zv9a4n"> </strong>?</div> <!> <div class="rejoin-btns svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Rejoin Game</button> <button class="rejoin-dismiss-btn svelte-zv9a4n">Dismiss</button></div></div> <hr class="rejoin-divider svelte-zv9a4n"/>',1),ei=x(`<div class="splash-screen svelte-zv9a4n"><div class="splash-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <!> <div class="splash-actions svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Start Single Player</button> <div class="splash-multiplayer svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Join Multiplayer</button> <button class="start-btn svelte-zv9a4n">Start Multiplayer</button></div> <button class="change-name-btn svelte-zv9a4n">Change Name</button></div></div></div>`),ti=x('<div class="mp-error svelte-zv9a4n"> </div>'),ni=x('<h2 class="mp-title svelte-zv9a4n"> </h2> <input class="mp-input svelte-zv9a4n" type="text" placeholder="Your name"/> <!> <div class="mp-btn-row svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Back</button> <button class="start-btn svelte-zv9a4n"> </button></div>',1),ri=x('<div class="mp-error svelte-zv9a4n"> </div>'),ai=x('<h2 class="mp-title svelte-zv9a4n">Join a Room</h2> <input class="mp-input mp-token-input svelte-zv9a4n" type="text" placeholder="6-character room code (A–F, 0–9)"/> <!> <div class="mp-btn-row svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Back</button> <button class="start-btn svelte-zv9a4n">Next</button></div>',1),si=x('<div class="mp-connecting svelte-zv9a4n">Connecting…</div>'),li=x('<span class="starting-letter svelte-zv9a4n"> </span>'),ii=x('<div class="mp-starting-screen svelte-zv9a4n"><div class="mp-starting-word svelte-zv9a4n"><!> <span class="starting-ellipsis svelte-zv9a4n">…</span></div></div>'),oi=x('<div class="mp-share-label svelte-zv9a4n">Share this code with friends:</div> <div class="mp-token-display svelte-zv9a4n"> <button class="mp-copy-btn svelte-zv9a4n">Copy</button></div>',1),vi=x('<div class="mp-room-label svelte-zv9a4n">Room: <strong class="svelte-zv9a4n"> </strong></div>'),ui=x('<span class="lobby-host-badge svelte-zv9a4n">Host</span>'),fi=x('<div><!> <span class="svelte-zv9a4n"> </span></div>'),ci=x('<div class="mp-error svelte-zv9a4n"> </div>'),di=x('<button class="start-btn svelte-zv9a4n">Start Game</button>'),_i=x('<div class="mp-waiting svelte-zv9a4n">Waiting for host to start…</div>'),hi=x('<h2 class="mp-title svelte-zv9a4n">Game Lobby</h2> <!> <div class="lobby-players svelte-zv9a4n"></div> <!> <div class="mp-btn-row svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Leave</button> <!></div>',1),pi=x(`<div class="mp-overlay svelte-zv9a4n"><div class="mp-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <!></div></div>`),mi=jn('<svg class="trophy-svg svelte-zv9a4n" viewBox="0 0 24 24"><path d="M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H9v2h6v-2h-2v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z" class="svelte-zv9a4n"></path></svg>'),bi=x('<span class="win-badge svelte-zv9a4n"> </span>'),gi=x('<div><span class="mp-end-lb-rank svelte-zv9a4n"></span> <span class="mp-end-lb-name svelte-zv9a4n"> <!> <!></span> <span class="mp-end-lb-score svelte-zv9a4n"> </span></div>'),yi=x('<div class="mp-end-leaderboard svelte-zv9a4n"><h4 class="mp-end-lb-heading svelte-zv9a4n">Final Standings:</h4> <!></div>'),wi=x('<div class="rematch-cancel-msg svelte-zv9a4n"> </div>'),Ei=x('<span> <span class="word-pts svelte-zv9a4n"> </span></span>'),zi=x('<div class="mp-words-list svelte-zv9a4n"></div>'),ki=x('<div class="no-words svelte-zv9a4n">No words found.</div>'),xi=x('<span class="found-word svelte-zv9a4n"> <span class="word-pts svelte-zv9a4n"> </span></span>'),Si=x('<div class="mp-words-list svelte-zv9a4n"></div>'),Ti=x('<button class="start-btn svelte-zv9a4n">Rematch</button>'),Ai=x(`<div class="splash-screen end-splash svelte-zv9a4n"><div class="splash-inner end-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <div class="end-summary svelte-zv9a4n"><!> <!> <div class="end-score svelte-zv9a4n"> <span class="big-score svelte-zv9a4n"> </span></div> <h4 class="svelte-zv9a4n">Your Words:</h4> <div class="end-words-scroll svelte-zv9a4n"><!></div> <div style="margin-top:12px; text-align:center; display:flex; gap:12px; justify-content:center; flex-wrap:wrap;" class="svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">View Board</button> <!> <button class="start-btn svelte-zv9a4n">Main Menu</button> <button class="change-name-btn svelte-zv9a4n">Change Name</button></div></div></div></div>`),Mi=x('<span class="rematch-status-ok svelte-zv9a4n">✓</span>'),Ci=x('<span class="rematch-status-wait svelte-zv9a4n">…</span>'),Ii=x('<div class="rematch-vote-row svelte-zv9a4n"><!> <span class="svelte-zv9a4n"> </span></div>'),Ri=x('<button class="start-btn svelte-zv9a4n">Join Rematch!</button> <div style="margin-top:10px;" class="svelte-zv9a4n"><button class="rejoin-dismiss-btn svelte-zv9a4n">Back to Results</button> <button class="change-name-btn svelte-zv9a4n">Change Name</button></div>',1),Ni=x('<div class="mp-waiting svelte-zv9a4n">Waiting for others…</div> <div style="margin-top:10px;" class="svelte-zv9a4n"><button class="change-name-btn svelte-zv9a4n">Change Name</button></div>',1),Oi=x('<h2 class="mp-title svelte-zv9a4n">Rematch?</h2> <div class="rematch-timer svelte-zv9a4n"><svg class="hourglass-icon svelte-zv9a4n" width="48" height="48" viewBox="0 0 24 24" fill="#3b2a1a"><path d="M6 2v6l4 4-4 4v6h12v-6l-4-4 4-4V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z" class="svelte-zv9a4n"></path></svg> <span class="rematch-time-num svelte-zv9a4n"> </span></div> <div class="rematch-votes-list svelte-zv9a4n"></div> <!>',1),Li=x('<div class="rematch-vote-row svelte-zv9a4n"><span class="rematch-status-ok svelte-zv9a4n">✓</span> <span class="svelte-zv9a4n"> </span></div>'),Di=x('<h2 class="mp-title svelte-zv9a4n">Get Ready!</h2> <div class="rematch-timer svelte-zv9a4n"><svg class="hourglass-icon svelte-zv9a4n" width="48" height="48" viewBox="0 0 24 24" fill="#3b2a1a"><path d="M6 2v6l4 4-4 4v6h12v-6l-4-4 4-4V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z" class="svelte-zv9a4n"></path></svg> <span class="rematch-time-num svelte-zv9a4n"> </span></div> <div class="rematch-votes-list svelte-zv9a4n"></div> <div class="mp-waiting svelte-zv9a4n">Game starting soon…</div> <div style="margin-top:10px;" class="svelte-zv9a4n"><button class="rejoin-dismiss-btn svelte-zv9a4n">Back to Results</button> <button class="change-name-btn svelte-zv9a4n">Change Name</button></div>',1),Fi=x('<div class="mp-connecting svelte-zv9a4n">Connecting…</div>'),Pi=x(`<div class="rematch-overlay svelte-zv9a4n"><div class="mp-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <!></div></div>`),Hi=x('<span class="selection-number svelte-zv9a4n"> </span>'),Vi=x('<div class="focus-indicator svelte-zv9a4n"></div>'),Bi=x('<div role="button" tabindex="-1"> <!> <!></div>'),Gi=jn('<line stroke="#2196F3" stroke-width="3" stroke-linecap="round" class="svelte-zv9a4n"></line>'),ji=x('<div class="current-word-display svelte-zv9a4n">Current Word: <span> </span></div> <div class="controls-row svelte-zv9a4n"><button class="clear-btn svelte-zv9a4n">Clear</button> <button class="submit-btn svelte-zv9a4n">Submit</button></div>',1),Ui=x('<div class="controls-row center svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">View Results</button></div>'),Wi=x('<div><span class="lb-rank svelte-zv9a4n"></span> <span class="lb-name svelte-zv9a4n"> </span> <span class="lb-score svelte-zv9a4n"> </span></div>'),Ji=x('<div class="leaderboard-panel svelte-zv9a4n"><h3 class="lb-title svelte-zv9a4n">Live Scores</h3> <!></div>'),qi=x('<span class="found-word svelte-zv9a4n"> </span>'),$i=x(`<div class="game-container svelte-zv9a4n"><div class="header-image-wrap svelte-zv9a4n" style="display:none;"><img alt="Hob Gobblin' header" class="header-image svelte-zv9a4n"/></div> <div class="board-and-progress svelte-zv9a4n"><div class="progress-rail svelte-zv9a4n" aria-hidden="true"><div class="progress-fill svelte-zv9a4n"></div></div> <div class="board-container svelte-zv9a4n"><div class="board svelte-zv9a4n"><!> <svg class="connection-lines svelte-zv9a4n" viewBox="0 0 400 400"></svg></div></div></div> <div class="board-controls svelte-zv9a4n"><!></div> <!> <div class="found-words svelte-zv9a4n"><h3 class="svelte-zv9a4n"> </h3> <div class="words-list svelte-zv9a4n"></div></div></div>`),Yi=x('<div class="fullscreen-countdown-overlay svelte-zv9a4n"><div class="countdown-number svelte-zv9a4n"> </div></div>'),Qi=x('<div class="score-popup show svelte-zv9a4n"> </div>'),Ki=x('<div class="disconnect-banner svelte-zv9a4n" role="alert" aria-live="polite"> <button class="mp-dismiss-btn svelte-zv9a4n">x</button></div>'),Xi=jn('<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" class="svelte-zv9a4n"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" class="svelte-zv9a4n"></path></svg>'),Zi=jn('<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" class="svelte-zv9a4n"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" class="svelte-zv9a4n"></path></svg>'),eo=x('<main class="svelte-zv9a4n"><!> <!> <!> <!> <!></main> <!> <!> <!> <button class="mute-btn svelte-zv9a4n"><!></button>',1);function to(e,t){_a(t,!1);const r=C(),s=C(),l=C(),o=C(),f=C(),c="/hob-gobblin/";let v=C([]),d=C([]),_=C(""),b=[],E=new Set,y=180,h=C(y),z=C(!1),I=C(0),X=C(),N=C(0),J=C(!1),ye=C(3),Z=null,L=null,q=null,he=null,kt=C(""),xt=C(!1),st=null,ze=C(!1),Oe=C(!0),Qe=C(!1),Me=C([]),ce=C(!1),lt=C(null),ee=null,it=!1,Ke=C(null),F=C(null),ae=C(""),le=C(""),Xe=C([]),Y=C("none"),Pe=C(null),je=C(""),He=C([]),Ft=C(""),ft=C([]),yn=null,Ve=C("none"),St=C([]),wn=C([]),Pt=null,ct=C(0),pe=null,Un=!1,rn=C(""),Le=C({}),bt=C(!1);const En=["Combobulating","Scrabblizing","Defunkerating","Sporadicizing"];let zn=C(""),kn=null,Ue=C(null),Ht=C("");function Wa(){a(Qe,!1),a(Oe,!1)}const Ja=["AAEEGN","ELRTTY","AOOTTW","ABBJOO","EHRTVW","CIMOTU","DISTTY","EIOSST","DELRVY","ACHOPS","HIMNQU","EEINSU","EEGHNW","AFFKPS","HLNNRZ","DEILRX"];Ua(()=>{qa(),Jn(),document.addEventListener("keydown",Wn),window.addEventListener("beforeunload",Sr);const i=()=>{document.visibilityState==="visible"&&n(ce)&&!it&&n(le)&&n(F)&&(a(Pe,"rejoin"),Qn())};document.addEventListener("visibilitychange",i);try{const u=localStorage.getItem("hobGobblinMuted");u!==null&&a(ze,u==="true")}catch{}try{const u=localStorage.getItem("hobGobblinName");u&&a(ae,u)}catch{}try{const u=sessionStorage.getItem("hobGobblinSession");if(u){const w=JSON.parse(u);w?.roomToken&&w?.playerName&&w?.playerId&&a(Ue,w)}}catch{}return()=>{document.removeEventListener("keydown",Wn),window.removeEventListener("beforeunload",Sr),document.removeEventListener("visibilitychange",i)}});function Sr(i){if(n(z)||n(J)||n(ce)&&(n(Y)==="lobby"||n(Y)==="starting"))return i.preventDefault(),i.returnValue="",""}function xn(){try{sessionStorage.setItem("hobGobblinSession",JSON.stringify({roomToken:n(le),playerName:n(ae),playerId:n(F),mpRole:n(lt)})),history.replaceState(null,"",window.location.pathname+window.location.search+"#"+n(le))}catch{}}function Vt(){try{sessionStorage.removeItem("hobGobblinSession")}catch{}history.replaceState(null,"",window.location.pathname+window.location.search),a(Ue,null)}function Wn(i){if(!(!n(z)||n(J)))if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(i.key)&&i.preventDefault(),i.key==="Escape")An();else if(i.key==="Enter")n(_).length>=3&&Ar();else if(i.key===" "){const u=b.indexOf(n(N));u!==-1?Tr(u):$n(n(N))}else i.key==="ArrowUp"?Sn("up"):i.key==="ArrowDown"?Sn("down"):i.key==="ArrowLeft"?Sn("left"):i.key==="ArrowRight"&&Sn("right")}function Sn(i){const u=Math.floor(n(N)/4),w=n(N)%4;let A=u,we=w;switch(i){case"up":A=Math.max(0,u-1);break;case"down":A=Math.min(3,u+1);break;case"left":we=Math.max(0,w-1);break;case"right":we=Math.min(3,w+1);break}const Ce=A*4+we;Ce!==n(N)&&(a(N,Ce),a(v,[...n(v)]))}async function qa(){try{const w=(await(await fetch(c+"scrabble.txt")).text()).split(`
`).map(A=>A.trim().toUpperCase()).filter(A=>A.length>=3);E=new Set(w),console.log(`Loaded ${E.size} valid words`)}catch(i){console.error("Error loading word list:",i)}}function Jn(){a(v,[]);for(let i=0;i<16;i++){const w=Ja[i],A=w[Math.floor(Math.random()*w.length)];n(v).push({letter:A==="Q"?"Qu":A,value:A==="Q"?"QU":A.toUpperCase(),displayLetter:A==="Q"?"Qu":A,index:i,selected:!1,selectionOrder:-1,flashColor:null})}}function qn(){n(ze)||new Audio(c+"goblinStart.mp3").play().catch(()=>{}),a(d,[]),a(I,0),a(N,0),a(h,180),n(ce)||Jn(),a(J,!0),a(bt,!0),a(ye,3);const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";Z=setInterval(()=>{a(v,n(v).map(u=>({...u,displayLetter:Math.random()<.12?"Qu":i[Math.floor(Math.random()*i.length)]})))},80),L=setInterval(()=>{a(ye,n(ye)-1),n(ye)<=0&&(clearInterval(L),L=null)},1e3),q=setTimeout(()=>{Z&&(clearInterval(Z),Z=null),a(v,n(v).map(u=>({...u,displayLetter:u.letter}))),a(ye,0),q=setTimeout(()=>{a(J,!1),a(z,!0),he=setInterval(()=>{$r(h,-1),n(h)<=0&&(clearInterval(he),he=null,Tn())},1e3)},700)},3e3)}function $a(){a(Oe,!1),setTimeout(()=>qn(),40)}Yl(()=>{Z&&clearInterval(Z),L&&clearInterval(L),q&&clearTimeout(q),he&&clearInterval(he),pe&&clearInterval(pe),document.removeEventListener("keydown",Wn),ee?.close(),sn()});function Tn(){n(z)&&(a(z,!1),he&&(clearInterval(he),he=null),Z&&(clearInterval(Z),Z=null),L&&(clearInterval(L),L=null),q&&(clearTimeout(q),q=null),n(ce)&&n(ft).length>0?a(Me,[...n(ft)]):(a(Me,n(d).map(i=>({word:i,points:Mr(i)}))),n(Me).sort((i,u)=>u.points-i.points||i.word.localeCompare(u.word))),a(Qe,!0),a(Oe,!1),Vt())}function Ya(){if(n(ce)){if(Vt(),ee){try{ee.send(JSON.stringify({type:"LEAVE_ROOM",token:n(le)}))}catch{}ee.close(),ee=null}a(ce,!1),a(lt,null),it=!1,a(F,null),a(le,""),a(Xe,[]),a(He,[]),a(Y,"none"),a(Pe,null),a(je,""),a(Ke,null),a(Ft,"")}a(Qe,!1),a(Oe,!0),a(d,[]),b=[],a(_,""),a(I,0),a(h,180),a(z,!1),a(J,!1),a(bt,!1),a(ft,[]),yn=null,a(Ve,"none"),a(St,[]),a(wn,[]),Pt=null,a(ct,0),pe&&(clearInterval(pe),pe=null),a(rn,""),a(Le,{}),sn(),Jn()}function $n(i){if(!n(z)||n(J))return;a(N,i),a(v,[...n(v)]);const u=n(v)[i],w=b.indexOf(i);if(w!==-1){Tr(w);return}if(b.length===0)b=[i],a(_,u.value),Yn();else{const A=b[b.length-1];Qa(A,i)&&(b.push(i),a(_,n(_)+u.value),Yn())}}function Tr(i){b=b.slice(0,i+1),a(_,"");for(let u=0;u<b.length;u++){const w=b[u];a(_,n(_)+n(v)[w].value)}Yn()}function Yn(){a(v,n(v).map((i,u)=>({...i,selected:b.includes(u),selectionOrder:b.indexOf(u)})))}function Qa(i,u){const w=Math.floor(i/4),A=i%4,we=Math.floor(u/4),Ce=u%4;return Math.abs(w-we)<=1&&Math.abs(A-Ce)<=1}function Ar(){if(n(_).length<3){An();return}let i="invalid";if(E.has(n(_)))if(n(d).includes(n(_)))i="duplicate";else{i="valid",a(d,[...n(d),n(_)]);const u=Mr(n(_));a(I,n(I)+u),Ka(u),n(ce)&&it&&ee.send(JSON.stringify({type:"WORD_FOUND",token:n(le),word:n(_),score:n(I)}))}Xa(i),setTimeout(()=>{An()},225)}function Ka(i){st&&(clearTimeout(st),st=null),a(kt,`+${i}`),a(xt,!0),st=setTimeout(()=>{a(xt,!1),st=null},900)}function Xa(i){console.log("Animating word submission:",i,"Selected cells:",b);const w={valid:"#4CAF50",invalid:"#f44336",duplicate:"#FF9800"}[i];console.log("Flash color:",w),a(v,n(v).map((A,we)=>({...A,flashColor:b.includes(we)?w:null}))),setTimeout(()=>{a(v,n(v).map(A=>({...A,flashColor:null})))},200)}function Mr(i){const u=i.length;return u<=4?1:u===5?2:u===6?3:u===7?5:11}function An(){const i=b.length>0?b[b.length-1]:n(N);b=[],a(_,""),a(v,n(v).map(u=>({...u,selected:!1,selectionOrder:-1,flashColor:null}))),typeof i=="number"&&(a(N,i),a(v,[...n(v)]))}function Cr(i){if(!n(X))return{x:0,y:0};const u=n(X).children[i];if(!u)return{x:0,y:0};const w=u.getBoundingClientRect(),A=n(X).getBoundingClientRect();return{x:w.left-A.left+w.width/2,y:w.top-A.top+w.height/2}}function Za(){if(b.length<2)return[];const i=[];for(let u=0;u<b.length-1;u++){const w=Cr(b[u]),A=Cr(b[u+1]);i.push({start:w,end:A})}return i}function es(i){return!i||i.length<3?"incomplete":n(d).includes(i)?"already-found":E.has(i)?"valid":"invalid"}const ts="wss://kznjk.com/ws";function Qn(){a(Ke,null),a(Y,"connecting");try{ee=new WebSocket(ts)}catch{a(Ke,"Could not connect to server."),a(Y,"nameEntry");return}ee.onopen=()=>{it=!0,n(Pe)==="create"?ee.send(JSON.stringify({type:"CREATE_ROOM",playerName:n(ae)})):n(Pe)==="rejoin"?ee.send(JSON.stringify({type:"REJOIN_ROOM",token:n(le),playerName:n(ae),playerId:n(F)})):ee.send(JSON.stringify({type:"JOIN_ROOM",playerName:n(ae),token:n(le).toUpperCase()}))},ee.onmessage=i=>{try{ns(JSON.parse(i.data))}catch(u){console.error("Failed to parse server message:",u)}},ee.onclose=()=>{it=!1},ee.onerror=()=>{a(Ke,"Connection error. Is the server running?"),it=!1,n(Y)==="connecting"&&(n(Pe)==="rejoin"?(a(Ht,n(Ke)),a(Y,"none")):a(Y,"nameEntry"))}}function ns(i){switch(i.type){case"ROOM_CREATED":a(F,i.playerId),a(le,i.token),a(lt,"host"),a(ce,!0),a(Xe,[{id:i.playerId,name:i.playerName,isHost:!0}]),a(Y,"lobby"),xn();break;case"ROOM_JOINED":a(F,i.playerId),a(lt,"guest"),a(ce,!0),a(Xe,i.players),a(Y,"lobby"),xn();break;case"LOBBY_UPDATE":a(Xe,i.players);break;case"GAME_START":a(He,n(Xe).map(u=>({id:u.id,name:u.name,score:0}))),Kn(i.board),a(Y,"starting"),Nr();{const u=Math.max(0,i.startAt-Date.now());setTimeout(()=>{sn(),a(Oe,!1),a(Y,"none"),qn()},u)}break;case"LEADERBOARD_UPDATE":a(He,i.leaderboard);break;case"GAME_END":if(a(Le,i.winCounts||n(Le)),a(He,i.leaderboard),i.playerResults&&n(F)&&i.playerResults[n(F)]){const u=i.playerResults[n(F)];a(ft,(u.words||[]).slice().sort((w,A)=>A.points-w.points||w.word.localeCompare(A.word))),yn=u.finalScore,a(I,yn),!n(z)&&n(Qe)&&a(Me,[...n(ft)])}Vt(),n(z)&&Tn();break;case"GAME_REJOINED":os(i);break;case"PLAYER_DISCONNECTED":a(Ft,i.playerName),setTimeout(()=>{a(Ft,"")},5e3);break;case"ERROR":if(n(Pe)==="rejoin"){if(a(Ht,i.message),(i.code==="GAME_ENDED"||i.code==="ROOM_NOT_FOUND")&&Vt(),a(Y,"none"),it=!1,ee){try{ee.close()}catch{}ee=null}}else a(je,i.message),n(Y)==="connecting"&&a(Y,"nameEntry");break;case"REMATCH_INITIATED":a(St,i.votes||[]),Pt=i.expiresAt,a(ct,Math.max(0,Math.round((i.expiresAt-Date.now())/1e3))),pe&&(clearInterval(pe),pe=null),pe=setInterval(()=>{a(ct,Math.max(0,Math.round((Pt-Date.now())/1e3)))},500),a(Ve,"voting");break;case"REMATCH_UPDATE":a(St,i.votes||[]);break;case"REMATCH_STARTING":pe&&(clearInterval(pe),pe=null),a(wn,i.players||[]),Pt=i.startsAt,a(ct,Math.max(0,Math.round((i.startsAt-Date.now())/1e3))),Un=!1,pe=setInterval(()=>{a(ct,Math.max(0,Math.round((Pt-Date.now())/1e3))),n(ct)<=10&&!Un&&(Un=!0,n(ze)||new Audio(c+"goblinRematch.mp3").play().catch(()=>{}))},500),a(Ve,"starting");break;case"REMATCH_CANCELLED":pe&&(clearInterval(pe),pe=null),a(Ve,"none"),i.soloPlayerId===n(F)&&a(rn,"Aww, no one wants to play with you!");break;case"REMATCH_START":{a(bt,!1),pe&&(clearInterval(pe),pe=null),a(Ve,"none"),a(St,[]),a(wn,[]),Pt=null,a(ct,0),a(rn,""),a(Le,i.winCounts||n(Le)),a(Qe,!1),a(I,0),a(d,[]),a(ft,[]),yn=null,a(Me,[]),i.players&&a(He,i.players.map(u=>({id:u.id,name:u.name,score:0}))),xn(),Kn(i.board),a(Y,"starting"),Nr();{const u=Math.max(0,i.startAt-Date.now());setTimeout(()=>{sn(),a(Oe,!1),a(Y,"none"),qn()},u)}break}}}function Kn(i){a(v,i.map((u,w)=>({letter:u==="Q"?"Qu":u,value:u==="Q"?"QU":u.toUpperCase(),displayLetter:u==="Q"?"Qu":u,index:w,selected:!1,selectionOrder:-1,flashColor:null})))}function Ir(){if(n(ae).trim()){try{localStorage.setItem("hobGobblinName",n(ae).trim())}catch{}Qn()}}function Rr(){const i=n(le).trim().toUpperCase();if(!/^[0-9A-F]{6}$/.test(i)){a(je,"Enter a 6-character room code (letters A–F and digits 0–9)");return}a(le,i),a(je,""),a(Y,"nameEntry")}function rs(){ee&&it&&ee.send(JSON.stringify({type:"START_GAME",token:n(le)}))}function as(){if(ee){try{ee.send(JSON.stringify({type:"LEAVE_ROOM",token:n(le)}))}catch{}ee.close(),ee=null}a(ce,!1),a(lt,null),it=!1,a(F,null),a(le,""),a(Xe,[]),a(He,[]),a(Y,"none"),a(Pe,null),a(je,""),a(Ke,null),Vt(),a(bt,!1),sn(),a(Oe,!0)}function ss(){navigator.clipboard.writeText(n(le)).catch(()=>{})}function ls(){a(ze,!n(ze));try{localStorage.setItem("hobGobblinMuted",String(n(ze)))}catch{}}function an(){const i=typeof prompt<"u"?prompt("Enter your name:",n(ae)||""):null;if(i!=null&&i.trim()){a(ae,i.trim().slice(0,20));try{localStorage.setItem("hobGobblinName",n(ae))}catch{}n(F)&&(a(Xe,n(Xe).map(u=>u.id===n(F)?{...u,name:n(ae)}:u)),a(He,n(He).map(u=>u.id===n(F)?{...u,name:n(ae)}:u)))}}function is(){n(Ue)&&(a(Ht,""),a(ae,n(Ue).playerName),a(F,n(Ue).playerId),a(lt,n(Ue).mpRole||"guest"),a(le,n(Ue).roomToken),a(Pe,"rejoin"),Qn())}function os(i){a(F,i.playerId),a(ce,!0),a(He,i.leaderboard||[]),Kn(i.board),a(d,i.foundWords||[]),a(I,i.score||0);const u=Math.max(0,Math.floor((i.gameEndAt-Date.now())/1e3));a(h,u),a(Oe,!1),a(Y,"none"),a(bt,!0),a(z,!0),xn(),u>0?he=setInterval(()=>{$r(h,-1),n(h)<=0&&(clearInterval(he),he=null,Tn())},1e3):Tn()}function Nr(){let i=Math.floor(Math.random()*En.length);a(zn,En[i]),kn=setInterval(()=>{i=(i+1)%En.length,a(zn,En[i])},900)}function sn(){kn&&(clearInterval(kn),kn=null)}function Or(){!ee||!it||(ee.send(JSON.stringify({type:"REMATCH_VOTE",token:n(le)})),n(Ve)==="none"&&a(Ve,"pending"))}function Lr(){a(Ve,"none"),clearInterval(pe),pe=null}Gt(()=>n(Le),()=>{a(r,Object.values(n(Le)).length>0?Math.max(...Object.values(n(Le))):0)}),Gt(()=>(n(St),n(F)),()=>{a(s,!!n(St).find(i=>i.id===n(F)&&i.accepted))}),Gt(()=>n(Me),()=>{a(l,(()=>{const i=new Map;for(const u of n(Me)){const w=u.points;i.has(w)||i.set(w,[]),i.get(w).push(u.word)}return Array.from(i.entries()).sort((u,w)=>w[0]-u[0]).map(([u,w])=>({points:u,words:w}))})())}),Gt(()=>n(h),()=>{a(o,Math.max(0,Math.round(n(h)/y*100)))}),Gt(()=>n(h),()=>{a(f,(()=>{const i=n(h)/y;return i>.8?"#2196F3":i>.6?"#4CAF50":i>.4?"#FFEB3B":i>.2?"#FF9800":i>.05?"#f44336":"#000000"})())}),Gt(()=>(n(z),n(J),n(bt),n(Oe)),()=>{typeof document<"u"&&(n(z)||n(J)||n(bt)&&!n(Oe)?document.body.classList.add("game-playing"):document.body.classList.remove("game-playing"))}),wl(),$l();var Dr=eo(),Fr=Ee(Dr),Pr=p(Fr);{var vs=i=>{var u=ei(),w=p(u),A=p(w),we=m(A,2);{var Ce=te=>{var ue=Zl(),de=Ee(ue),be=p(de),Q=m(p(be)),W=p(Q),B=m(Q,2),ie=p(B),ne=m(be,2);{var U=D=>{var G=Xl(),R=p(G);P(()=>H(R,n(Ht))),g(D,G)};O(ne,D=>{n(Ht)&&D(U)})}var T=m(ne,2),k=p(T),M=m(k,2);P(()=>{H(W,(n(Ue),S(()=>n(Ue).roomToken))),H(ie,(n(Ue),S(()=>n(Ue).playerName)))}),$("click",k,is),$("click",M,()=>{Vt(),a(Ht,"")}),g(te,ue)};O(we,te=>{n(Ue)&&te(Ce)})}var dt=m(we,2),me=p(dt),ge=m(me,2),ke=p(ge),De=m(ke,2),xe=m(ge,2);P(()=>Ie(A,"src",c+"header.png")),$("click",me,$a),$("click",ke,()=>{a(Pe,"join"),a(Y,"tokenEntry"),a(le,""),a(je,""),a(Ke,null)}),$("click",De,()=>{a(Pe,"create"),a(Y,"nameEntry"),a(Ke,null)}),$("click",xe,an),g(i,u)};O(Pr,i=>{n(Oe)&&i(vs)})}var Hr=m(Pr,2);{var us=i=>{var u=pi(),w=p(u),A=p(w),we=m(A,2);{var Ce=me=>{var ge=ni(),ke=Ee(ge),De=p(ke),xe=m(ke,2);Ie(xe,"maxlength",20),Qr(xe);var te=m(xe,2);{var ue=B=>{var ie=ti(),ne=p(ie);P(()=>H(ne,n(Ke))),g(B,ie)};O(te,B=>{n(Ke)&&B(ue)})}var de=m(te,2),be=p(de),Q=m(be,2),W=p(Q);P(B=>{H(De,n(Pe)==="create"?"Start Multiplayer":"Join a Room"),Q.disabled=B,H(W,n(Pe)==="create"?"Create Room":"Join")},[()=>(n(ae),S(()=>!n(ae).trim()))]),aa(xe,()=>n(ae),B=>a(ae,B)),$("keydown",xe,B=>B.key==="Enter"&&Ir()),$("click",be,()=>{a(Y,n(Pe)==="join"?"tokenEntry":"none"),a(Ke,null),a(je,"")}),$("click",Q,Ir),g(me,ge)},dt=me=>{var ge=yt(),ke=Ee(ge);{var De=te=>{var ue=ai(),de=m(Ee(ue),2);Ie(de,"maxlength",6),Qr(de);var be=m(de,2);{var Q=ne=>{var U=ri(),T=p(U);P(()=>H(T,n(je))),g(ne,U)};O(be,ne=>{n(je)&&ne(Q)})}var W=m(be,2),B=p(W),ie=m(B,2);P(ne=>ie.disabled=ne,[()=>(n(le),S(()=>!/^[0-9A-F]{6}$/.test(n(le).trim().toUpperCase())))]),aa(de,()=>n(le),ne=>a(le,ne)),$("keydown",de,ne=>ne.key==="Enter"&&Rr()),$("click",B,()=>{a(Y,"none"),a(je,"")}),$("click",ie,Rr),g(te,ue)},xe=te=>{var ue=yt(),de=Ee(ue);{var be=W=>{var B=si();g(W,B)},Q=W=>{var B=yt(),ie=Ee(B);{var ne=T=>{var k=ii(),M=p(k),D=p(M);tt(D,1,()=>(n(zn),S(()=>n(zn).split(""))),et,(G,R,se)=>{var fe=li();Cn(fe,`animation-delay: ${se*.07}s`);var _e=p(fe);P(()=>H(_e,n(R))),g(G,fe)}),g(T,k)},U=T=>{var k=yt(),M=Ee(k);{var D=G=>{var R=hi(),se=m(Ee(R),2);{var fe=re=>{var K=oi(),Ze=m(Ee(K),2),At=p(Ze),tr=m(At);P(()=>H(At,`${n(le)??""} `)),$("click",tr,ss),g(re,K)},_e=re=>{var K=vi(),Ze=m(p(K)),At=p(Ze);P(()=>H(At,n(le))),g(re,K)};O(se,re=>{n(lt)==="host"?re(fe):re(_e,!1)})}var Se=m(se,2);tt(Se,5,()=>n(Xe),et,(re,K)=>{var Ze=fi(),At=p(Ze);{var tr=nr=>{var zs=ui();g(nr,zs)};O(At,nr=>{n(K),S(()=>n(K).isHost)&&nr(tr)})}var ws=m(At,2),Es=p(ws);P(()=>{Ut(Ze,1,`lobby-player-row ${n(K),n(F),S(()=>n(K).id===n(F)?"is-me":"")??""}`,"svelte-zv9a4n"),H(Es,`${n(K),n(F),n(ae),S(()=>n(K).id===n(F)?n(ae):n(K).name)??""}${n(K),n(F),S(()=>n(K).id===n(F)?" (you)":"")??""}`)}),g(re,Ze)});var We=m(Se,2);{var Tt=re=>{var K=ci(),Ze=p(K);P(()=>H(Ze,n(je))),g(re,K)};O(We,re=>{n(je)&&re(Tt)})}var ln=m(We,2),Bt=p(ln),Xn=m(Bt,2);{var Zn=re=>{var K=di();P(()=>K.disabled=(n(Xe),S(()=>n(Xe).length<2))),$("click",K,rs),g(re,K)},er=re=>{var K=_i();g(re,K)};O(Xn,re=>{n(lt)==="host"?re(Zn):re(er,!1)})}$("click",Bt,as),g(G,R)};O(M,G=>{n(Y)==="lobby"&&G(D)},!0)}g(T,k)};O(ie,T=>{n(Y)==="starting"?T(ne):T(U,!1)},!0)}g(W,B)};O(de,W=>{n(Y)==="connecting"?W(be):W(Q,!1)},!0)}g(te,ue)};O(ke,te=>{n(Y)==="tokenEntry"?te(De):te(xe,!1)},!0)}g(me,ge)};O(we,me=>{n(Y)==="nameEntry"?me(Ce):me(dt,!1)})}P(()=>Ie(A,"src",c+"header.png")),g(i,u)};O(Hr,i=>{n(Y)!=="none"&&i(us)})}var Vr=m(Hr,2);{var fs=i=>{var u=Ai(),w=p(u),A=p(w),we=m(A,2),Ce=p(we);{var dt=k=>{var M=yi(),D=m(p(M),2);tt(D,1,()=>n(He),et,(G,R,se)=>{var fe=gi(),_e=p(fe);_e.textContent=`#${se+1}`;var Se=m(_e,2),We=p(Se),Tt=m(We);{var ln=re=>{var K=mi();g(re,K)};O(Tt,re=>{n(r),n(Le),n(R),S(()=>n(r)>0&&n(Le)[n(R).id]===n(r))&&re(ln)})}var Bt=m(Tt,2);{var Xn=re=>{var K=bi(),Ze=p(K);P(()=>H(Ze,`${n(Le),n(R),S(()=>n(Le)[n(R).id])??""}W`)),g(re,K)};O(Bt,re=>{n(Le),n(R),S(()=>n(Le)[n(R).id]>0)&&re(Xn)})}var Zn=m(Se,2),er=p(Zn);P(()=>{Ut(fe,1,`mp-end-lb-row ${se===0?"mp-lb-first":""} ${n(R),n(F),S(()=>n(R).id===n(F)?"mp-lb-me":"")??""}`,"svelte-zv9a4n"),H(We,`${n(R),n(F),n(ae),S(()=>n(R).id===n(F)?n(ae):n(R).name)??""}${n(R),n(F),S(()=>n(R).id===n(F)?" (you)":"")??""} `),H(er,(n(R),S(()=>n(R).score)))}),g(G,fe)}),g(k,M)};O(Ce,k=>{n(ce),n(He),S(()=>n(ce)&&n(He).length>0)&&k(dt)})}var me=m(Ce,2);{var ge=k=>{var M=wi(),D=p(M);P(()=>H(D,n(rn))),g(k,M)};O(me,k=>{n(rn)&&k(ge)})}var ke=m(me,2),De=p(ke),xe=m(De),te=p(xe),ue=m(ke,4),de=p(ue);{var be=k=>{var M=zi();tt(M,5,()=>n(ft),et,(D,G)=>{var R=Ei(),se=p(R),fe=m(se),_e=p(fe);P(()=>{Ut(R,1,`found-word ${n(G),S(()=>n(G).tag==="contested_first"?"mp-word-first":"")??""} ${n(G),S(()=>n(G).tag==="contested_second"?"mp-word-second":"")??""}`,"svelte-zv9a4n"),Ie(R,"title",(n(G),S(()=>n(G).tag==="contested_first"?"Also found by another player — 1 pt":n(G).tag==="contested_second"?"Found first by another player — 0 pts":""))),H(se,`${n(G),S(()=>n(G).word)??""} `),H(_e,`(${n(G),S(()=>n(G).points)??""})`)}),g(D,R)}),g(k,M)},Q=k=>{var M=yt(),D=Ee(M);{var G=se=>{var fe=ki();g(se,fe)},R=se=>{var fe=Si();tt(fe,5,()=>n(Me),et,(_e,Se)=>{var We=xi(),Tt=p(We),ln=m(Tt),Bt=p(ln);P(()=>{H(Tt,`${n(Se),S(()=>n(Se).word)??""} `),H(Bt,`(${n(Se),S(()=>n(Se).points)??""})`)}),g(_e,We)}),g(se,fe)};O(D,se=>{n(Me),S(()=>n(Me).length===0)?se(G):se(R,!1)},!0)}g(k,M)};O(de,k=>{n(ce),n(ft),S(()=>n(ce)&&n(ft).length>0)?k(be):k(Q,!1)})}var W=m(ue,2),B=p(W),ie=m(B,2);{var ne=k=>{var M=Ti();$("click",M,Or),g(k,M)};O(ie,k=>{n(ce)&&n(Ve)==="none"&&k(ne)})}var U=m(ie,2),T=m(U,2);P(()=>{Ie(A,"src",c+"header.png"),H(De,`${n(ce)?"Your":"Final"} Score: `),H(te,n(I))}),$("click",B,Wa),$("click",U,Ya),$("click",T,an),g(i,u)};O(Vr,i=>{n(Qe)&&i(fs)})}var Br=m(Vr,2);{var cs=i=>{var u=Pi(),w=p(u),A=p(w),we=m(A,2);{var Ce=me=>{var ge=Oi(),ke=m(Ee(ge),2),De=m(p(ke),2),xe=p(De),te=m(ke,2);tt(te,5,()=>n(St),et,(Q,W)=>{var B=Ii(),ie=p(B);{var ne=M=>{var D=Mi();g(M,D)},U=M=>{var D=Ci();g(M,D)};O(ie,M=>{n(W),S(()=>n(W).accepted)?M(ne):M(U,!1)})}var T=m(ie,2),k=p(T);P(()=>H(k,(n(W),n(F),n(ae),S(()=>n(W).id===n(F)?n(ae):n(W).name)))),g(Q,B)});var ue=m(te,2);{var de=Q=>{var W=Ri(),B=Ee(W),ie=m(B,2),ne=p(ie),U=m(ne,2);$("click",B,Or),$("click",ne,Lr),$("click",U,an),g(Q,W)},be=Q=>{var W=Ni(),B=m(Ee(W),2),ie=p(B);$("click",ie,an),g(Q,W)};O(ue,Q=>{n(s)?Q(be,!1):Q(de)})}P(()=>H(xe,n(ct))),g(me,ge)},dt=me=>{var ge=yt(),ke=Ee(ge);{var De=te=>{var ue=Di(),de=m(Ee(ue),2),be=m(p(de),2),Q=p(be),W=m(de,2);tt(W,5,()=>n(wn),et,(U,T)=>{var k=Li(),M=m(p(k),2),D=p(M);P(()=>H(D,n(T))),g(U,k)});var B=m(W,4),ie=p(B),ne=m(ie,2);P(()=>H(Q,n(ct))),$("click",ie,Lr),$("click",ne,an),g(te,ue)},xe=te=>{var ue=yt(),de=Ee(ue);{var be=Q=>{var W=Fi();g(Q,W)};O(de,Q=>{n(Ve)==="pending"&&Q(be)},!0)}g(te,ue)};O(ke,te=>{n(Ve)==="starting"?te(De):te(xe,!1)},!0)}g(me,ge)};O(we,me=>{n(Ve)==="voting"?me(Ce):me(dt,!1)})}P(()=>Ie(A,"src",c+"header.png")),g(i,u)};O(Br,i=>{n(Ve)!=="none"&&i(cs)})}var ds=m(Br,2);{var _s=i=>{var u=$i(),w=p(u),A=p(w),we=m(w,2),Ce=p(we),dt=p(Ce),me=m(Ce,2),ge=p(me),ke=p(ge);tt(ke,1,()=>n(v),et,(U,T,k)=>{var M=Bi();Ie(M,"data-index",k);var D=p(M),G=m(D);{var R=_e=>{var Se=Hi(),We=p(Se);P(()=>H(We,(n(T),S(()=>n(T).selectionOrder+1)))),g(_e,Se)};O(G,_e=>{n(T),S(()=>n(T).selected&&n(T).selectionOrder>=0)&&_e(R)})}var se=m(G,2);{var fe=_e=>{var Se=Vi();g(_e,Se)};O(se,_e=>{n(N),n(z),n(T),S(()=>k===n(N)&&n(z)&&!n(T).selected)&&_e(fe)})}P(()=>{Ut(M,1,`cell ${n(T),S(()=>n(T).selected?"selected":"")??""} ${k===n(N)?"focused":""} ${n(J)?"scrambling":""}`,"svelte-zv9a4n"),Cn(M,(n(T),S(()=>n(T).flashColor?`background-color: ${n(T).flashColor} !important; border-color: ${n(T).flashColor} !important; transform: scale(1.2);`:""))),H(D,`${n(T),S(()=>n(T).displayLetter)??""} `)}),$("click",M,()=>$n(k)),$("keydown",M,_e=>_e.key==="Enter"&&$n(k)),g(U,M)});var De=m(ke,2);tt(De,5,()=>S(Za),et,(U,T)=>{var k=Gi();P(()=>{Ie(k,"x1",(n(T),S(()=>n(T).start.x))),Ie(k,"y1",(n(T),S(()=>n(T).start.y))),Ie(k,"x2",(n(T),S(()=>n(T).end.x))),Ie(k,"y2",(n(T),S(()=>n(T).end.y)))}),g(U,k)}),ql(ge,U=>a(X,U),()=>n(X));var xe=m(we,2),te=p(xe);{var ue=U=>{var T=ji(),k=Ee(T),M=m(p(k)),D=p(M),G=m(k,2),R=p(G),se=m(R,2);P(fe=>{Ut(M,1,`word ${fe??""}`,"svelte-zv9a4n"),H(D,n(_)||"(none)"),se.disabled=(n(_),S(()=>n(_).length<3))},[()=>(n(_),S(()=>es(n(_))))]),$("click",R,An),$("click",se,Ar),g(U,T)},de=U=>{var T=yt(),k=Ee(T);{var M=D=>{var G=Ui(),R=p(G);$("click",R,()=>{a(Qe,!0)}),g(D,G)};O(k,D=>{!n(z)&&!n(J)&&D(M)},!0)}g(U,T)};O(te,U=>{n(z)?U(ue):U(de,!1)})}var be=m(xe,2);{var Q=U=>{var T=Ji(),k=m(p(T),2);tt(k,1,()=>n(He),et,(M,D,G)=>{var R=Wi(),se=p(R);se.textContent=`${G+1}.`;var fe=m(se,2),_e=p(fe),Se=m(fe,2),We=p(Se);P(()=>{Ut(R,1,`lb-row ${n(D),n(F),S(()=>n(D).id===n(F)?"lb-me":"")??""} ${G===0?"lb-first":""}`,"svelte-zv9a4n"),H(_e,(n(D),n(F),n(ae),S(()=>n(D).id===n(F)?n(ae):n(D).name))),H(We,(n(D),S(()=>n(D).score)))}),g(M,R)}),g(U,T)};O(be,U=>{n(ce)&&n(z)&&U(Q)})}var W=m(be,2),B=p(W),ie=p(B),ne=m(B,2);tt(ne,5,()=>n(d),et,(U,T)=>{var k=qi(),M=p(k);P(()=>H(M,n(T))),g(U,k)}),P(()=>{Ie(A,"src",c+"header.png"),Cn(dt,`height: ${n(o)??""}%; background: linear-gradient(${n(f)??""}, #000);`),Cn(ge,n(J)?"pointer-events: none;":""),H(ie,`Found Words (${n(d),S(()=>n(d).length)??""}):`)}),g(i,u)};O(ds,i=>{n(bt)&&i(_s)})}var Gr=m(Fr,2);{var hs=i=>{var u=Yi(),w=p(u),A=p(w);P(()=>H(A,n(ye)>0?n(ye):"Go!")),g(i,u)};O(Gr,i=>{n(J)&&i(hs)})}var jr=m(Gr,2);{var ps=i=>{var u=Qi(),w=p(u);P(()=>H(w,n(kt))),g(i,u)};O(jr,i=>{n(xt)&&i(ps)})}var Ur=m(jr,2);{var ms=i=>{var u=Ki(),w=p(u),A=m(w);P(()=>H(w,`${n(Ft)??""} disconnected — game continues `)),$("click",A,()=>a(Ft,"")),g(i,u)};O(Ur,i=>{n(Ft)&&i(ms)})}var Mn=m(Ur,2),bs=p(Mn);{var gs=i=>{var u=Xi();g(i,u)},ys=i=>{var u=Zi();g(i,u)};O(bs,i=>{n(ze)?i(gs):i(ys,!1)})}P(()=>{Ie(Mn,"aria-label",n(ze)?"Unmute sound effects":"Mute sound effects"),Ie(Mn,"title",n(ze)?"Unmute":"Mute")}),$("click",Mn,ls),g(e,Dr),ha()}var no=x("<main><!></main>");function ro(e){var t=no(),r=p(t);to(r,{}),g(e,t)}Dl(ro,{target:document.getElementById("app")});
