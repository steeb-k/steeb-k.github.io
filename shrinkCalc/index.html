<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shrinkage Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Shrinkage Calculator</h1>
        <a class="help-link" id="helpLink">How to use this tool</a>
        
        <div class="input-grid">
            <div></div>
            <div>First</div>
            <div>Second</div>
            <div>Third</div>
            
            <div class="axis-label">X-Axis</div>
            <div><input type="number" id="x-top" placeholder="Enter value"></div>
            <div><input type="number" id="x-middle" placeholder="Enter value"></div>
            <div><input type="number" id="x-bottom" placeholder="Enter value"></div>
            
            <div class="axis-label">Y-Axis</div>
            <div><input type="number" id="y-top" placeholder="Enter value"></div>
            <div><input type="number" id="y-middle" placeholder="Enter value"></div>
            <div><input type="number" id="y-bottom" placeholder="Enter value"></div>
            
            <div class="axis-label">Z-Axis</div>
            <div><input type="number" id="z-top" placeholder="Enter value"></div>
            <div><input type="number" id="z-middle" placeholder="Enter value"></div>
            <div><input type="number" id="z-bottom" placeholder="Enter value"></div>
        </div>
        
        <div class="current-shrinkage">
            <div>
                <span>Current XY Shrinkage:</span>
                <input type="number" id="current-xy" value="100" placeholder="Percentage">
                <span>%</span>
            </div>
            <div>
                <span>Current Z Shrinkage:</span>
                <input type="number" id="current-z" value="100" placeholder="Percentage">
                <span>%</span>
            </div>
        </div>
        
        <button class="calculate-btn" id="calculateBtn">Calculate</button>
        
        <div class="results">
            <div>
                <h3>XY Shrinkage</h3>
                <div class="result-value" id="xyResult">-</div>
            </div>
            <div>
                <h3>Z Shrinkage</h3>
                <div class="result-value" id="zResult">-</div>
            </div>
        </div>

        <a class="formula-link" id="formulaLink">How are these results calculated?</a>
    </div>

    <!-- Formula Overlay -->
    <div class="formula-overlay" id="formulaOverlay">
        <div class="formula-content">
            <button class="close-formula" id="closeFormula">&times;</button>
            <h2>Calculation Formulas</h2>
            
            <div class="formula">
                <h3>XY Shrinkage</h3>
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                    <mtext>XY = </mtext>
                    <mfrac>
                        <mrow>
                            <mo>(</mo>
                            <mfrac>
                                <mrow>
                                    <msub><mi>X</mi><mi>top</mi></msub>
                                    <mo>+</mo>
                                    <msub><mi>X</mi><mi>middle</mi></msub>
                                    <mo>+</mo>
                                    <msub><mi>X</mi><mi>bottom</mi></msub>
                                </mrow>
                                <mn>3</mn>
                            </mfrac>
                            <mo>+</mo>
                            <mfrac>
                                <mrow>
                                    <msub><mi>Y</mi><mi>top</mi></msub>
                                    <mo>+</mo>
                                    <msub><mi>Y</mi><mi>middle</mi></msub>
                                    <mo>+</mo>
                                    <msub><mi>Y</mi><mi>bottom</mi></msub>
                                </mrow>
                                <mn>3</mn>
                            </mfrac>
                            <mo>)</mo>
                        </mrow>
                        <mn>40</mn>
                    </mfrac>
                    <mo>×</mo>
                    <mtext>CurrentXY%</mtext>
                </math>
                <p>Where:<br>
                - X and Y values are averaged separately<br>
                - The two averages are then averaged together<br>
                - Divided by 20 (shown as ÷40 in the formula)<br>
                - Multiplied by your current XY shrinkage percentage</p>
            </div>
            
            <div class="formula">
                <h3>Z Shrinkage</h3>
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                    <mtext>Z = </mtext>
                    <mfrac>
                        <mrow>
                            <msub><mi>Z</mi><mi>top</mi></msub>
                            <mo>+</mo>
                            <msub><mi>Z</mi><mi>middle</mi></msub>
                            <mo>+</mo>
                            <msub><mi>Z</mi><mi>bottom</mi></msub>
                        </mrow>
                        <mn>60</mn>
                    </mfrac>
                    <mo>×</mo>
                    <mtext>CurrentZ%</mtext>
                </math>
                <p>Where:<br>
                - Z values are averaged<br>
                - Divided by 20 (shown as ÷60 in the formula)<br>
                - Multiplied by your current Z shrinkage percentage</p>
            </div>
        </div>
    </div>

    <!-- Help Overlay -->
    <div class="help-overlay" id="helpOverlay">
        <div class="help-content">
            <button class="close-help" id="closeHelp">&times;</button>
            <h2>How to Use This Tool</h2>
            
            <div class="help-grid">
                <div class="help-svg">
                    <svg width="200" height="200" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- Outer square with 10px border -->
                        <rect x="5" y="5" width="190" height="190" fill="none" stroke="black" stroke-width="10"/>
                        
                        <!-- Large X in center (80% of interior size) -->
                        <line x1="30" y1="30" x2="170" y2="170" stroke="black" stroke-width="20"/>
                        <line x1="170" y1="30" x2="30" y2="170" stroke="black" stroke-width="20"/>
                        
                        <!-- Three horizontal lines -->
                        <line x1="0" y1="20" x2="200" y2="20" stroke="red" stroke-width="5"/>
                        <line x1="0" y1="100" x2="200" y2="100" stroke="red" stroke-width="5"/>
                        <line x1="0" y1="180" x2="200" y2="180" stroke="red" stroke-width="5"/>
                    </svg>
                </div>
                <div class="help-text">
                    <p>This diagram represents the measurement framework:</p>
                    <ul>
                        <li>The outer square shows the measurement boundaries</li>
                        <li>The X marks the central reference point</li>
                        <li>Red lines indicate measurement planes</li>
                    </ul>
                    <p>When taking measurements:</p>
                    <ol>
                        <li>Align your object with the reference X</li>
                        <li>Measure at each red plane position</li>
                        <li>Enter values in the corresponding calculator fields</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
