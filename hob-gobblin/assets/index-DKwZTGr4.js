(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();const la=!1;var cr=Array.isArray,zs=Array.prototype.indexOf,dr=Array.from,lr=Object.defineProperty,vn=Object.getOwnPropertyDescriptor,ia=Object.getOwnPropertyDescriptors,ks=Object.prototype,xs=Array.prototype,_r=Object.getPrototypeOf,Ur=Object.isExtensible;function Ss(e){return e()}function Rn(e){for(var t=0;t<e.length;t++)e[t]()}function Ts(){var e,t,n=new Promise((a,l)=>{e=a,t=l});return{promise:n,resolve:e,reject:t}}const He=2,hr=4,Fn=8,Kt=16,mt=32,Nt=64,pr=128,We=256,On=512,Se=1024,qe=2048,bt=4096,nt=8192,Xt=16384,mr=32768,Pn=65536,Wr=1<<17,Ms=1<<18,Zt=1<<19,oa=1<<20,ir=1<<21,br=1<<22,At=1<<23,Gt=Symbol("$state"),As=Symbol(""),gr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function va(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Cs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Is(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Rs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Os(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ns(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ls(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ds(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Fs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ps(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Hn=1,Vn=2,ua=4,Hs=8,Vs=16,Bs=1,js=2,xe=Symbol(),Gs="http://www.w3.org/1999/xhtml";function Us(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ws=!1;function fa(e){return e===this.v}function Js(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ca(e){return!Js(e,this.v)}let dn=!1,qs=!1;function Ys(){dn=!0}let se=null;function Jt(e){se=e}function da(e,t=!1,n){se={p:se,c:null,e:null,s:e,x:null,l:dn&&!t?{s:null,u:null,$:[]}:null}}function _a(e){var t=se,n=t.e;if(n!==null){t.e=null;for(var a of n)Aa(a)}return se=t.p,{}}function _n(){return!dn||se!==null&&se.l===null}let wt=[],Nn=[];function ha(){var e=wt;wt=[],Rn(e)}function $s(){var e=Nn;Nn=[],Rn(e)}function Qs(){return wt.length>0||Nn.length>0}function Lt(e){if(wt.length===0&&!un){var t=wt;queueMicrotask(()=>{t===wt&&ha()})}wt.push(e)}function Ks(){wt.length>0&&ha(),Nn.length>0&&$s()}const Xs=new WeakMap;function pa(e){var t=V;if(t===null)return H.f|=At,e;if((t.f&mr)===0){if((t.f&pr)===0)throw!t.parent&&e instanceof Error&&ma(e),e;t.b.error(e)}else qt(e,t)}function qt(e,t){for(;t!==null;){if((t.f&pr)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&ma(e),e}function ma(e){const t=Xs.get(e);t&&(lr(e,"message",{value:t.message}),lr(e,"stack",{value:t.stack}))}const nr=new Set;let ae=null,In=null,or=new Set,Rt=[],Bn=null,vr=!1,un=!1;class ht{current=new Map;#s=new Map;#t=new Set;#c=0;#l=null;#u=!1;#a=[];#n=[];#e=[];#r=[];#i=[];#f=[];#v=[];skipped_effects=new Set;process(t){Rt=[],In=null;for(const l of t)this.#d(l);if(this.#a.length===0&&this.#c===0){this.#_();var n=this.#e,a=this.#r;this.#e=[],this.#r=[],this.#i=[],In=ae,ae=null,Jr(n),Jr(a),ae===null?ae=this:nr.delete(this),this.#l?.resolve()}else this.#o(this.#e),this.#o(this.#r),this.#o(this.#i);for(const l of this.#a)It(l);for(const l of this.#n)It(l);this.#a=[],this.#n=[]}#d(t){t.f^=Se;for(var n=t.first;n!==null;){var a=n.f,l=(a&(mt|Nt))!==0,o=l&&(a&Se)!==0,u=o||(a&nt)!==0||this.skipped_effects.has(n);if(!u&&n.fn!==null){if(l)n.f^=Se;else if((a&hr)!==0)this.#r.push(n);else if((a&Se)===0)if((a&br)!==0){var c=n.b?.is_pending()?this.#n:this.#a;c.push(n)}else bn(n)&&((n.f&Kt)!==0&&this.#i.push(n),It(n));var v=n.first;if(v!==null){n=v;continue}}var d=n.parent;for(n=n.next;n===null&&d!==null;)n=d.next,d=d.parent}}#o(t){for(const n of t)((n.f&qe)!==0?this.#f:this.#v).push(n),Oe(n,Se);t.length=0}capture(t,n){this.#s.has(t)||this.#s.set(t,n),this.current.set(t,t.v)}activate(){ae=this}deactivate(){ae=null,In=null;for(const t of or)if(or.delete(t),t(),ae!==null)break}neuter(){this.#u=!0}flush(){Rt.length>0?ba():this.#_(),ae===this&&(this.#c===0&&nr.delete(this),this.deactivate())}#_(){if(!this.#u)for(const t of this.#t)t();this.#t.clear()}increment(){this.#c+=1}decrement(){if(this.#c-=1,this.#c===0){for(const t of this.#f)Oe(t,qe),Yt(t);for(const t of this.#v)Oe(t,bt),Yt(t);this.#e=[],this.#r=[],this.flush()}else this.deactivate()}add_callback(t){this.#t.add(t)}settled(){return(this.#l??=Ts()).promise}static ensure(){if(ae===null){const t=ae=new ht;nr.add(ae),un||ht.enqueue(()=>{ae===t&&t.flush()})}return ae}static enqueue(t){Lt(t)}}function Zs(e){var t=un;un=!0;try{for(var n;;){if(Ks(),Rt.length===0&&!Qs()&&(ae?.flush(),Rt.length===0))return Bn=null,n;ba()}}finally{un=t}}function ba(){var e=Wt;vr=!0;try{var t=0;for(Kr(!0);Rt.length>0;){var n=ht.ensure();if(t++>1e3){var a,l;el()}n.process(Rt),zt.clear()}}finally{vr=!1,Kr(e),Bn=null}}function el(){try{Ns()}catch(e){qt(e,Bn)}}let Mt=null;function Jr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var a=e[n++];if((a.f&(Xt|nt))===0&&bn(a)&&(Mt=[],It(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null&&a.ac===null?Ra(a):a.fn=null),Mt?.length>0)){zt.clear();for(const l of Mt)It(l);Mt=[]}}Mt=null}}function Yt(e){for(var t=Bn=e;t.parent!==null;){t=t.parent;var n=t.f;if(vr&&t===V&&(n&Kt)!==0)return;if((n&(Nt|mt))!==0){if((n&Se)===0)return;t.f^=Se}}Rt.push(t)}function tl(e){let t=0,n=Ot(0),a;return()=>{hl()&&(r(n),mn(()=>(t===0&&(a=S(()=>e(()=>fn(n)))),t+=1,()=>{Lt(()=>{t-=1,t===0&&(a?.(),a=void 0,fn(n))})})))}}var nl=Pn|Zt|pr;function rl(e,t,n){new al(e,t,n)}class al{parent;#s=!1;#t;#c=null;#l;#u;#a;#n=null;#e=null;#r=null;#i=null;#f=0;#v=0;#d=!1;#o=null;#_=()=>{this.#o&&$t(this.#o,this.#f)};#b=tl(()=>(this.#o=Ot(this.#f),()=>{this.#o=null}));constructor(t,n,a){this.#t=t,this.#l=n,this.#u=a,this.parent=V.b,this.#s=!!this.#l.pending,this.#a=Er(()=>{V.b=this;{try{this.#n=et(()=>a(this.#t))}catch(l){this.error(l)}this.#v>0?this.#p():this.#s=!1}},nl)}#g(){try{this.#n=et(()=>this.#u(this.#t))}catch(t){this.error(t)}this.#s=!1}#y(){const t=this.#l.pending;t&&(this.#e=et(()=>t(this.#t)),ht.enqueue(()=>{this.#n=this.#h(()=>(ht.ensure(),et(()=>this.#u(this.#t)))),this.#v>0?this.#p():(Ut(this.#e,()=>{this.#e=null}),this.#s=!1)}))}is_pending(){return this.#s||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#l.pending}#h(t){var n=V,a=H,l=se;lt(this.#a),De(this.#a),Jt(this.#a.ctx);try{return t()}catch(o){return pa(o),null}finally{lt(n),De(a),Jt(l)}}#p(){const t=this.#l.pending;this.#n!==null&&(this.#i=document.createDocumentFragment(),sl(this.#n,this.#i)),this.#e===null&&(this.#e=et(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#v+=t,this.#v===0&&(this.#s=!1,this.#e&&Ut(this.#e,()=>{this.#e=null}),this.#i&&(this.#t.before(this.#i),this.#i=null))}update_pending_count(t){this.#m(t),this.#f+=t,or.add(this.#_)}get_effect_pending(){return this.#b(),r(this.#o)}error(t){var n=this.#l.onerror;let a=this.#l.failed;if(this.#d||!n&&!a)throw t;this.#n&&(Je(this.#n),this.#n=null),this.#e&&(Je(this.#e),this.#e=null),this.#r&&(Je(this.#r),this.#r=null);var l=!1,o=!1;const u=()=>{if(l){Us();return}l=!0,o&&Ps(),ht.ensure(),this.#f=0,this.#r!==null&&Ut(this.#r,()=>{this.#r=null}),this.#s=this.has_pending_snippet(),this.#n=this.#h(()=>(this.#d=!1,et(()=>this.#u(this.#t)))),this.#v>0?this.#p():this.#s=!1};var c=H;try{De(null),o=!0,n?.(t,u),o=!1}catch(v){qt(v,this.#a&&this.#a.parent)}finally{De(c)}a&&Lt(()=>{this.#r=this.#h(()=>{this.#d=!0;try{return et(()=>{a(this.#t,()=>t,()=>u)})}catch(v){return qt(v,this.#a.parent),null}finally{this.#d=!1}})})}}function sl(e,t){for(var n=e.nodes_start,a=e.nodes_end;n!==null;){var l=n===a?null:pn(n);t.append(n),n=l}}function ll(e,t,n){const a=_n()?yr:ya;if(t.length===0){n(e.map(a));return}var l=ae,o=V,u=il();Promise.all(t.map(c=>ol(c))).then(c=>{l?.activate(),u();try{n([...e.map(a),...c])}catch(v){(o.f&Xt)===0&&qt(v,o)}l?.deactivate(),ga()}).catch(c=>{qt(c,o)})}function il(){var e=V,t=H,n=se,a=ae;return function(){lt(e),De(t),Jt(n),a?.activate()}}function ga(){lt(null),De(null),Jt(null)}function yr(e){var t=He|qe,n=H!==null&&(H.f&He)!==0?H:null;return V===null||n!==null&&(n.f&We)!==0?t|=We:V.f|=Zt,{ctx:se,deps:null,effects:null,equals:fa,f:t,fn:e,reactions:null,rv:0,v:xe,wv:0,parent:n??V,ac:null}}function ol(e,t){let n=V;n===null&&Cs();var a=n.b,l=void 0,o=Ot(xe),u=null,c=!H;return wl(()=>{try{var v=e();u&&Promise.resolve(v).catch(()=>{})}catch(w){v=Promise.reject(w)}var d=()=>v;l=u?.then(d,d)??Promise.resolve(v),u=l;var _=ae,b=a.is_pending();c&&(a.update_pending_count(1),b||_.increment());const z=(w,h=void 0)=>{u=null,b||_.activate(),h?h!==gr&&(o.f|=At,$t(o,h)):((o.f&At)!==0&&(o.f^=At),$t(o,w)),c&&(a.update_pending_count(-1),b||_.decrement()),ga()};if(l.then(z,w=>z(null,w||"unknown")),_)return()=>{queueMicrotask(()=>_.neuter())}}),new Promise(v=>{function d(_){function b(){_===l?v(o):d(l)}_.then(b,b)}d(l)})}function ya(e){const t=yr(e);return t.equals=ca,t}function wa(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Je(t[n])}}function vl(e){for(var t=e.parent;t!==null;){if((t.f&He)===0)return t;t=t.parent}return null}function wr(e){var t,n=V;lt(vl(e));try{wa(e),t=Pa(e)}finally{lt(n)}return t}function Ea(e){var t=wr(e);if(e.equals(t)||(e.v=t,e.wv=Da()),!en){var n=(Et||(e.f&We)!==0)&&e.deps!==null?bt:Se;Oe(e,n)}}const zt=new Map;function Ot(e,t){var n={f:0,v:e,reactions:null,equals:fa,rv:0,wv:0};return n}function gt(e,t){const n=Ot(e);return kl(n),n}function A(e,t=!1,n=!0){const a=Ot(e);return t||(a.equals=ca),dn&&n&&se!==null&&se.l!==null&&(se.l.s??=[]).push(a),a}function s(e,t,n=!1){H!==null&&(!tt||(H.f&Wr)!==0)&&_n()&&(H.f&(He|Kt|br|Wr))!==0&&!pt?.includes(e)&&Fs();let a=n?ln(t):t;return $t(e,a)}function $t(e,t){if(!e.equals(t)){var n=e.v;en?zt.set(e,t):zt.set(e,n),e.v=t;var a=ht.ensure();a.capture(e,n),(e.f&He)!==0&&((e.f&qe)!==0&&wr(e),Oe(e,(e.f&We)===0?Se:bt)),e.wv=Da(),za(e,qe),_n()&&V!==null&&(V.f&Se)!==0&&(V.f&(mt|Nt))===0&&(Ue===null?xl([e]):Ue.push(e))}return t}function qr(e,t=1){var n=r(e),a=t===1?n++:n--;return s(e,n),a}function fn(e){s(e,e.v+1)}function za(e,t){var n=e.reactions;if(n!==null)for(var a=_n(),l=n.length,o=0;o<l;o++){var u=n[o],c=u.f;if(!(!a&&u===V)){var v=(c&qe)===0;v&&Oe(u,t),(c&He)!==0?za(u,bt):v&&((c&Kt)!==0&&Mt!==null&&Mt.push(u),Yt(u))}}}function ln(e){if(typeof e!="object"||e===null||Gt in e)return e;const t=_r(e);if(t!==ks&&t!==xs)return e;var n=new Map,a=cr(e),l=gt(0),o=Ct,u=c=>{if(Ct===o)return c();var v=H,d=Ct;De(null),Zr(o);var _=c();return De(v),Zr(d),_};return a&&n.set("length",gt(e.length)),new Proxy(e,{defineProperty(c,v,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Ls();var _=n.get(v);return _===void 0?_=u(()=>{var b=gt(d.value);return n.set(v,b),b}):s(_,d.value,!0),!0},deleteProperty(c,v){var d=n.get(v);if(d===void 0){if(v in c){const _=u(()=>gt(xe));n.set(v,_),fn(l)}}else s(d,xe),fn(l);return!0},get(c,v,d){if(v===Gt)return e;var _=n.get(v),b=v in c;if(_===void 0&&(!b||vn(c,v)?.writable)&&(_=u(()=>{var w=ln(b?c[v]:xe),h=gt(w);return h}),n.set(v,_)),_!==void 0){var z=r(_);return z===xe?void 0:z}return Reflect.get(c,v,d)},getOwnPropertyDescriptor(c,v){var d=Reflect.getOwnPropertyDescriptor(c,v);if(d&&"value"in d){var _=n.get(v);_&&(d.value=r(_))}else if(d===void 0){var b=n.get(v),z=b?.v;if(b!==void 0&&z!==xe)return{enumerable:!0,configurable:!0,value:z,writable:!0}}return d},has(c,v){if(v===Gt)return!0;var d=n.get(v),_=d!==void 0&&d.v!==xe||Reflect.has(c,v);if(d!==void 0||V!==null&&(!_||vn(c,v)?.writable)){d===void 0&&(d=u(()=>{var z=_?ln(c[v]):xe,w=gt(z);return w}),n.set(v,d));var b=r(d);if(b===xe)return!1}return _},set(c,v,d,_){var b=n.get(v),z=v in c;if(a&&v==="length")for(var w=d;w<b.v;w+=1){var h=n.get(w+"");h!==void 0?s(h,xe):w in c&&(h=u(()=>gt(xe)),n.set(w+"",h))}if(b===void 0)(!z||vn(c,v)?.writable)&&(b=u(()=>gt(void 0)),s(b,ln(d)),n.set(v,b));else{z=b.v!==xe;var k=u(()=>ln(d));s(b,k)}var C=Reflect.getOwnPropertyDescriptor(c,v);if(C?.set&&C.set.call(_,d),!z){if(a&&typeof v=="string"){var q=n.get("length"),N=Number(v);Number.isInteger(N)&&N>=q.v&&s(q,N+1)}fn(l)}return!0},ownKeys(c){r(l);var v=Reflect.ownKeys(c).filter(b=>{var z=n.get(b);return z===void 0||z.v!==xe});for(var[d,_]of n)_.v!==xe&&!(d in c)&&v.push(d);return v},setPrototypeOf(){Ds()}})}var Yr,ka,xa,Sa;function ul(){if(Yr===void 0){Yr=window,ka=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;xa=vn(t,"firstChild").get,Sa=vn(t,"nextSibling").get,Ur(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ur(n)&&(n.__t=void 0)}}function hn(e=""){return document.createTextNode(e)}function Qt(e){return xa.call(e)}function pn(e){return Sa.call(e)}function p(e,t){return Qt(e)}function ke(e,t=!1){{var n=Qt(e);return n instanceof Comment&&n.data===""?pn(n):n}}function m(e,t=1,n=!1){let a=e;for(;t--;)a=pn(a);return a}function fl(e){e.textContent=""}function Ta(){return!1}function $r(e,t){{const n=document.body;e.autofocus=!0,Lt(()=>{document.activeElement===n&&e.focus()})}}let Qr=!1;function cl(){Qr||(Qr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function jn(e){var t=H,n=V;De(null),lt(null);try{return e()}finally{De(t),lt(n)}}function dl(e,t,n,a=n){e.addEventListener(t,()=>jn(n));const l=e.__on_r;l?e.__on_r=()=>{l(),a(!0)}:e.__on_r=()=>a(!0),cl()}function Ma(e){V===null&&H===null&&Os(),H!==null&&(H.f&We)!==0&&V===null&&Rs(),en&&Is()}function _l(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function it(e,t,n,a=!0){var l=V;l!==null&&(l.f&nt)!==0&&(e|=nt);var o={ctx:se,deps:null,nodes_start:null,nodes_end:null,f:e|qe,first:null,fn:t,last:null,next:null,parent:l,b:l&&l.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{It(o),o.f|=mr}catch(v){throw Je(o),v}else t!==null&&Yt(o);if(a){var u=o;if(n&&u.deps===null&&u.teardown===null&&u.nodes_start===null&&u.first===u.last&&(u.f&Zt)===0&&(u=u.first),u!==null&&(u.parent=l,l!==null&&_l(u,l),H!==null&&(H.f&He)!==0&&(e&Nt)===0)){var c=H;(c.effects??=[]).push(u)}}return o}function hl(){return H!==null&&!tt}function pl(e){const t=it(Fn,null,!1);return Oe(t,Se),t.teardown=e,t}function ur(e){Ma();var t=V.f,n=!H&&(t&mt)!==0&&(t&mr)===0;if(n){var a=se;(a.e??=[]).push(e)}else return Aa(e)}function Aa(e){return it(hr|oa,e,!1)}function ml(e){return Ma(),it(Fn|oa,e,!0)}function bl(e){ht.ensure();const t=it(Nt|Zt,e,!0);return(n={})=>new Promise(a=>{n.outro?Ut(t,()=>{Je(t),a(void 0)}):(Je(t),a(void 0))})}function gl(e){return it(hr,e,!1)}function Vt(e,t){var n=se,a={effect:null,ran:!1,deps:e};n.l.$.push(a),a.effect=mn(()=>{e(),!a.ran&&(a.ran=!0,S(t))})}function yl(){var e=se;mn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&Se)!==0&&Oe(n,bt),bn(n)&&It(n),t.ran=!1}})}function wl(e){return it(br|Zt,e,!0)}function mn(e,t=0){return it(Fn|t,e,!0)}function F(e,t=[],n=[]){ll(t,n,a=>{it(Fn,()=>e(...a.map(r)),!0)})}function Er(e,t=0){var n=it(Kt|t,e,!0);return n}function et(e,t=!0){return it(mt|Zt,e,!0,t)}function Ca(e){var t=e.teardown;if(t!==null){const n=en,a=H;Xr(!0),De(null);try{t.call(null)}finally{Xr(n),De(a)}}}function Ia(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const l=n.ac;l!==null&&jn(()=>{l.abort(gr)});var a=n.next;(n.f&Nt)!==0?n.parent=null:Je(n,t),n=a}}function El(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&mt)===0&&Je(t),t=n}}function Je(e,t=!0){var n=!1;(t||(e.f&Ms)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(zl(e.nodes_start,e.nodes_end),n=!0),Ia(e,t&&!n),Ln(e,0),Oe(e,Xt);var a=e.transitions;if(a!==null)for(const o of a)o.stop();Ca(e);var l=e.parent;l!==null&&l.first!==null&&Ra(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function zl(e,t){for(;e!==null;){var n=e===t?null:pn(e);e.remove(),e=n}}function Ra(e){var t=e.parent,n=e.prev,a=e.next;n!==null&&(n.next=a),a!==null&&(a.prev=n),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=n))}function Ut(e,t){var n=[];zr(e,n,!0),Oa(n,()=>{Je(e),t&&t()})}function Oa(e,t){var n=e.length;if(n>0){var a=()=>--n||t();for(var l of e)l.out(a)}else t()}function zr(e,t,n){if((e.f&nt)===0){if(e.f^=nt,e.transitions!==null)for(const u of e.transitions)(u.is_global||n)&&t.push(u);for(var a=e.first;a!==null;){var l=a.next,o=(a.f&Pn)!==0||(a.f&mt)!==0;zr(a,t,o?n:!1),a=l}}}function kr(e){Na(e,!0)}function Na(e,t){if((e.f&nt)!==0){e.f^=nt,(e.f&Se)===0&&(Oe(e,qe),Yt(e));for(var n=e.first;n!==null;){var a=n.next,l=(n.f&Pn)!==0||(n.f&mt)!==0;Na(n,l?t:!1),n=a}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Wt=!1;function Kr(e){Wt=e}let en=!1;function Xr(e){en=e}let H=null,tt=!1;function De(e){H=e}let V=null;function lt(e){V=e}let pt=null;function kl(e){H!==null&&(pt===null?pt=[e]:pt.push(e))}let Re=null,Pe=0,Ue=null;function xl(e){Ue=e}let La=1,cn=0,Ct=cn;function Zr(e){Ct=e}let Et=!1;function Da(){return++La}function bn(e){var t=e.f;if((t&qe)!==0)return!0;if((t&bt)!==0){var n=e.deps,a=(t&We)!==0;if(n!==null){var l,o,u=(t&On)!==0,c=a&&V!==null&&!Et,v=n.length;if((u||c)&&(V===null||(V.f&Xt)===0)){var d=e,_=d.parent;for(l=0;l<v;l++)o=n[l],(u||!o?.reactions?.includes(d))&&(o.reactions??=[]).push(d);u&&(d.f^=On),c&&_!==null&&(_.f&We)===0&&(d.f^=We)}for(l=0;l<v;l++)if(o=n[l],bn(o)&&Ea(o),o.wv>e.wv)return!0}(!a||V!==null&&!Et)&&Oe(e,Se)}return!1}function Fa(e,t,n=!0){var a=e.reactions;if(a!==null&&!pt?.includes(e))for(var l=0;l<a.length;l++){var o=a[l];(o.f&He)!==0?Fa(o,t,!1):t===o&&(n?Oe(o,qe):(o.f&Se)!==0&&Oe(o,bt),Yt(o))}}function Pa(e){var t=Re,n=Pe,a=Ue,l=H,o=Et,u=pt,c=se,v=tt,d=Ct,_=e.f;Re=null,Pe=0,Ue=null,Et=(_&We)!==0&&(tt||!Wt||H===null),H=(_&(mt|Nt))===0?e:null,pt=null,Jt(e.ctx),tt=!1,Ct=++cn,e.ac!==null&&(jn(()=>{e.ac.abort(gr)}),e.ac=null);try{e.f|=ir;var b=e.fn,z=b(),w=e.deps;if(Re!==null){var h;if(Ln(e,Pe),w!==null&&Pe>0)for(w.length=Pe+Re.length,h=0;h<Re.length;h++)w[Pe+h]=Re[h];else e.deps=w=Re;if(!Et||(_&He)!==0&&e.reactions!==null)for(h=Pe;h<w.length;h++)(w[h].reactions??=[]).push(e)}else w!==null&&Pe<w.length&&(Ln(e,Pe),w.length=Pe);if(_n()&&Ue!==null&&!tt&&w!==null&&(e.f&(He|bt|qe))===0)for(h=0;h<Ue.length;h++)Fa(Ue[h],e);return l!==null&&l!==e&&(cn++,Ue!==null&&(a===null?a=Ue:a.push(...Ue))),(e.f&At)!==0&&(e.f^=At),z}catch(k){return pa(k)}finally{e.f^=ir,Re=t,Pe=n,Ue=a,H=l,Et=o,pt=u,Jt(c),tt=v,Ct=d}}function Sl(e,t){let n=t.reactions;if(n!==null){var a=zs.call(n,e);if(a!==-1){var l=n.length-1;l===0?n=t.reactions=null:(n[a]=n[l],n.pop())}}n===null&&(t.f&He)!==0&&(Re===null||!Re.includes(t))&&(Oe(t,bt),(t.f&(We|On))===0&&(t.f^=On),wa(t),Ln(t,0))}function Ln(e,t){var n=e.deps;if(n!==null)for(var a=t;a<n.length;a++)Sl(e,n[a])}function It(e){var t=e.f;if((t&Xt)===0){Oe(e,Se);var n=V,a=Wt;V=e,Wt=!0;try{(t&Kt)!==0?El(e):Ia(e),Ca(e);var l=Pa(e);e.teardown=typeof l=="function"?l:null,e.wv=La;var o;la&&qs&&(e.f&qe)!==0&&e.deps}finally{Wt=a,V=n}}}async function Tl(){await Promise.resolve(),Zs()}function r(e){var t=e.f,n=(t&He)!==0;if(H!==null&&!tt){var a=V!==null&&(V.f&Xt)!==0;if(!a&&!pt?.includes(e)){var l=H.deps;if((H.f&ir)!==0)e.rv<cn&&(e.rv=cn,Re===null&&l!==null&&l[Pe]===e?Pe++:Re===null?Re=[e]:(!Et||!Re.includes(e))&&Re.push(e));else{(H.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[H]:o.includes(H)||o.push(H)}}}else if(n&&e.deps===null&&e.effects===null){var u=e,c=u.parent;c!==null&&(c.f&We)===0&&(u.f^=We)}if(en){if(zt.has(e))return zt.get(e);if(n){u=e;var v=u.v;return((u.f&Se)===0&&u.reactions!==null||Ha(u))&&(v=wr(u)),zt.set(u,v),v}}else n&&(u=e,bn(u)&&Ea(u));if((e.f&At)!==0)throw e.v;return e.v}function Ha(e){if(e.v===xe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(zt.has(t)||(t.f&He)!==0&&Ha(t))return!0;return!1}function S(e){var t=tt;try{return tt=!0,e()}finally{tt=t}}const Ml=-7169;function Oe(e,t){e.f=e.f&Ml|t}function Al(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Gt in e)fr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Gt in n&&fr(n)}}}function fr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{fr(e[a],t)}catch{}const n=_r(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const a=ia(n);for(let l in a){const o=a[l].get;if(o)try{o.call(e)}catch{}}}}}const Cl=["touchstart","touchmove"];function Il(e){return Cl.includes(e)}const Rl=new Set,ea=new Set;function Ol(e,t,n,a={}){function l(o){if(a.capture||on.call(t,o),!o.cancelBubble)return jn(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Lt(()=>{t.addEventListener(e,l,a)}):t.addEventListener(e,l,a),l}function X(e,t,n,a,l){var o={capture:a,passive:l},u=Ol(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&pl(()=>{t.removeEventListener(e,u,o)})}let ta=null;function on(e){var t=this,n=t.ownerDocument,a=e.type,l=e.composedPath?.()||[],o=l[0]||e.target;ta=e;var u=0,c=ta===e&&e.__root;if(c){var v=l.indexOf(c);if(v!==-1&&(t===document||t===window)){e.__root=t;return}var d=l.indexOf(t);if(d===-1)return;v<=d&&(u=v)}if(o=l[u]||e.target,o!==t){lr(e,"currentTarget",{configurable:!0,get(){return o||n}});var _=H,b=V;De(null),lt(null);try{for(var z,w=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var k=o["__"+a];if(k!=null&&(!o.disabled||e.target===o))if(cr(k)){var[C,...q]=k;C.apply(o,[e,...q])}else k.call(o,e)}catch(N){z?w.push(N):z=N}if(e.cancelBubble||h===t||h===null)break;o=h}if(z){for(let N of w)queueMicrotask(()=>{throw N});throw z}}finally{e.__root=t,delete e.currentTarget,De(_),lt(b)}}}function Va(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Dn(e,t){var n=V;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function x(e,t){var n=(t&Bs)!==0,a=(t&js)!==0,l,o=!e.startsWith("<!>");return()=>{l===void 0&&(l=Va(o?e:"<!>"+e),n||(l=Qt(l)));var u=a||ka?document.importNode(l,!0):l.cloneNode(!0);if(n){var c=Qt(u),v=u.lastChild;Dn(c,v)}else Dn(u,u);return u}}function Nl(e,t,n="svg"){var a=!e.startsWith("<!>"),l=`<${n}>${a?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var u=Va(l),c=Qt(u);o=Qt(c)}var v=o.cloneNode(!0);return Dn(v,v),v}}function Gn(e,t){return Nl(e,t,"svg")}function yt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=hn();return e.append(t,n),Dn(t,n),e}function y(e,t){e!==null&&e.before(t)}function P(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Ll(e,t){return Dl(e,t)}const Bt=new Map;function Dl(e,{target:t,anchor:n,props:a={},events:l,context:o,intro:u=!0}){ul();var c=new Set,v=b=>{for(var z=0;z<b.length;z++){var w=b[z];if(!c.has(w)){c.add(w);var h=Il(w);t.addEventListener(w,on,{passive:h});var k=Bt.get(w);k===void 0?(document.addEventListener(w,on,{passive:h}),Bt.set(w,1)):Bt.set(w,k+1)}}};v(dr(Rl)),ea.add(v);var d=void 0,_=bl(()=>{var b=n??t.appendChild(hn());return rl(b,{pending:()=>{}},z=>{if(o){da({});var w=se;w.c=o}l&&(a.$$events=l),d=e(z,a)||{},o&&_a()}),()=>{for(var z of c){t.removeEventListener(z,on);var w=Bt.get(z);--w===0?(document.removeEventListener(z,on),Bt.delete(z)):Bt.set(z,w)}ea.delete(v),b!==n&&b.parentNode?.removeChild(b)}});return Fl.set(d,_),d}let Fl=new WeakMap;function L(e,t,n=!1){var a=e,l=null,o=null,u=xe,c=n?Pn:0,v=!1;const d=(w,h=!0)=>{v=!0,z(h,w)};var _=null;function b(){_!==null&&(_.lastChild.remove(),a.before(_),_=null);var w=u?l:o,h=u?o:l;w&&kr(w),h&&Ut(h,()=>{u?o=null:l=null})}const z=(w,h)=>{if(u!==(u=w)){var k=Ta(),C=a;if(k&&(_=document.createDocumentFragment(),_.append(C=hn())),u?l??=h&&et(()=>h(C)):o??=h&&et(()=>h(C)),k){var q=ae,N=u?l:o,W=u?o:l;N&&q.skipped_effects.delete(N),W&&q.skipped_effects.add(W),q.add_callback(b)}else b()}};Er(()=>{v=!1,t(d),v||z(null,null)},c)}function Xe(e,t){return t}function Pl(e,t,n){for(var a=e.items,l=[],o=t.length,u=0;u<o;u++)zr(t[u].e,l,!0);var c=o>0&&l.length===0&&n!==null;if(c){var v=n.parentNode;fl(v),v.append(n),a.clear(),st(e,t[0].prev,t[o-1].next)}Oa(l,()=>{for(var d=0;d<o;d++){var _=t[d];c||(a.delete(_.k),st(e,_.prev,_.next)),Je(_.e,!c)}})}function Ze(e,t,n,a,l,o=null){var u=e,c={flags:t,items:new Map,first:null},v=(t&ua)!==0;if(v){var d=e;u=d.appendChild(hn())}var _=null,b=!1,z=new Map,w=ya(()=>{var q=n();return cr(q)?q:q==null?[]:dr(q)}),h,k;function C(){Hl(k,h,c,z,u,l,t,a,n),o!==null&&(h.length===0?_?kr(_):_=et(()=>o(u)):_!==null&&Ut(_,()=>{_=null}))}Er(()=>{k??=V,h=r(w);var q=h.length;if(!(b&&q===0)){b=q===0;var N,W,be,Q;if(Ta()){var D=new Set,j=ae;for(W=0;W<q;W+=1){be=h[W],Q=a(be,W);var fe=c.items.get(Q)??z.get(Q);fe?(t&(Hn|Vn))!==0&&Ba(fe,be,W,t):(N=ja(null,c,null,null,be,Q,W,l,t,n,!0),z.set(Q,N)),D.add(Q)}for(const[kt,xt]of c.items)D.has(kt)||j.skipped_effects.add(xt.e);j.add_callback(C)}else C();r(w)}})}function Hl(e,t,n,a,l,o,u,c,v){var d=(u&Hs)!==0,_=(u&(Hn|Vn))!==0,b=t.length,z=n.items,w=n.first,h=w,k,C=null,q,N=[],W=[],be,Q,D,j;if(d)for(j=0;j<b;j+=1)be=t[j],Q=c(be,j),D=z.get(Q),D!==void 0&&(D.a?.measure(),(q??=new Set).add(D));for(j=0;j<b;j+=1){if(be=t[j],Q=c(be,j),D=z.get(Q),D===void 0){var fe=a.get(Q);if(fe!==void 0){a.delete(Q),z.set(Q,fe);var kt=C?C.next:h;st(n,C,fe),st(n,fe,kt),rr(fe,kt,l),C=fe}else{var xt=h?h.e.nodes_start:l;C=ja(xt,n,C,C===null?n.first:C.next,be,Q,j,o,u,v)}z.set(Q,C),N=[],W=[],h=C.next;continue}if(_&&Ba(D,be,j,u),(D.e.f&nt)!==0&&(kr(D.e),d&&(D.a?.unfix(),(q??=new Set).delete(D))),D!==h){if(k!==void 0&&k.has(D)){if(N.length<W.length){var rt=W[0],Ee;C=rt.prev;var Ve=N[0],Ye=N[N.length-1];for(Ee=0;Ee<N.length;Ee+=1)rr(N[Ee],rt,l);for(Ee=0;Ee<W.length;Ee+=1)k.delete(W[Ee]);st(n,Ve.prev,Ye.next),st(n,C,Ve),st(n,Ye,rt),h=rt,C=Ye,j-=1,N=[],W=[]}else k.delete(D),rr(D,h,l),st(n,D.prev,D.next),st(n,D,C===null?n.first:C.next),st(n,C,D),C=D;continue}for(N=[],W=[];h!==null&&h.k!==Q;)(h.e.f&nt)===0&&(k??=new Set).add(h),W.push(h),h=h.next;if(h===null)continue;D=h}N.push(D),C=D,h=D.next}if(h!==null||k!==void 0){for(var Te=k===void 0?[]:dr(k);h!==null;)(h.e.f&nt)===0&&Te.push(h),h=h.next;var ce=Te.length;if(ce>0){var at=(u&ua)!==0&&b===0?l:null;if(d){for(j=0;j<ce;j+=1)Te[j].a?.measure();for(j=0;j<ce;j+=1)Te[j].a?.fix()}Pl(n,Te,at)}}d&&Lt(()=>{if(q!==void 0)for(D of q)D.a?.apply()}),e.first=n.first&&n.first.e,e.last=C&&C.e;for(var K of a.values())Je(K.e);a.clear()}function Ba(e,t,n,a){(a&Hn)!==0&&$t(e.v,t),(a&Vn)!==0?$t(e.i,n):e.i=n}function ja(e,t,n,a,l,o,u,c,v,d,_){var b=(v&Hn)!==0,z=(v&Vs)===0,w=b?z?A(l,!1,!1):Ot(l):l,h=(v&Vn)===0?u:Ot(u),k={i:h,v:w,k:o,a:null,e:null,prev:n,next:a};try{if(e===null){var C=document.createDocumentFragment();C.append(e=hn())}return k.e=et(()=>c(e,w,h,d),Ws),k.e.prev=n&&n.e,k.e.next=a&&a.e,n===null?_||(t.first=k):(n.next=k,n.e.next=k.e),a!==null&&(a.prev=k,a.e.prev=k.e),k}finally{}}function rr(e,t,n){for(var a=e.next?e.next.e.nodes_start:n,l=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==a;){var u=pn(o);l.before(o),o=u}}function st(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Vl(e,t,n){var a=e==null?"":""+e;return a=a?a+" "+t:t,a===""?null:a}function Bl(e,t){return e==null?null:String(e)}function jt(e,t,n,a,l,o){var u=e.__className;if(u!==n||u===void 0){var c=Vl(n,a);c==null?e.removeAttribute("class"):e.className=c,e.__className=n}return o}function Cn(e,t,n,a){var l=e.__style;if(l!==t){var o=Bl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return a}const jl=Symbol("is custom element"),Gl=Symbol("is html");function Ie(e,t,n,a){var l=Ul(e);l[t]!==(l[t]=n)&&(t==="loading"&&(e[As]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Wl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ul(e){return e.__attributes??={[jl]:e.nodeName.includes("-"),[Gl]:e.namespaceURI===Gs}}var na=new Map;function Wl(e){var t=e.getAttribute("is")||e.nodeName,n=na.get(t);if(n)return n;na.set(t,n=[]);for(var a,l=e,o=Element.prototype;o!==l;){a=ia(l);for(var u in a)a[u].set&&n.push(u);l=_r(l)}return n}function ra(e,t,n=t){var a=new WeakSet;dl(e,"input",async l=>{var o=l?e.defaultValue:e.value;if(o=ar(e)?sr(o):o,n(o),ae!==null&&a.add(ae),await Tl(),o!==(o=t())){var u=e.selectionStart,c=e.selectionEnd;e.value=o??"",c!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(c,e.value.length))}}),S(t)==null&&e.value&&(n(ar(e)?sr(e.value):e.value),ae!==null&&a.add(ae)),mn(()=>{var l=t();if(e===document.activeElement){var o=In??ae;if(a.has(o))return}ar(e)&&l===sr(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function ar(e){var t=e.type;return t==="number"||t==="range"}function sr(e){return e===""?null:+e}function aa(e,t){return e===t||e?.[Gt]===t}function Jl(e={},t,n,a){return gl(()=>{var l,o;return mn(()=>{l=o,o=[],S(()=>{e!==n(...o)&&(t(e,...o),l&&aa(n(...l),e)&&t(null,...l))})}),()=>{Lt(()=>{o&&aa(n(...o),e)&&t(null,...o)})}}),e}function ql(e=!1){const t=se,n=t.l.u;if(!n)return;let a=()=>Al(t.s);if(e){let l=0,o={};const u=yr(()=>{let c=!1;const v=t.s;for(const d in v)v[d]!==o[d]&&(o[d]=v[d],c=!0);return c&&l++,l});a=()=>r(u)}n.b.length&&ml(()=>{sa(t,a),Rn(n.b)}),ur(()=>{const l=S(()=>n.m.map(Ss));return()=>{for(const o of l)typeof o=="function"&&o()}}),n.a.length&&ur(()=>{sa(t,a),Rn(n.a)})}function sa(e,t){if(e.l.s)for(const n of e.l.s)r(n);t()}function Ga(e){se===null&&va(),dn&&se.l!==null?$l(se).m.push(e):ur(()=>{const t=S(e);if(typeof t=="function")return t})}function Yl(e){se===null&&va(),Ga(()=>()=>S(e))}function $l(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ql="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ql);Ys();var Kl=x('<div class="rejoin-error svelte-zv9a4n"> </div>'),Xl=x('<div class="rejoin-section svelte-zv9a4n"><div class="rejoin-info svelte-zv9a4n">Resume room <strong class="svelte-zv9a4n"> </strong> as <strong class="svelte-zv9a4n"> </strong>?</div> <!> <div class="rejoin-btns svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Rejoin Game</button> <button class="rejoin-dismiss-btn svelte-zv9a4n">Dismiss</button></div></div> <hr class="rejoin-divider svelte-zv9a4n"/>',1),Zl=x(`<div class="splash-screen svelte-zv9a4n"><div class="splash-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <!> <div class="splash-actions svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Start Single Player</button> <div class="splash-multiplayer svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Join Multiplayer</button> <button class="start-btn svelte-zv9a4n">Start Multiplayer</button></div></div></div></div>`),ei=x('<div class="mp-error svelte-zv9a4n"> </div>'),ti=x('<h2 class="mp-title svelte-zv9a4n"> </h2> <input class="mp-input svelte-zv9a4n" type="text" placeholder="Your name"/> <!> <div class="mp-btn-row svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Back</button> <button class="start-btn svelte-zv9a4n"> </button></div>',1),ni=x('<div class="mp-error svelte-zv9a4n"> </div>'),ri=x('<h2 class="mp-title svelte-zv9a4n">Join a Room</h2> <input class="mp-input mp-token-input svelte-zv9a4n" type="text" placeholder="Room code"/> <!> <div class="mp-btn-row svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Back</button> <button class="start-btn svelte-zv9a4n">Join</button></div>',1),ai=x('<div class="mp-connecting svelte-zv9a4n">Connecting…</div>'),si=x('<span class="starting-letter svelte-zv9a4n"> </span>'),li=x('<div class="mp-starting-screen svelte-zv9a4n"><div class="mp-starting-word svelte-zv9a4n"><!> <span class="starting-ellipsis svelte-zv9a4n">…</span></div></div>'),ii=x('<div class="mp-share-label svelte-zv9a4n">Share this code with friends:</div> <div class="mp-token-display svelte-zv9a4n"> <button class="mp-copy-btn svelte-zv9a4n">Copy</button></div>',1),oi=x('<div class="mp-room-label svelte-zv9a4n">Room: <strong class="svelte-zv9a4n"> </strong></div>'),vi=x('<span class="lobby-host-badge svelte-zv9a4n">Host</span>'),ui=x('<div><!> <span class="svelte-zv9a4n"> </span></div>'),fi=x('<div class="mp-error svelte-zv9a4n"> </div>'),ci=x('<button class="start-btn svelte-zv9a4n">Start Game</button>'),di=x('<div class="mp-waiting svelte-zv9a4n">Waiting for host to start…</div>'),_i=x('<h2 class="mp-title svelte-zv9a4n">Game Lobby</h2> <!> <div class="lobby-players svelte-zv9a4n"></div> <!> <div class="mp-btn-row svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Leave</button> <!></div>',1),hi=x(`<div class="mp-overlay svelte-zv9a4n"><div class="mp-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <!></div></div>`),pi=Gn('<svg class="trophy-svg svelte-zv9a4n" viewBox="0 0 24 24"><path d="M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H9v2h6v-2h-2v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z" class="svelte-zv9a4n"></path></svg>'),mi=x('<span class="win-badge svelte-zv9a4n"> </span>'),bi=x('<div><span class="mp-end-lb-rank svelte-zv9a4n"></span> <span class="mp-end-lb-name svelte-zv9a4n"> <!> <!></span> <span class="mp-end-lb-score svelte-zv9a4n"> </span></div>'),gi=x('<div class="mp-end-leaderboard svelte-zv9a4n"><h4 class="mp-end-lb-heading svelte-zv9a4n">Final Standings:</h4> <!></div>'),yi=x('<div class="rematch-cancel-msg svelte-zv9a4n"> </div>'),wi=x('<span> <span class="word-pts svelte-zv9a4n"> </span></span>'),Ei=x('<div class="mp-words-list svelte-zv9a4n"></div>'),zi=x('<div class="no-words svelte-zv9a4n">No words found.</div>'),ki=x('<span class="found-word svelte-zv9a4n"> <span class="word-pts svelte-zv9a4n"> </span></span>'),xi=x('<div class="mp-words-list svelte-zv9a4n"></div>'),Si=x('<button class="start-btn svelte-zv9a4n">Rematch</button>'),Ti=x(`<div class="splash-screen end-splash svelte-zv9a4n"><div class="splash-inner end-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <div class="end-summary svelte-zv9a4n"><!> <!> <div class="end-score svelte-zv9a4n"> <span class="big-score svelte-zv9a4n"> </span></div> <h4 class="svelte-zv9a4n">Your Words:</h4> <div class="end-words-scroll svelte-zv9a4n"><!></div> <div style="margin-top:12px; text-align:center; display:flex; gap:12px; justify-content:center; flex-wrap:wrap;" class="svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">View Board</button> <!> <button class="start-btn svelte-zv9a4n">Main Menu</button></div></div></div></div>`),Mi=x('<span class="rematch-status-ok svelte-zv9a4n">✓</span>'),Ai=x('<span class="rematch-status-wait svelte-zv9a4n">…</span>'),Ci=x('<div class="rematch-vote-row svelte-zv9a4n"><!> <span class="svelte-zv9a4n"> </span></div>'),Ii=x('<button class="start-btn svelte-zv9a4n">Join Rematch!</button> <div style="margin-top:10px;" class="svelte-zv9a4n"><button class="rejoin-dismiss-btn svelte-zv9a4n">Back to Results</button></div>',1),Ri=x('<div class="mp-waiting svelte-zv9a4n">Waiting for others…</div>'),Oi=x('<h2 class="mp-title svelte-zv9a4n">Rematch?</h2> <div class="rematch-timer svelte-zv9a4n"><svg class="hourglass-icon svelte-zv9a4n" width="48" height="48" viewBox="0 0 24 24" fill="#3b2a1a"><path d="M6 2v6l4 4-4 4v6h12v-6l-4-4 4-4V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z" class="svelte-zv9a4n"></path></svg> <span class="rematch-time-num svelte-zv9a4n"> </span></div> <div class="rematch-votes-list svelte-zv9a4n"></div> <!>',1),Ni=x('<div class="rematch-vote-row svelte-zv9a4n"><span class="rematch-status-ok svelte-zv9a4n">✓</span> <span class="svelte-zv9a4n"> </span></div>'),Li=x('<h2 class="mp-title svelte-zv9a4n">Get Ready!</h2> <div class="rematch-timer svelte-zv9a4n"><svg class="hourglass-icon svelte-zv9a4n" width="48" height="48" viewBox="0 0 24 24" fill="#3b2a1a"><path d="M6 2v6l4 4-4 4v6h12v-6l-4-4 4-4V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z" class="svelte-zv9a4n"></path></svg> <span class="rematch-time-num svelte-zv9a4n"> </span></div> <div class="rematch-votes-list svelte-zv9a4n"></div> <div class="mp-waiting svelte-zv9a4n">Game starting soon…</div> <div style="margin-top:10px;" class="svelte-zv9a4n"><button class="rejoin-dismiss-btn svelte-zv9a4n">Back to Results</button></div>',1),Di=x('<div class="mp-connecting svelte-zv9a4n">Connecting…</div>'),Fi=x(`<div class="rematch-overlay svelte-zv9a4n"><div class="mp-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <!></div></div>`),Pi=x('<span class="selection-number svelte-zv9a4n"> </span>'),Hi=x('<div class="focus-indicator svelte-zv9a4n"></div>'),Vi=x('<div role="button" tabindex="-1"> <!> <!></div>'),Bi=Gn('<line stroke="#2196F3" stroke-width="3" stroke-linecap="round" class="svelte-zv9a4n"></line>'),ji=x('<div class="current-word-display svelte-zv9a4n">Current Word: <span> </span></div> <div class="controls-row svelte-zv9a4n"><button class="clear-btn svelte-zv9a4n">Clear</button> <button class="submit-btn svelte-zv9a4n">Submit</button></div>',1),Gi=x('<div class="controls-row center svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">View Results</button></div>'),Ui=x('<div><span class="lb-rank svelte-zv9a4n"></span> <span class="lb-name svelte-zv9a4n"> </span> <span class="lb-score svelte-zv9a4n"> </span></div>'),Wi=x('<div class="leaderboard-panel svelte-zv9a4n"><h3 class="lb-title svelte-zv9a4n">Live Scores</h3> <!></div>'),Ji=x('<span class="found-word svelte-zv9a4n"> </span>'),qi=x(`<div class="game-container svelte-zv9a4n"><div class="header-image-wrap svelte-zv9a4n" style="display:none;"><img alt="Hob Gobblin' header" class="header-image svelte-zv9a4n"/></div> <div class="board-and-progress svelte-zv9a4n"><div class="progress-rail svelte-zv9a4n" aria-hidden="true"><div class="progress-fill svelte-zv9a4n"></div></div> <div class="board-container svelte-zv9a4n"><div class="board svelte-zv9a4n"><!> <svg class="connection-lines svelte-zv9a4n" viewBox="0 0 400 400"></svg></div></div></div> <div class="board-controls svelte-zv9a4n"><!></div> <!> <div class="found-words svelte-zv9a4n"><h3 class="svelte-zv9a4n"> </h3> <div class="words-list svelte-zv9a4n"></div></div></div>`),Yi=x('<div class="fullscreen-countdown-overlay svelte-zv9a4n"><div class="countdown-number svelte-zv9a4n"> </div></div>'),$i=x('<div class="score-popup show svelte-zv9a4n"> </div>'),Qi=x('<div class="disconnect-banner svelte-zv9a4n" role="alert" aria-live="polite"> <button class="mp-dismiss-btn svelte-zv9a4n">x</button></div>'),Ki=Gn('<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" class="svelte-zv9a4n"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" class="svelte-zv9a4n"></path></svg>'),Xi=Gn('<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" class="svelte-zv9a4n"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" class="svelte-zv9a4n"></path></svg>'),Zi=x('<main class="svelte-zv9a4n"><!> <!> <!> <!> <!></main> <!> <!> <!> <button class="mute-btn svelte-zv9a4n"><!></button>',1);function eo(e,t){da(t,!1);const n=A(),a=A(),l=A(),o=A(),u=A(),c="/hob-gobblin/";let v=A([]),d=A([]),_=A(""),b=[],z=new Set,w=180,h=A(w),k=A(!1),C=A(0),q=A(),N=A(0),W=A(!1),be=A(3),Q=null,D=null,j=null,fe=null,kt=A(""),xt=A(!1),rt=null,Ee=A(!1),Ve=A(!0),Ye=A(!1),Te=A([]),ce=A(!1),at=A(null),K=null,ot=!1,$e=A(null),ne=A(null),Be=A(""),de=A(""),vt=A([]),J=A("none"),Ae=A(null),Qe=A(""),Ke=A([]),Dt=A(""),ut=A([]),gn=null,Fe=A("none"),St=A([]),yn=A([]),Ft=null,ft=A(0),_e=null,Un=!1,tn=A(""),Ne=A({}),nn=A(!1);const wn=["Combobulating","Scrabblizing","Defunkerating","Sporadicizing"];let En=A(""),zn=null,je=A(null),Pt=A("");function Ua(){s(Ye,!1),s(Ve,!1)}const Wa=["AAEEGN","ELRTTY","AOOTTW","ABBJOO","EHRTVW","CIMOTU","DISTTY","EIOSST","DELRVY","ACHOPS","HIMNQU","EEINSU","EEGHNW","AFFKPS","HLNNRZ","DEILRX"];Ga(()=>{Ja(),Jn(),document.addEventListener("keydown",Wn),window.addEventListener("beforeunload",xr);try{const i=localStorage.getItem("hobGobblinMuted");i!==null&&s(Ee,i==="true")}catch{}try{const i=sessionStorage.getItem("hobGobblinSession");if(i){const f=JSON.parse(i);f?.roomToken&&f?.playerName&&f?.playerId&&s(je,f)}}catch{}return()=>{document.removeEventListener("keydown",Wn),window.removeEventListener("beforeunload",xr)}});function xr(i){if(r(k)||r(W)||r(ce)&&(r(J)==="lobby"||r(J)==="starting"))return i.preventDefault(),i.returnValue="",""}function kn(){try{sessionStorage.setItem("hobGobblinSession",JSON.stringify({roomToken:r(de),playerName:r(Be),playerId:r(ne),mpRole:r(at)})),history.replaceState(null,"",window.location.pathname+window.location.search+"#"+r(de))}catch{}}function Ht(){try{sessionStorage.removeItem("hobGobblinSession")}catch{}history.replaceState(null,"",window.location.pathname+window.location.search),s(je,null)}function Wn(i){if(!(!r(k)||r(W)))if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(i.key)&&i.preventDefault(),i.key==="Escape")Tn();else if(i.key==="Enter")r(_).length>=3&&Tr();else if(i.key===" "){const f=b.indexOf(r(N));f!==-1?Sr(f):Yn(r(N))}else i.key==="ArrowUp"?xn("up"):i.key==="ArrowDown"?xn("down"):i.key==="ArrowLeft"?xn("left"):i.key==="ArrowRight"&&xn("right")}function xn(i){const f=Math.floor(r(N)/4),E=r(N)%4;let T=f,ge=E;switch(i){case"up":T=Math.max(0,f-1);break;case"down":T=Math.min(3,f+1);break;case"left":ge=Math.max(0,E-1);break;case"right":ge=Math.min(3,E+1);break}const Me=T*4+ge;Me!==r(N)&&(s(N,Me),s(v,[...r(v)]))}async function Ja(){try{const E=(await(await fetch(c+"scrabble.txt")).text()).split(`
`).map(T=>T.trim().toUpperCase()).filter(T=>T.length>=3);z=new Set(E),console.log(`Loaded ${z.size} valid words`)}catch(i){console.error("Error loading word list:",i)}}function Jn(){s(v,[]);for(let i=0;i<16;i++){const E=Wa[i],T=E[Math.floor(Math.random()*E.length)];r(v).push({letter:T==="Q"?"Qu":T,value:T==="Q"?"QU":T.toUpperCase(),displayLetter:T==="Q"?"Qu":T,index:i,selected:!1,selectionOrder:-1,flashColor:null})}}function qn(){r(Ee)||new Audio(c+"goblinStart.mp3").play().catch(()=>{}),s(d,[]),s(C,0),s(N,0),s(h,180),r(ce)||Jn(),s(W,!0),s(nn,!0),s(be,3);const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";Q=setInterval(()=>{s(v,r(v).map(f=>({...f,displayLetter:Math.random()<.12?"Qu":i[Math.floor(Math.random()*i.length)]})))},80),D=setInterval(()=>{s(be,r(be)-1),r(be)<=0&&(clearInterval(D),D=null)},1e3),j=setTimeout(()=>{Q&&(clearInterval(Q),Q=null),s(v,r(v).map(f=>({...f,displayLetter:f.letter}))),s(be,0),j=setTimeout(()=>{s(W,!1),s(k,!0),fe=setInterval(()=>{qr(h,-1),r(h)<=0&&(clearInterval(fe),fe=null,Sn())},1e3)},700)},3e3)}function qa(){s(Ve,!1),setTimeout(()=>qn(),40)}Yl(()=>{Q&&clearInterval(Q),D&&clearInterval(D),j&&clearTimeout(j),fe&&clearInterval(fe),_e&&clearInterval(_e),document.removeEventListener("keydown",Wn),K?.close(),rn()});function Sn(){r(k)&&(s(k,!1),fe&&(clearInterval(fe),fe=null),Q&&(clearInterval(Q),Q=null),D&&(clearInterval(D),D=null),j&&(clearTimeout(j),j=null),r(ce)&&r(ut).length>0?s(Te,[...r(ut)]):(s(Te,r(d).map(i=>({word:i,points:Mr(i)}))),r(Te).sort((i,f)=>f.points-i.points||i.word.localeCompare(f.word))),s(Ye,!0),s(Ve,!1),Ht())}function Ya(){if(r(ce)){if(Ht(),K){try{K.send(JSON.stringify({type:"LEAVE_ROOM",token:r(de)}))}catch{}K.close(),K=null}s(ce,!1),s(at,null),ot=!1,s(ne,null),s(de,""),s(vt,[]),s(Ke,[]),s(J,"none"),s(Ae,null),s(Qe,""),s($e,null),s(Dt,"")}s(Ye,!1),s(Ve,!0),s(d,[]),b=[],s(_,""),s(C,0),s(h,180),s(k,!1),s(W,!1),s(nn,!1),s(ut,[]),gn=null,s(Fe,"none"),s(St,[]),s(yn,[]),Ft=null,s(ft,0),_e&&(clearInterval(_e),_e=null),s(tn,""),s(Ne,{}),rn(),Jn()}function Yn(i){if(!r(k)||r(W))return;s(N,i),s(v,[...r(v)]);const f=r(v)[i],E=b.indexOf(i);if(E!==-1){Sr(E);return}if(b.length===0)b=[i],s(_,f.value),$n();else{const T=b[b.length-1];$a(T,i)&&(b.push(i),s(_,r(_)+f.value),$n())}}function Sr(i){b=b.slice(0,i+1),s(_,"");for(let f=0;f<b.length;f++){const E=b[f];s(_,r(_)+r(v)[E].value)}$n()}function $n(){s(v,r(v).map((i,f)=>({...i,selected:b.includes(f),selectionOrder:b.indexOf(f)})))}function $a(i,f){const E=Math.floor(i/4),T=i%4,ge=Math.floor(f/4),Me=f%4;return Math.abs(E-ge)<=1&&Math.abs(T-Me)<=1}function Tr(){if(r(_).length<3){Tn();return}let i="invalid";if(z.has(r(_)))if(r(d).includes(r(_)))i="duplicate";else{i="valid",s(d,[...r(d),r(_)]);const f=Mr(r(_));s(C,r(C)+f),Qa(f),r(ce)&&ot&&K.send(JSON.stringify({type:"WORD_FOUND",token:r(de),word:r(_),score:r(C)}))}Ka(i),setTimeout(()=>{Tn()},225)}function Qa(i){rt&&(clearTimeout(rt),rt=null),s(kt,`+${i}`),s(xt,!0),rt=setTimeout(()=>{s(xt,!1),rt=null},900)}function Ka(i){console.log("Animating word submission:",i,"Selected cells:",b);const E={valid:"#4CAF50",invalid:"#f44336",duplicate:"#FF9800"}[i];console.log("Flash color:",E),s(v,r(v).map((T,ge)=>({...T,flashColor:b.includes(ge)?E:null}))),setTimeout(()=>{s(v,r(v).map(T=>({...T,flashColor:null})))},200)}function Mr(i){const f=i.length;return f<=4?1:f===5?2:f===6?3:f===7?5:11}function Tn(){const i=b.length>0?b[b.length-1]:r(N);b=[],s(_,""),s(v,r(v).map(f=>({...f,selected:!1,selectionOrder:-1,flashColor:null}))),typeof i=="number"&&(s(N,i),s(v,[...r(v)]))}function Ar(i){if(!r(q))return{x:0,y:0};const f=r(q).children[i];if(!f)return{x:0,y:0};const E=f.getBoundingClientRect(),T=r(q).getBoundingClientRect();return{x:E.left-T.left+E.width/2,y:E.top-T.top+E.height/2}}function Xa(){if(b.length<2)return[];const i=[];for(let f=0;f<b.length-1;f++){const E=Ar(b[f]),T=Ar(b[f+1]);i.push({start:E,end:T})}return i}function Za(i){return!i||i.length<3?"incomplete":r(d).includes(i)?"already-found":z.has(i)?"valid":"invalid"}const es="wss://kznjk.com/ws";function Qn(){s($e,null),s(J,"connecting");try{K=new WebSocket(es)}catch{s($e,"Could not connect to server."),s(J,r(Ae)==="join"?"tokenEntry":"nameEntry");return}K.onopen=()=>{ot=!0,r(Ae)==="create"?K.send(JSON.stringify({type:"CREATE_ROOM",playerName:r(Be)})):r(Ae)==="rejoin"?K.send(JSON.stringify({type:"REJOIN_ROOM",token:r(de),playerName:r(Be),playerId:r(ne)})):K.send(JSON.stringify({type:"JOIN_ROOM",playerName:r(Be),token:r(de).toUpperCase()}))},K.onmessage=i=>{try{ts(JSON.parse(i.data))}catch(f){console.error("Failed to parse server message:",f)}},K.onclose=()=>{ot=!1},K.onerror=()=>{s($e,"Connection error. Is the server running?"),ot=!1,r(J)==="connecting"&&(r(Ae)==="rejoin"?(s(Pt,r($e)),s(J,"none")):s(J,r(Ae)==="join"?"tokenEntry":"nameEntry"))}}function ts(i){switch(i.type){case"ROOM_CREATED":s(ne,i.playerId),s(de,i.token),s(at,"host"),s(ce,!0),s(vt,[{id:i.playerId,name:i.playerName,isHost:!0}]),s(J,"lobby"),kn();break;case"ROOM_JOINED":s(ne,i.playerId),s(at,"guest"),s(ce,!0),s(vt,i.players),s(J,"lobby"),kn();break;case"LOBBY_UPDATE":s(vt,i.players);break;case"GAME_START":s(Ke,r(vt).map(f=>({id:f.id,name:f.name,score:0}))),Kn(i.board),s(J,"starting"),Rr();{const f=Math.max(0,i.startAt-Date.now());setTimeout(()=>{rn(),s(Ve,!1),s(J,"none"),qn()},f)}break;case"LEADERBOARD_UPDATE":s(Ke,i.leaderboard);break;case"GAME_END":if(s(Ne,i.winCounts||r(Ne)),s(Ke,i.leaderboard),i.playerResults&&r(ne)&&i.playerResults[r(ne)]){const f=i.playerResults[r(ne)];s(ut,(f.words||[]).slice().sort((E,T)=>T.points-E.points||E.word.localeCompare(T.word))),gn=f.finalScore,s(C,gn),!r(k)&&r(Ye)&&s(Te,[...r(ut)])}Ht(),r(k)&&Sn();break;case"GAME_REJOINED":is(i);break;case"PLAYER_DISCONNECTED":s(Dt,i.playerName),setTimeout(()=>{s(Dt,"")},5e3);break;case"ERROR":if(r(Ae)==="rejoin"){if(s(Pt,i.message),(i.code==="GAME_ENDED"||i.code==="ROOM_NOT_FOUND")&&Ht(),s(J,"none"),ot=!1,K){try{K.close()}catch{}K=null}}else s(Qe,i.message),r(J)==="connecting"&&s(J,r(Ae)==="join"?"tokenEntry":"nameEntry");break;case"REMATCH_INITIATED":s(St,i.votes||[]),Ft=i.expiresAt,s(ft,Math.max(0,Math.round((i.expiresAt-Date.now())/1e3))),_e&&(clearInterval(_e),_e=null),_e=setInterval(()=>{s(ft,Math.max(0,Math.round((Ft-Date.now())/1e3)))},500),s(Fe,"voting");break;case"REMATCH_UPDATE":s(St,i.votes||[]);break;case"REMATCH_STARTING":_e&&(clearInterval(_e),_e=null),s(yn,i.players||[]),Ft=i.startsAt,s(ft,Math.max(0,Math.round((i.startsAt-Date.now())/1e3))),Un=!1,_e=setInterval(()=>{s(ft,Math.max(0,Math.round((Ft-Date.now())/1e3))),r(ft)<=10&&!Un&&(Un=!0,r(Ee)||new Audio(c+"goblinRematch.mp3").play().catch(()=>{}))},500),s(Fe,"starting");break;case"REMATCH_CANCELLED":_e&&(clearInterval(_e),_e=null),s(Fe,"none"),i.soloPlayerId===r(ne)&&s(tn,"Aww, no one wants to play with you!");break;case"REMATCH_START":{_e&&(clearInterval(_e),_e=null),s(Fe,"none"),s(St,[]),s(yn,[]),Ft=null,s(ft,0),s(tn,""),s(Ne,i.winCounts||r(Ne)),s(Ye,!1),s(C,0),s(d,[]),s(ut,[]),gn=null,s(Te,[]),i.players&&s(Ke,i.players.map(f=>({id:f.id,name:f.name,score:0}))),kn(),Kn(i.board),s(J,"starting"),Rr();{const f=Math.max(0,i.startAt-Date.now());setTimeout(()=>{rn(),s(Ve,!1),s(J,"none"),qn()},f)}break}}}function Kn(i){s(v,i.map((f,E)=>({letter:f==="Q"?"Qu":f,value:f==="Q"?"QU":f.toUpperCase(),displayLetter:f==="Q"?"Qu":f,index:E,selected:!1,selectionOrder:-1,flashColor:null})))}function Cr(){r(Be).trim()&&(r(Ae)==="create"?Qn():(s(Qe,""),s(J,"tokenEntry")))}function Ir(){r(de).trim()&&(s(Qe,""),Qn())}function ns(){K&&ot&&K.send(JSON.stringify({type:"START_GAME",token:r(de)}))}function rs(){if(K){try{K.send(JSON.stringify({type:"LEAVE_ROOM",token:r(de)}))}catch{}K.close(),K=null}s(ce,!1),s(at,null),ot=!1,s(ne,null),s(de,""),s(vt,[]),s(Ke,[]),s(J,"none"),s(Ae,null),s(Qe,""),s($e,null),Ht(),s(nn,!1),rn(),s(Ve,!0)}function as(){navigator.clipboard.writeText(r(de)).catch(()=>{})}function ss(){s(Ee,!r(Ee));try{localStorage.setItem("hobGobblinMuted",String(r(Ee)))}catch{}}function ls(){r(je)&&(s(Pt,""),s(Be,r(je).playerName),s(ne,r(je).playerId),s(at,r(je).mpRole||"guest"),s(de,r(je).roomToken),s(Ae,"rejoin"),Qn())}function is(i){s(ne,i.playerId),s(ce,!0),s(Ke,i.leaderboard||[]),Kn(i.board),s(d,i.foundWords||[]),s(C,i.score||0);const f=Math.max(0,Math.floor((i.gameEndAt-Date.now())/1e3));s(h,f),s(Ve,!1),s(J,"none"),s(nn,!0),s(k,!0),kn(),f>0?fe=setInterval(()=>{qr(h,-1),r(h)<=0&&(clearInterval(fe),fe=null,Sn())},1e3):Sn()}function Rr(){let i=Math.floor(Math.random()*wn.length);s(En,wn[i]),zn=setInterval(()=>{i=(i+1)%wn.length,s(En,wn[i])},900)}function rn(){zn&&(clearInterval(zn),zn=null)}function Or(){!K||!ot||(K.send(JSON.stringify({type:"REMATCH_VOTE",token:r(de)})),r(Fe)==="none"&&s(Fe,"pending"))}function Nr(){s(Fe,"none"),clearInterval(_e),_e=null}Vt(()=>r(Ne),()=>{s(n,Object.values(r(Ne)).length>0?Math.max(...Object.values(r(Ne))):0)}),Vt(()=>(r(St),r(ne)),()=>{s(a,!!r(St).find(i=>i.id===r(ne)&&i.accepted))}),Vt(()=>r(Te),()=>{s(l,(()=>{const i=new Map;for(const f of r(Te)){const E=f.points;i.has(E)||i.set(E,[]),i.get(E).push(f.word)}return Array.from(i.entries()).sort((f,E)=>E[0]-f[0]).map(([f,E])=>({points:f,words:E}))})())}),Vt(()=>r(h),()=>{s(o,Math.max(0,Math.round(r(h)/w*100)))}),Vt(()=>r(h),()=>{s(u,(()=>{const i=r(h)/w;return i>.8?"#2196F3":i>.6?"#4CAF50":i>.4?"#FFEB3B":i>.2?"#FF9800":i>.05?"#f44336":"#000000"})())}),Vt(()=>r(k),()=>{typeof document<"u"&&(r(k)?document.body.classList.add("game-playing"):document.body.classList.remove("game-playing"))}),yl(),ql();var Lr=Zi(),Dr=ke(Lr),Fr=p(Dr);{var os=i=>{var f=Zl(),E=p(f),T=p(E),ge=m(T,2);{var Me=me=>{var Z=Xl(),ve=ke(Z),le=p(ve),pe=m(p(le)),Y=p(pe),G=m(pe,2),B=p(G),ue=m(le,2);{var ee=R=>{var I=Kl(),O=p(I);F(()=>P(O,r(Pt))),y(R,I)};L(ue,R=>{r(Pt)&&R(ee)})}var U=m(ue,2),g=p(U),M=m(g,2);F(()=>{P(Y,(r(je),S(()=>r(je).roomToken))),P(B,(r(je),S(()=>r(je).playerName)))}),X("click",g,ls),X("click",M,()=>{Ht(),s(Pt,"")}),y(me,Z)};L(ge,me=>{r(je)&&me(Me)})}var ct=m(ge,2),he=p(ct),ye=m(he,2),ze=p(ye),Le=m(ze,2);F(()=>Ie(T,"src",c+"header.png")),X("click",he,qa),X("click",ze,()=>{s(Ae,"join"),s(J,"nameEntry"),s(Be,""),s(Qe,""),s($e,null)}),X("click",Le,()=>{s(Ae,"create"),s(J,"nameEntry"),s(Be,""),s($e,null)}),y(i,f)};L(Fr,i=>{r(Ve)&&i(os)})}var Pr=m(Fr,2);{var vs=i=>{var f=hi(),E=p(f),T=p(E),ge=m(T,2);{var Me=he=>{var ye=ti(),ze=ke(ye),Le=p(ze),me=m(ze,2);Ie(me,"maxlength",20),$r(me);var Z=m(me,2);{var ve=B=>{var ue=ei(),ee=p(ue);F(()=>P(ee,r($e))),y(B,ue)};L(Z,B=>{r($e)&&B(ve)})}var le=m(Z,2),pe=p(le),Y=m(pe,2),G=p(Y);F(B=>{P(Le,r(Ae)==="create"?"Start Multiplayer":"Join a Room"),Y.disabled=B,P(G,r(Ae)==="create"?"Create Room":"Next")},[()=>(r(Be),S(()=>!r(Be).trim()))]),ra(me,()=>r(Be),B=>s(Be,B)),X("keydown",me,B=>B.key==="Enter"&&Cr()),X("click",pe,()=>{s(J,"none"),s($e,null)}),X("click",Y,Cr),y(he,ye)},ct=he=>{var ye=yt(),ze=ke(ye);{var Le=Z=>{var ve=ri(),le=m(ke(ve),2);Ie(le,"maxlength",6),$r(le);var pe=m(le,2);{var Y=ee=>{var U=ni(),g=p(U);F(()=>P(g,r(Qe))),y(ee,U)};L(pe,ee=>{r(Qe)&&ee(Y)})}var G=m(pe,2),B=p(G),ue=m(B,2);F(ee=>ue.disabled=ee,[()=>(r(de),S(()=>!r(de).trim()))]),ra(le,()=>r(de),ee=>s(de,ee)),X("keydown",le,ee=>ee.key==="Enter"&&Ir()),X("click",B,()=>{s(J,"nameEntry"),s(Qe,"")}),X("click",ue,Ir),y(Z,ve)},me=Z=>{var ve=yt(),le=ke(ve);{var pe=G=>{var B=ai();y(G,B)},Y=G=>{var B=yt(),ue=ke(B);{var ee=g=>{var M=li(),R=p(M),I=p(R);Ze(I,1,()=>(r(En),S(()=>r(En).split(""))),Xe,(O,$,ie)=>{var we=si();Cn(we,`animation-delay: ${ie*.07}s`);var oe=p(we);F(()=>P(oe,r($))),y(O,we)}),y(g,M)},U=g=>{var M=yt(),R=ke(M);{var I=O=>{var $=_i(),ie=m(ke($),2);{var we=re=>{var te=ii(),_t=m(ke(te),2),Tt=p(_t),er=m(Tt);F(()=>P(Tt,`${r(de)??""} `)),X("click",er,as),y(re,te)},oe=re=>{var te=oi(),_t=m(p(te)),Tt=p(_t);F(()=>P(Tt,r(de))),y(re,te)};L(ie,re=>{r(at)==="host"?re(we):re(oe,!1)})}var Ce=m(ie,2);Ze(Ce,5,()=>r(vt),Xe,(re,te)=>{var _t=ui(),Tt=p(_t);{var er=tr=>{var Es=vi();y(tr,Es)};L(Tt,tr=>{r(te),S(()=>r(te).isHost)&&tr(er)})}var ys=m(Tt,2),ws=p(ys);F(()=>{jt(_t,1,`lobby-player-row ${r(te),r(ne),S(()=>r(te).id===r(ne)?"is-me":"")??""}`,"svelte-zv9a4n"),P(ws,`${r(te),S(()=>r(te).name)??""}${r(te),r(ne),S(()=>r(te).id===r(ne)?" (you)":"")??""}`)}),y(re,_t)});var Ge=m(Ce,2);{var an=re=>{var te=fi(),_t=p(te);F(()=>P(_t,r(Qe))),y(re,te)};L(Ge,re=>{r(Qe)&&re(an)})}var sn=m(Ge,2),An=p(sn),Xn=m(An,2);{var Zn=re=>{var te=ci();F(()=>te.disabled=(r(vt),S(()=>r(vt).length<2))),X("click",te,ns),y(re,te)},dt=re=>{var te=di();y(re,te)};L(Xn,re=>{r(at)==="host"?re(Zn):re(dt,!1)})}X("click",An,rs),y(O,$)};L(R,O=>{r(J)==="lobby"&&O(I)},!0)}y(g,M)};L(ue,g=>{r(J)==="starting"?g(ee):g(U,!1)},!0)}y(G,B)};L(le,G=>{r(J)==="connecting"?G(pe):G(Y,!1)},!0)}y(Z,ve)};L(ze,Z=>{r(J)==="tokenEntry"?Z(Le):Z(me,!1)},!0)}y(he,ye)};L(ge,he=>{r(J)==="nameEntry"?he(Me):he(ct,!1)})}F(()=>Ie(T,"src",c+"header.png")),y(i,f)};L(Pr,i=>{r(J)!=="none"&&i(vs)})}var Hr=m(Pr,2);{var us=i=>{var f=Ti(),E=p(f),T=p(E),ge=m(T,2),Me=p(ge);{var ct=g=>{var M=gi(),R=m(p(M),2);Ze(R,1,()=>r(Ke),Xe,(I,O,$)=>{var ie=bi(),we=p(ie);we.textContent=`#${$+1}`;var oe=m(we,2),Ce=p(oe),Ge=m(Ce);{var an=dt=>{var re=pi();y(dt,re)};L(Ge,dt=>{r(n),r(Ne),r(O),S(()=>r(n)>0&&r(Ne)[r(O).id]===r(n))&&dt(an)})}var sn=m(Ge,2);{var An=dt=>{var re=mi(),te=p(re);F(()=>P(te,`${r(Ne),r(O),S(()=>r(Ne)[r(O).id])??""}W`)),y(dt,re)};L(sn,dt=>{r(Ne),r(O),S(()=>r(Ne)[r(O).id]>0)&&dt(An)})}var Xn=m(oe,2),Zn=p(Xn);F(()=>{jt(ie,1,`mp-end-lb-row ${$===0?"mp-lb-first":""} ${r(O),r(ne),S(()=>r(O).id===r(ne)?"mp-lb-me":"")??""}`,"svelte-zv9a4n"),P(Ce,`${r(O),S(()=>r(O).name)??""}${r(O),r(ne),S(()=>r(O).id===r(ne)?" (you)":"")??""} `),P(Zn,(r(O),S(()=>r(O).score)))}),y(I,ie)}),y(g,M)};L(Me,g=>{r(ce),r(Ke),S(()=>r(ce)&&r(Ke).length>0)&&g(ct)})}var he=m(Me,2);{var ye=g=>{var M=yi(),R=p(M);F(()=>P(R,r(tn))),y(g,M)};L(he,g=>{r(tn)&&g(ye)})}var ze=m(he,2),Le=p(ze),me=m(Le),Z=p(me),ve=m(ze,4),le=p(ve);{var pe=g=>{var M=Ei();Ze(M,5,()=>r(ut),Xe,(R,I)=>{var O=wi(),$=p(O),ie=m($),we=p(ie);F(()=>{jt(O,1,`found-word ${r(I),S(()=>r(I).tag==="contested_first"?"mp-word-first":"")??""} ${r(I),S(()=>r(I).tag==="contested_second"?"mp-word-second":"")??""}`,"svelte-zv9a4n"),Ie(O,"title",(r(I),S(()=>r(I).tag==="contested_first"?"Also found by another player — 1 pt":r(I).tag==="contested_second"?"Found first by another player — 0 pts":""))),P($,`${r(I),S(()=>r(I).word)??""} `),P(we,`(${r(I),S(()=>r(I).points)??""})`)}),y(R,O)}),y(g,M)},Y=g=>{var M=yt(),R=ke(M);{var I=$=>{var ie=zi();y($,ie)},O=$=>{var ie=xi();Ze(ie,5,()=>r(Te),Xe,(we,oe)=>{var Ce=ki(),Ge=p(Ce),an=m(Ge),sn=p(an);F(()=>{P(Ge,`${r(oe),S(()=>r(oe).word)??""} `),P(sn,`(${r(oe),S(()=>r(oe).points)??""})`)}),y(we,Ce)}),y($,ie)};L(R,$=>{r(Te),S(()=>r(Te).length===0)?$(I):$(O,!1)},!0)}y(g,M)};L(le,g=>{r(ce),r(ut),S(()=>r(ce)&&r(ut).length>0)?g(pe):g(Y,!1)})}var G=m(ve,2),B=p(G),ue=m(B,2);{var ee=g=>{var M=Si();X("click",M,Or),y(g,M)};L(ue,g=>{r(ce)&&r(Fe)==="none"&&g(ee)})}var U=m(ue,2);F(()=>{Ie(T,"src",c+"header.png"),P(Le,`${r(ce)?"Your":"Final"} Score: `),P(Z,r(C))}),X("click",B,Ua),X("click",U,Ya),y(i,f)};L(Hr,i=>{r(Ye)&&i(us)})}var Vr=m(Hr,2);{var fs=i=>{var f=Fi(),E=p(f),T=p(E),ge=m(T,2);{var Me=he=>{var ye=Oi(),ze=m(ke(ye),2),Le=m(p(ze),2),me=p(Le),Z=m(ze,2);Ze(Z,5,()=>r(St),Xe,(Y,G)=>{var B=Ci(),ue=p(B);{var ee=R=>{var I=Mi();y(R,I)},U=R=>{var I=Ai();y(R,I)};L(ue,R=>{r(G),S(()=>r(G).accepted)?R(ee):R(U,!1)})}var g=m(ue,2),M=p(g);F(()=>P(M,(r(G),S(()=>r(G).name)))),y(Y,B)});var ve=m(Z,2);{var le=Y=>{var G=Ii(),B=ke(G),ue=m(B,2),ee=p(ue);X("click",B,Or),X("click",ee,Nr),y(Y,G)},pe=Y=>{var G=Ri();y(Y,G)};L(ve,Y=>{r(a)?Y(pe,!1):Y(le)})}F(()=>P(me,r(ft))),y(he,ye)},ct=he=>{var ye=yt(),ze=ke(ye);{var Le=Z=>{var ve=Li(),le=m(ke(ve),2),pe=m(p(le),2),Y=p(pe),G=m(le,2);Ze(G,5,()=>r(yn),Xe,(ee,U)=>{var g=Ni(),M=m(p(g),2),R=p(M);F(()=>P(R,r(U))),y(ee,g)});var B=m(G,4),ue=p(B);F(()=>P(Y,r(ft))),X("click",ue,Nr),y(Z,ve)},me=Z=>{var ve=yt(),le=ke(ve);{var pe=Y=>{var G=Di();y(Y,G)};L(le,Y=>{r(Fe)==="pending"&&Y(pe)},!0)}y(Z,ve)};L(ze,Z=>{r(Fe)==="starting"?Z(Le):Z(me,!1)},!0)}y(he,ye)};L(ge,he=>{r(Fe)==="voting"?he(Me):he(ct,!1)})}F(()=>Ie(T,"src",c+"header.png")),y(i,f)};L(Vr,i=>{r(Fe)!=="none"&&i(fs)})}var cs=m(Vr,2);{var ds=i=>{var f=qi(),E=p(f),T=p(E),ge=m(E,2),Me=p(ge),ct=p(Me),he=m(Me,2),ye=p(he),ze=p(ye);Ze(ze,1,()=>r(v),Xe,(U,g,M)=>{var R=Vi();Ie(R,"data-index",M);var I=p(R),O=m(I);{var $=oe=>{var Ce=Pi(),Ge=p(Ce);F(()=>P(Ge,(r(g),S(()=>r(g).selectionOrder+1)))),y(oe,Ce)};L(O,oe=>{r(g),S(()=>r(g).selected&&r(g).selectionOrder>=0)&&oe($)})}var ie=m(O,2);{var we=oe=>{var Ce=Hi();y(oe,Ce)};L(ie,oe=>{r(N),r(k),r(g),S(()=>M===r(N)&&r(k)&&!r(g).selected)&&oe(we)})}F(()=>{jt(R,1,`cell ${r(g),S(()=>r(g).selected?"selected":"")??""} ${M===r(N)?"focused":""} ${r(W)?"scrambling":""}`,"svelte-zv9a4n"),Cn(R,(r(g),S(()=>r(g).flashColor?`background-color: ${r(g).flashColor} !important; border-color: ${r(g).flashColor} !important; transform: scale(1.2);`:""))),P(I,`${r(g),S(()=>r(g).displayLetter)??""} `)}),X("click",R,()=>Yn(M)),X("keydown",R,oe=>oe.key==="Enter"&&Yn(M)),y(U,R)});var Le=m(ze,2);Ze(Le,5,()=>S(Xa),Xe,(U,g)=>{var M=Bi();F(()=>{Ie(M,"x1",(r(g),S(()=>r(g).start.x))),Ie(M,"y1",(r(g),S(()=>r(g).start.y))),Ie(M,"x2",(r(g),S(()=>r(g).end.x))),Ie(M,"y2",(r(g),S(()=>r(g).end.y)))}),y(U,M)}),Jl(ye,U=>s(q,U),()=>r(q));var me=m(ge,2),Z=p(me);{var ve=U=>{var g=ji(),M=ke(g),R=m(p(M)),I=p(R),O=m(M,2),$=p(O),ie=m($,2);F(we=>{jt(R,1,`word ${we??""}`,"svelte-zv9a4n"),P(I,r(_)||"(none)"),ie.disabled=(r(_),S(()=>r(_).length<3))},[()=>(r(_),S(()=>Za(r(_))))]),X("click",$,Tn),X("click",ie,Tr),y(U,g)},le=U=>{var g=yt(),M=ke(g);{var R=I=>{var O=Gi(),$=p(O);X("click",$,()=>{s(Ye,!0)}),y(I,O)};L(M,I=>{!r(k)&&!r(W)&&I(R)},!0)}y(U,g)};L(Z,U=>{r(k)?U(ve):U(le,!1)})}var pe=m(me,2);{var Y=U=>{var g=Wi(),M=m(p(g),2);Ze(M,1,()=>r(Ke),Xe,(R,I,O)=>{var $=Ui(),ie=p($);ie.textContent=`${O+1}.`;var we=m(ie,2),oe=p(we),Ce=m(we,2),Ge=p(Ce);F(()=>{jt($,1,`lb-row ${r(I),r(ne),S(()=>r(I).id===r(ne)?"lb-me":"")??""} ${O===0?"lb-first":""}`,"svelte-zv9a4n"),P(oe,(r(I),S(()=>r(I).name))),P(Ge,(r(I),S(()=>r(I).score)))}),y(R,$)}),y(U,g)};L(pe,U=>{r(ce)&&r(k)&&U(Y)})}var G=m(pe,2),B=p(G),ue=p(B),ee=m(B,2);Ze(ee,5,()=>r(d),Xe,(U,g)=>{var M=Ji(),R=p(M);F(()=>P(R,r(g))),y(U,M)}),F(()=>{Ie(T,"src",c+"header.png"),Cn(ct,`height: ${r(o)??""}%; background: linear-gradient(${r(u)??""}, #000);`),Cn(ye,r(W)?"pointer-events: none;":""),P(ue,`Found Words (${r(d),S(()=>r(d).length)??""}):`)}),y(i,f)};L(cs,i=>{r(nn)&&i(ds)})}var Br=m(Dr,2);{var _s=i=>{var f=Yi(),E=p(f),T=p(E);F(()=>P(T,r(be)>0?r(be):"Go!")),y(i,f)};L(Br,i=>{r(W)&&i(_s)})}var jr=m(Br,2);{var hs=i=>{var f=$i(),E=p(f);F(()=>P(E,r(kt))),y(i,f)};L(jr,i=>{r(xt)&&i(hs)})}var Gr=m(jr,2);{var ps=i=>{var f=Qi(),E=p(f),T=m(E);F(()=>P(E,`${r(Dt)??""} disconnected — game continues `)),X("click",T,()=>s(Dt,"")),y(i,f)};L(Gr,i=>{r(Dt)&&i(ps)})}var Mn=m(Gr,2),ms=p(Mn);{var bs=i=>{var f=Ki();y(i,f)},gs=i=>{var f=Xi();y(i,f)};L(ms,i=>{r(Ee)?i(bs):i(gs,!1)})}F(()=>{Ie(Mn,"aria-label",r(Ee)?"Unmute sound effects":"Mute sound effects"),Ie(Mn,"title",r(Ee)?"Unmute":"Mute")}),X("click",Mn,ss),y(e,Lr),_a()}var to=x("<main><!></main>");function no(e){var t=to(),n=p(t);eo(n,{}),y(e,t)}Ll(no,{target:document.getElementById("app")});
