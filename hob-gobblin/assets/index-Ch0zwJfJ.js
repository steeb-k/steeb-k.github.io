(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const la=!1;var dr=Array.isArray,zs=Array.prototype.indexOf,_r=Array.from,ir=Object.defineProperty,un=Object.getOwnPropertyDescriptor,ia=Object.getOwnPropertyDescriptors,ks=Object.prototype,xs=Array.prototype,hr=Object.getPrototypeOf,Wr=Object.isExtensible;function Ss(e){return e()}function Nn(e){for(var t=0;t<e.length;t++)e[t]()}function Ts(){var e,t,r=new Promise((s,i)=>{e=s,t=i});return{promise:r,resolve:e,reject:t}}const Ue=2,pr=4,Fn=8,Zt=16,pt=32,Lt=64,mr=128,qe=256,Rn=512,Ae=1024,Ye=2048,mt=4096,st=8192,en=16384,br=32768,Pn=65536,Jr=1<<17,As=1<<18,tn=1<<19,oa=1<<20,or=1<<21,gr=1<<22,Ct=1<<23,Wt=Symbol("$state"),Ms=Symbol(""),yr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function va(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Cs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Is(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ns(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Rs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Os(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ls(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ds(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Fs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ps(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Hn=1,Vn=2,ua=4,Hs=8,Vs=16,Bs=1,Gs=2,Te=Symbol(),Us="http://www.w3.org/1999/xhtml";function js(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ws=!1;function fa(e){return e===this.v}function Js(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ca(e){return!Js(e,this.v)}let _n=!1,qs=!1;function $s(){_n=!0}let ue=null;function $t(e){ue=e}function da(e,t=!1,r){ue={p:ue,c:null,e:null,s:e,x:null,l:_n&&!t?{s:null,u:null,$:[]}:null}}function _a(e){var t=ue,r=t.e;if(r!==null){t.e=null;for(var s of r)Ma(s)}return ue=t.p,{}}function hn(){return!_n||ue!==null&&ue.l===null}let wt=[],On=[];function ha(){var e=wt;wt=[],Nn(e)}function Ys(){var e=On;On=[],Nn(e)}function Qs(){return wt.length>0||On.length>0}function Dt(e){if(wt.length===0&&!fn){var t=wt;queueMicrotask(()=>{t===wt&&ha()})}wt.push(e)}function Ks(){wt.length>0&&ha(),On.length>0&&Ys()}const Xs=new WeakMap;function pa(e){var t=U;if(t===null)return V.f|=Ct,e;if((t.f&br)===0){if((t.f&mr)===0)throw!t.parent&&e instanceof Error&&ma(e),e;t.b.error(e)}else Yt(e,t)}function Yt(e,t){for(;t!==null;){if((t.f&mr)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&ma(e),e}function ma(e){const t=Xs.get(e);t&&(ir(e,"message",{value:t.message}),ir(e,"stack",{value:t.stack}))}const rr=new Set;let ve=null,In=null,vr=new Set,Rt=[],Bn=null,ur=!1,fn=!1;class _t{current=new Map;#s=new Map;#t=new Set;#c=0;#l=null;#u=!1;#a=[];#n=[];#e=[];#r=[];#i=[];#f=[];#v=[];skipped_effects=new Set;process(t){Rt=[],In=null;for(const i of t)this.#d(i);if(this.#a.length===0&&this.#c===0){this.#_();var r=this.#e,s=this.#r;this.#e=[],this.#r=[],this.#i=[],In=ve,ve=null,qr(r),qr(s),ve===null?ve=this:rr.delete(this),this.#l?.resolve()}else this.#o(this.#e),this.#o(this.#r),this.#o(this.#i);for(const i of this.#a)Nt(i);for(const i of this.#n)Nt(i);this.#a=[],this.#n=[]}#d(t){t.f^=Ae;for(var r=t.first;r!==null;){var s=r.f,i=(s&(pt|Lt))!==0,o=i&&(s&Ae)!==0,f=o||(s&st)!==0||this.skipped_effects.has(r);if(!f&&r.fn!==null){if(i)r.f^=Ae;else if((s&pr)!==0)this.#r.push(r);else if((s&Ae)===0)if((s&gr)!==0){var c=r.b?.is_pending()?this.#n:this.#a;c.push(r)}else gn(r)&&((r.f&Zt)!==0&&this.#i.push(r),Nt(r));var u=r.first;if(u!==null){r=u;continue}}var d=r.parent;for(r=r.next;r===null&&d!==null;)r=d.next,d=d.parent}}#o(t){for(const r of t)((r.f&Ye)!==0?this.#f:this.#v).push(r),Le(r,Ae);t.length=0}capture(t,r){this.#s.has(t)||this.#s.set(t,r),this.current.set(t,t.v)}activate(){ve=this}deactivate(){ve=null,In=null;for(const t of vr)if(vr.delete(t),t(),ve!==null)break}neuter(){this.#u=!0}flush(){Rt.length>0?ba():this.#_(),ve===this&&(this.#c===0&&rr.delete(this),this.deactivate())}#_(){if(!this.#u)for(const t of this.#t)t();this.#t.clear()}increment(){this.#c+=1}decrement(){if(this.#c-=1,this.#c===0){for(const t of this.#f)Le(t,Ye),Qt(t);for(const t of this.#v)Le(t,mt),Qt(t);this.#e=[],this.#r=[],this.flush()}else this.deactivate()}add_callback(t){this.#t.add(t)}settled(){return(this.#l??=Ts()).promise}static ensure(){if(ve===null){const t=ve=new _t;rr.add(ve),fn||_t.enqueue(()=>{ve===t&&t.flush()})}return ve}static enqueue(t){Dt(t)}}function Zs(e){var t=fn;fn=!0;try{for(var r;;){if(Ks(),Rt.length===0&&!Qs()&&(ve?.flush(),Rt.length===0))return Bn=null,r;ba()}}finally{fn=t}}function ba(){var e=qt;ur=!0;try{var t=0;for(Kr(!0);Rt.length>0;){var r=_t.ensure();if(t++>1e3){var s,i;el()}r.process(Rt),zt.clear()}}finally{ur=!1,Kr(e),Bn=null}}function el(){try{Os()}catch(e){Yt(e,Bn)}}let Mt=null;function qr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var s=e[r++];if((s.f&(en|st))===0&&gn(s)&&(Mt=[],Nt(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Na(s):s.fn=null),Mt?.length>0)){zt.clear();for(const i of Mt)Nt(i);Mt=[]}}Mt=null}}function Qt(e){for(var t=Bn=e;t.parent!==null;){t=t.parent;var r=t.f;if(ur&&t===U&&(r&Zt)!==0)return;if((r&(Lt|pt))!==0){if((r&Ae)===0)return;t.f^=Ae}}Rt.push(t)}function tl(e){let t=0,r=Ot(0),s;return()=>{pl()&&(n(r),bn(()=>(t===0&&(s=S(()=>e(()=>cn(r)))),t+=1,()=>{Dt(()=>{t-=1,t===0&&(s?.(),s=void 0,cn(r))})})))}}var nl=Pn|tn|mr;function rl(e,t,r){new al(e,t,r)}class al{parent;#s=!1;#t;#c=null;#l;#u;#a;#n=null;#e=null;#r=null;#i=null;#f=0;#v=0;#d=!1;#o=null;#_=()=>{this.#o&&Kt(this.#o,this.#f)};#b=tl(()=>(this.#o=Ot(this.#f),()=>{this.#o=null}));constructor(t,r,s){this.#t=t,this.#l=r,this.#u=s,this.parent=U.b,this.#s=!!this.#l.pending,this.#a=zr(()=>{U.b=this;{try{this.#n=rt(()=>s(this.#t))}catch(i){this.error(i)}this.#v>0?this.#p():this.#s=!1}},nl)}#g(){try{this.#n=rt(()=>this.#u(this.#t))}catch(t){this.error(t)}this.#s=!1}#y(){const t=this.#l.pending;t&&(this.#e=rt(()=>t(this.#t)),_t.enqueue(()=>{this.#n=this.#h(()=>(_t.ensure(),rt(()=>this.#u(this.#t)))),this.#v>0?this.#p():(Jt(this.#e,()=>{this.#e=null}),this.#s=!1)}))}is_pending(){return this.#s||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#l.pending}#h(t){var r=U,s=V,i=ue;vt(this.#a),He(this.#a),$t(this.#a.ctx);try{return t()}catch(o){return pa(o),null}finally{vt(r),He(s),$t(i)}}#p(){const t=this.#l.pending;this.#n!==null&&(this.#i=document.createDocumentFragment(),sl(this.#n,this.#i)),this.#e===null&&(this.#e=rt(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#v+=t,this.#v===0&&(this.#s=!1,this.#e&&Jt(this.#e,()=>{this.#e=null}),this.#i&&(this.#t.before(this.#i),this.#i=null))}update_pending_count(t){this.#m(t),this.#f+=t,vr.add(this.#_)}get_effect_pending(){return this.#b(),n(this.#o)}error(t){var r=this.#l.onerror;let s=this.#l.failed;if(this.#d||!r&&!s)throw t;this.#n&&($e(this.#n),this.#n=null),this.#e&&($e(this.#e),this.#e=null),this.#r&&($e(this.#r),this.#r=null);var i=!1,o=!1;const f=()=>{if(i){js();return}i=!0,o&&Ps(),_t.ensure(),this.#f=0,this.#r!==null&&Jt(this.#r,()=>{this.#r=null}),this.#s=this.has_pending_snippet(),this.#n=this.#h(()=>(this.#d=!1,rt(()=>this.#u(this.#t)))),this.#v>0?this.#p():this.#s=!1};var c=V;try{He(null),o=!0,r?.(t,f),o=!1}catch(u){Yt(u,this.#a&&this.#a.parent)}finally{He(c)}s&&Dt(()=>{this.#r=this.#h(()=>{this.#d=!0;try{return rt(()=>{s(this.#t,()=>t,()=>f)})}catch(u){return Yt(u,this.#a.parent),null}finally{this.#d=!1}})})}}function sl(e,t){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var i=r===s?null:mn(r);t.append(r),r=i}}function ll(e,t,r){const s=hn()?wr:ya;if(t.length===0){r(e.map(s));return}var i=ve,o=U,f=il();Promise.all(t.map(c=>ol(c))).then(c=>{i?.activate(),f();try{r([...e.map(s),...c])}catch(u){(o.f&en)===0&&Yt(u,o)}i?.deactivate(),ga()}).catch(c=>{Yt(c,o)})}function il(){var e=U,t=V,r=ue,s=ve;return function(){vt(e),He(t),$t(r),s?.activate()}}function ga(){vt(null),He(null),$t(null)}function wr(e){var t=Ue|Ye,r=V!==null&&(V.f&Ue)!==0?V:null;return U===null||r!==null&&(r.f&qe)!==0?t|=qe:U.f|=tn,{ctx:ue,deps:null,effects:null,equals:fa,f:t,fn:e,reactions:null,rv:0,v:Te,wv:0,parent:r??U,ac:null}}function ol(e,t){let r=U;r===null&&Cs();var s=r.b,i=void 0,o=Ot(Te),f=null,c=!V;return El(()=>{try{var u=e();f&&Promise.resolve(u).catch(()=>{})}catch(w){u=Promise.reject(w)}var d=()=>u;i=f?.then(d,d)??Promise.resolve(u),f=i;var _=ve,b=s.is_pending();c&&(s.update_pending_count(1),b||_.increment());const E=(w,h=void 0)=>{f=null,b||_.activate(),h?h!==yr&&(o.f|=Ct,Kt(o,h)):((o.f&Ct)!==0&&(o.f^=Ct),Kt(o,w)),c&&(s.update_pending_count(-1),b||_.decrement()),ga()};if(i.then(E,w=>E(null,w||"unknown")),_)return()=>{queueMicrotask(()=>_.neuter())}}),new Promise(u=>{function d(_){function b(){_===i?u(o):d(i)}_.then(b,b)}d(i)})}function ya(e){const t=wr(e);return t.equals=ca,t}function wa(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)$e(t[r])}}function vl(e){for(var t=e.parent;t!==null;){if((t.f&Ue)===0)return t;t=t.parent}return null}function Er(e){var t,r=U;vt(vl(e));try{wa(e),t=Pa(e)}finally{vt(r)}return t}function Ea(e){var t=Er(e);if(e.equals(t)||(e.v=t,e.wv=Da()),!nn){var r=(Et||(e.f&qe)!==0)&&e.deps!==null?mt:Ae;Le(e,r)}}const zt=new Map;function Ot(e,t){var r={f:0,v:e,reactions:null,equals:fa,rv:0,wv:0};return r}function gt(e,t){const r=Ot(e);return xl(r),r}function C(e,t=!1,r=!0){const s=Ot(e);return t||(s.equals=ca),_n&&r&&ue!==null&&ue.l!==null&&(ue.l.s??=[]).push(s),s}function a(e,t,r=!1){V!==null&&(!at||(V.f&Jr)!==0)&&hn()&&(V.f&(Ue|Zt|gr|Jr))!==0&&!ht?.includes(e)&&Fs();let s=r?on(t):t;return Kt(e,s)}function Kt(e,t){if(!e.equals(t)){var r=e.v;nn?zt.set(e,t):zt.set(e,r),e.v=t;var s=_t.ensure();s.capture(e,r),(e.f&Ue)!==0&&((e.f&Ye)!==0&&Er(e),Le(e,(e.f&qe)===0?Ae:mt)),e.wv=Da(),za(e,Ye),hn()&&U!==null&&(U.f&Ae)!==0&&(U.f&(pt|Lt))===0&&(Je===null?Sl([e]):Je.push(e))}return t}function ul(e,t=1){var r=n(e),s=t===1?r++:r--;return a(e,r),s}function cn(e){a(e,e.v+1)}function za(e,t){var r=e.reactions;if(r!==null)for(var s=hn(),i=r.length,o=0;o<i;o++){var f=r[o],c=f.f;if(!(!s&&f===U)){var u=(c&Ye)===0;u&&Le(f,t),(c&Ue)!==0?za(f,mt):u&&((c&Zt)!==0&&Mt!==null&&Mt.push(f),Qt(f))}}}function on(e){if(typeof e!="object"||e===null||Wt in e)return e;const t=hr(e);if(t!==ks&&t!==xs)return e;var r=new Map,s=dr(e),i=gt(0),o=It,f=c=>{if(It===o)return c();var u=V,d=It;He(null),Zr(o);var _=c();return He(u),Zr(d),_};return s&&r.set("length",gt(e.length)),new Proxy(e,{defineProperty(c,u,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Ls();var _=r.get(u);return _===void 0?_=f(()=>{var b=gt(d.value);return r.set(u,b),b}):a(_,d.value,!0),!0},deleteProperty(c,u){var d=r.get(u);if(d===void 0){if(u in c){const _=f(()=>gt(Te));r.set(u,_),cn(i)}}else a(d,Te),cn(i);return!0},get(c,u,d){if(u===Wt)return e;var _=r.get(u),b=u in c;if(_===void 0&&(!b||un(c,u)?.writable)&&(_=f(()=>{var w=on(b?c[u]:Te),h=gt(w);return h}),r.set(u,_)),_!==void 0){var E=n(_);return E===Te?void 0:E}return Reflect.get(c,u,d)},getOwnPropertyDescriptor(c,u){var d=Reflect.getOwnPropertyDescriptor(c,u);if(d&&"value"in d){var _=r.get(u);_&&(d.value=n(_))}else if(d===void 0){var b=r.get(u),E=b?.v;if(b!==void 0&&E!==Te)return{enumerable:!0,configurable:!0,value:E,writable:!0}}return d},has(c,u){if(u===Wt)return!0;var d=r.get(u),_=d!==void 0&&d.v!==Te||Reflect.has(c,u);if(d!==void 0||U!==null&&(!_||un(c,u)?.writable)){d===void 0&&(d=f(()=>{var E=_?on(c[u]):Te,w=gt(E);return w}),r.set(u,d));var b=n(d);if(b===Te)return!1}return _},set(c,u,d,_){var b=r.get(u),E=u in c;if(s&&u==="length")for(var w=d;w<b.v;w+=1){var h=r.get(w+"");h!==void 0?a(h,Te):w in c&&(h=f(()=>gt(Te)),r.set(w+"",h))}if(b===void 0)(!E||un(c,u)?.writable)&&(b=f(()=>gt(void 0)),a(b,on(d)),r.set(u,b));else{E=b.v!==Te;var z=f(()=>on(d));a(b,z)}var I=Reflect.getOwnPropertyDescriptor(c,u);if(I?.set&&I.set.call(_,d),!E){if(s&&typeof u=="string"){var X=r.get("length"),R=Number(u);Number.isInteger(R)&&R>=X.v&&a(X,R+1)}cn(i)}return!0},ownKeys(c){n(i);var u=Reflect.ownKeys(c).filter(b=>{var E=r.get(b);return E===void 0||E.v!==Te});for(var[d,_]of r)_.v!==Te&&!(d in c)&&u.push(d);return u},setPrototypeOf(){Ds()}})}var $r,ka,xa,Sa;function fl(){if($r===void 0){$r=window,ka=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;xa=un(t,"firstChild").get,Sa=un(t,"nextSibling").get,Wr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Wr(r)&&(r.__t=void 0)}}function pn(e=""){return document.createTextNode(e)}function Xt(e){return xa.call(e)}function mn(e){return Sa.call(e)}function p(e,t){return Xt(e)}function we(e,t=!1){{var r=Xt(e);return r instanceof Comment&&r.data===""?mn(r):r}}function m(e,t=1,r=!1){let s=e;for(;t--;)s=mn(s);return s}function cl(e){e.textContent=""}function Ta(){return!1}function Yr(e,t){{const r=document.body;e.autofocus=!0,Dt(()=>{document.activeElement===r&&e.focus()})}}let Qr=!1;function dl(){Qr||(Qr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Gn(e){var t=V,r=U;He(null),vt(null);try{return e()}finally{He(t),vt(r)}}function _l(e,t,r,s=r){e.addEventListener(t,()=>Gn(r));const i=e.__on_r;i?e.__on_r=()=>{i(),s(!0)}:e.__on_r=()=>s(!0),dl()}function Aa(e){U===null&&V===null&&Rs(),V!==null&&(V.f&qe)!==0&&U===null&&Ns(),nn&&Is()}function hl(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ut(e,t,r,s=!0){var i=U;i!==null&&(i.f&st)!==0&&(e|=st);var o={ctx:ue,deps:null,nodes_start:null,nodes_end:null,f:e|Ye,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Nt(o),o.f|=br}catch(u){throw $e(o),u}else t!==null&&Qt(o);if(s){var f=o;if(r&&f.deps===null&&f.teardown===null&&f.nodes_start===null&&f.first===f.last&&(f.f&tn)===0&&(f=f.first),f!==null&&(f.parent=i,i!==null&&hl(f,i),V!==null&&(V.f&Ue)!==0&&(e&Lt)===0)){var c=V;(c.effects??=[]).push(f)}}return o}function pl(){return V!==null&&!at}function ml(e){const t=ut(Fn,null,!1);return Le(t,Ae),t.teardown=e,t}function fr(e){Aa();var t=U.f,r=!V&&(t&pt)!==0&&(t&br)===0;if(r){var s=ue;(s.e??=[]).push(e)}else return Ma(e)}function Ma(e){return ut(pr|oa,e,!1)}function bl(e){return Aa(),ut(Fn|oa,e,!0)}function gl(e){_t.ensure();const t=ut(Lt|tn,e,!0);return(r={})=>new Promise(s=>{r.outro?Jt(t,()=>{$e(t),s(void 0)}):($e(t),s(void 0))})}function yl(e){return ut(pr,e,!1)}function Gt(e,t){var r=ue,s={effect:null,ran:!1,deps:e};r.l.$.push(s),s.effect=bn(()=>{e(),!s.ran&&(s.ran=!0,S(t))})}function wl(){var e=ue;bn(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&Ae)!==0&&Le(r,mt),gn(r)&&Nt(r),t.ran=!1}})}function El(e){return ut(gr|tn,e,!0)}function bn(e,t=0){return ut(Fn|t,e,!0)}function P(e,t=[],r=[]){ll(t,r,s=>{ut(Fn,()=>e(...s.map(n)),!0)})}function zr(e,t=0){var r=ut(Zt|t,e,!0);return r}function rt(e,t=!0){return ut(pt|tn,e,!0,t)}function Ca(e){var t=e.teardown;if(t!==null){const r=nn,s=V;Xr(!0),He(null);try{t.call(null)}finally{Xr(r),He(s)}}}function Ia(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&Gn(()=>{i.abort(yr)});var s=r.next;(r.f&Lt)!==0?r.parent=null:$e(r,t),r=s}}function zl(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&pt)===0&&$e(t),t=r}}function $e(e,t=!0){var r=!1;(t||(e.f&As)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(kl(e.nodes_start,e.nodes_end),r=!0),Ia(e,t&&!r),Ln(e,0),Le(e,en);var s=e.transitions;if(s!==null)for(const o of s)o.stop();Ca(e);var i=e.parent;i!==null&&i.first!==null&&Na(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function kl(e,t){for(;e!==null;){var r=e===t?null:mn(e);e.remove(),e=r}}function Na(e){var t=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=r))}function Jt(e,t){var r=[];kr(e,r,!0),Ra(r,()=>{$e(e),t&&t()})}function Ra(e,t){var r=e.length;if(r>0){var s=()=>--r||t();for(var i of e)i.out(s)}else t()}function kr(e,t,r){if((e.f&st)===0){if(e.f^=st,e.transitions!==null)for(const f of e.transitions)(f.is_global||r)&&t.push(f);for(var s=e.first;s!==null;){var i=s.next,o=(s.f&Pn)!==0||(s.f&pt)!==0;kr(s,t,o?r:!1),s=i}}}function xr(e){Oa(e,!0)}function Oa(e,t){if((e.f&st)!==0){e.f^=st,(e.f&Ae)===0&&(Le(e,Ye),Qt(e));for(var r=e.first;r!==null;){var s=r.next,i=(r.f&Pn)!==0||(r.f&pt)!==0;Oa(r,i?t:!1),r=s}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let qt=!1;function Kr(e){qt=e}let nn=!1;function Xr(e){nn=e}let V=null,at=!1;function He(e){V=e}let U=null;function vt(e){U=e}let ht=null;function xl(e){V!==null&&(ht===null?ht=[e]:ht.push(e))}let Oe=null,Ge=0,Je=null;function Sl(e){Je=e}let La=1,dn=0,It=dn;function Zr(e){It=e}let Et=!1;function Da(){return++La}function gn(e){var t=e.f;if((t&Ye)!==0)return!0;if((t&mt)!==0){var r=e.deps,s=(t&qe)!==0;if(r!==null){var i,o,f=(t&Rn)!==0,c=s&&U!==null&&!Et,u=r.length;if((f||c)&&(U===null||(U.f&en)===0)){var d=e,_=d.parent;for(i=0;i<u;i++)o=r[i],(f||!o?.reactions?.includes(d))&&(o.reactions??=[]).push(d);f&&(d.f^=Rn),c&&_!==null&&(_.f&qe)===0&&(d.f^=qe)}for(i=0;i<u;i++)if(o=r[i],gn(o)&&Ea(o),o.wv>e.wv)return!0}(!s||U!==null&&!Et)&&Le(e,Ae)}return!1}function Fa(e,t,r=!0){var s=e.reactions;if(s!==null&&!ht?.includes(e))for(var i=0;i<s.length;i++){var o=s[i];(o.f&Ue)!==0?Fa(o,t,!1):t===o&&(r?Le(o,Ye):(o.f&Ae)!==0&&Le(o,mt),Qt(o))}}function Pa(e){var t=Oe,r=Ge,s=Je,i=V,o=Et,f=ht,c=ue,u=at,d=It,_=e.f;Oe=null,Ge=0,Je=null,Et=(_&qe)!==0&&(at||!qt||V===null),V=(_&(pt|Lt))===0?e:null,ht=null,$t(e.ctx),at=!1,It=++dn,e.ac!==null&&(Gn(()=>{e.ac.abort(yr)}),e.ac=null);try{e.f|=or;var b=e.fn,E=b(),w=e.deps;if(Oe!==null){var h;if(Ln(e,Ge),w!==null&&Ge>0)for(w.length=Ge+Oe.length,h=0;h<Oe.length;h++)w[Ge+h]=Oe[h];else e.deps=w=Oe;if(!Et||(_&Ue)!==0&&e.reactions!==null)for(h=Ge;h<w.length;h++)(w[h].reactions??=[]).push(e)}else w!==null&&Ge<w.length&&(Ln(e,Ge),w.length=Ge);if(hn()&&Je!==null&&!at&&w!==null&&(e.f&(Ue|mt|Ye))===0)for(h=0;h<Je.length;h++)Fa(Je[h],e);return i!==null&&i!==e&&(dn++,Je!==null&&(s===null?s=Je:s.push(...Je))),(e.f&Ct)!==0&&(e.f^=Ct),E}catch(z){return pa(z)}finally{e.f^=or,Oe=t,Ge=r,Je=s,V=i,Et=o,ht=f,$t(c),at=u,It=d}}function Tl(e,t){let r=t.reactions;if(r!==null){var s=zs.call(r,e);if(s!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[s]=r[i],r.pop())}}r===null&&(t.f&Ue)!==0&&(Oe===null||!Oe.includes(t))&&(Le(t,mt),(t.f&(qe|Rn))===0&&(t.f^=Rn),wa(t),Ln(t,0))}function Ln(e,t){var r=e.deps;if(r!==null)for(var s=t;s<r.length;s++)Tl(e,r[s])}function Nt(e){var t=e.f;if((t&en)===0){Le(e,Ae);var r=U,s=qt;U=e,qt=!0;try{(t&Zt)!==0?zl(e):Ia(e),Ca(e);var i=Pa(e);e.teardown=typeof i=="function"?i:null,e.wv=La;var o;la&&qs&&(e.f&Ye)!==0&&e.deps}finally{qt=s,U=r}}}async function Al(){await Promise.resolve(),Zs()}function n(e){var t=e.f,r=(t&Ue)!==0;if(V!==null&&!at){var s=U!==null&&(U.f&en)!==0;if(!s&&!ht?.includes(e)){var i=V.deps;if((V.f&or)!==0)e.rv<dn&&(e.rv=dn,Oe===null&&i!==null&&i[Ge]===e?Ge++:Oe===null?Oe=[e]:(!Et||!Oe.includes(e))&&Oe.push(e));else{(V.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[V]:o.includes(V)||o.push(V)}}}else if(r&&e.deps===null&&e.effects===null){var f=e,c=f.parent;c!==null&&(c.f&qe)===0&&(f.f^=qe)}if(nn){if(zt.has(e))return zt.get(e);if(r){f=e;var u=f.v;return((f.f&Ae)===0&&f.reactions!==null||Ha(f))&&(u=Er(f)),zt.set(f,u),u}}else r&&(f=e,gn(f)&&Ea(f));if((e.f&Ct)!==0)throw e.v;return e.v}function Ha(e){if(e.v===Te)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(zt.has(t)||(t.f&Ue)!==0&&Ha(t))return!0;return!1}function S(e){var t=at;try{return at=!0,e()}finally{at=t}}const Ml=-7169;function Le(e,t){e.f=e.f&Ml|t}function Cl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Wt in e)cr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Wt in r&&cr(r)}}}function cr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let s in e)try{cr(e[s],t)}catch{}const r=hr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=ia(r);for(let i in s){const o=s[i].get;if(o)try{o.call(e)}catch{}}}}}const Il=["touchstart","touchmove"];function Nl(e){return Il.includes(e)}const Rl=new Set,ea=new Set;function Ol(e,t,r,s={}){function i(o){if(s.capture||vn.call(t,o),!o.cancelBubble)return Gn(()=>r?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Dt(()=>{t.addEventListener(e,i,s)}):t.addEventListener(e,i,s),i}function $(e,t,r,s,i){var o={capture:s,passive:i},f=Ol(e,t,r,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ml(()=>{t.removeEventListener(e,f,o)})}let ta=null;function vn(e){var t=this,r=t.ownerDocument,s=e.type,i=e.composedPath?.()||[],o=i[0]||e.target;ta=e;var f=0,c=ta===e&&e.__root;if(c){var u=i.indexOf(c);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var d=i.indexOf(t);if(d===-1)return;u<=d&&(f=u)}if(o=i[f]||e.target,o!==t){ir(e,"currentTarget",{configurable:!0,get(){return o||r}});var _=V,b=U;He(null),vt(null);try{for(var E,w=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var z=o["__"+s];if(z!=null&&(!o.disabled||e.target===o))if(dr(z)){var[I,...X]=z;I.apply(o,[e,...X])}else z.call(o,e)}catch(R){E?w.push(R):E=R}if(e.cancelBubble||h===t||h===null)break;o=h}if(E){for(let R of w)queueMicrotask(()=>{throw R});throw E}}finally{e.__root=t,delete e.currentTarget,He(_),vt(b)}}}function Va(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Dn(e,t){var r=U;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function x(e,t){var r=(t&Bs)!==0,s=(t&Gs)!==0,i,o=!e.startsWith("<!>");return()=>{i===void 0&&(i=Va(o?e:"<!>"+e),r||(i=Xt(i)));var f=s||ka?document.importNode(i,!0):i.cloneNode(!0);if(r){var c=Xt(f),u=f.lastChild;Dn(c,u)}else Dn(f,f);return f}}function Ll(e,t,r="svg"){var s=!e.startsWith("<!>"),i=`<${r}>${s?e:"<!>"+e}</${r}>`,o;return()=>{if(!o){var f=Va(i),c=Xt(f);o=Xt(c)}var u=o.cloneNode(!0);return Dn(u,u),u}}function Un(e,t){return Ll(e,t,"svg")}function yt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=pn();return e.append(t,r),Dn(t,r),e}function y(e,t){e!==null&&e.before(t)}function H(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Dl(e,t){return Fl(e,t)}const Ut=new Map;function Fl(e,{target:t,anchor:r,props:s={},events:i,context:o,intro:f=!0}){fl();var c=new Set,u=b=>{for(var E=0;E<b.length;E++){var w=b[E];if(!c.has(w)){c.add(w);var h=Nl(w);t.addEventListener(w,vn,{passive:h});var z=Ut.get(w);z===void 0?(document.addEventListener(w,vn,{passive:h}),Ut.set(w,1)):Ut.set(w,z+1)}}};u(_r(Rl)),ea.add(u);var d=void 0,_=gl(()=>{var b=r??t.appendChild(pn());return rl(b,{pending:()=>{}},E=>{if(o){da({});var w=ue;w.c=o}i&&(s.$$events=i),d=e(E,s)||{},o&&_a()}),()=>{for(var E of c){t.removeEventListener(E,vn);var w=Ut.get(E);--w===0?(document.removeEventListener(E,vn),Ut.delete(E)):Ut.set(E,w)}ea.delete(u),b!==r&&b.parentNode?.removeChild(b)}});return Pl.set(d,_),d}let Pl=new WeakMap;function O(e,t,r=!1){var s=e,i=null,o=null,f=Te,c=r?Pn:0,u=!1;const d=(w,h=!0)=>{u=!0,E(h,w)};var _=null;function b(){_!==null&&(_.lastChild.remove(),s.before(_),_=null);var w=f?i:o,h=f?o:i;w&&xr(w),h&&Jt(h,()=>{f?o=null:i=null})}const E=(w,h)=>{if(f!==(f=w)){var z=Ta(),I=s;if(z&&(_=document.createDocumentFragment(),_.append(I=pn())),f?i??=h&&rt(()=>h(I)):o??=h&&rt(()=>h(I)),z){var X=ve,R=f?i:o,J=f?o:i;R&&X.skipped_effects.delete(R),J&&X.skipped_effects.add(J),X.add_callback(b)}else b()}};zr(()=>{u=!1,t(d),u||E(null,null)},c)}function tt(e,t){return t}function Hl(e,t,r){for(var s=e.items,i=[],o=t.length,f=0;f<o;f++)kr(t[f].e,i,!0);var c=o>0&&i.length===0&&r!==null;if(c){var u=r.parentNode;cl(u),u.append(r),s.clear(),ot(e,t[0].prev,t[o-1].next)}Ra(i,()=>{for(var d=0;d<o;d++){var _=t[d];c||(s.delete(_.k),ot(e,_.prev,_.next)),$e(_.e,!c)}})}function nt(e,t,r,s,i,o=null){var f=e,c={flags:t,items:new Map,first:null},u=(t&ua)!==0;if(u){var d=e;f=d.appendChild(pn())}var _=null,b=!1,E=new Map,w=ya(()=>{var X=r();return dr(X)?X:X==null?[]:_r(X)}),h,z;function I(){Vl(z,h,c,E,f,i,t,s,r),o!==null&&(h.length===0?_?xr(_):_=rt(()=>o(f)):_!==null&&Jt(_,()=>{_=null}))}zr(()=>{z??=U,h=n(w);var X=h.length;if(!(b&&X===0)){b=X===0;var R,J,ge,ee;if(Ta()){var L=new Set,q=ve;for(J=0;J<X;J+=1){ge=h[J],ee=s(ge,J);var Ee=c.items.get(ee)??E.get(ee);Ee?(t&(Hn|Vn))!==0&&Ba(Ee,ge,J,t):(R=Ga(null,c,null,null,ge,ee,J,i,t,r,!0),E.set(ee,R)),L.add(ee)}for(const[kt,xt]of c.items)L.has(kt)||q.skipped_effects.add(xt.e);q.add_callback(I)}else I();n(w)}})}function Vl(e,t,r,s,i,o,f,c,u){var d=(f&Hs)!==0,_=(f&(Hn|Vn))!==0,b=t.length,E=r.items,w=r.first,h=w,z,I=null,X,R=[],J=[],ge,ee,L,q;if(d)for(q=0;q<b;q+=1)ge=t[q],ee=c(ge,q),L=E.get(ee),L!==void 0&&(L.a?.measure(),(X??=new Set).add(L));for(q=0;q<b;q+=1){if(ge=t[q],ee=c(ge,q),L=E.get(ee),L===void 0){var Ee=s.get(ee);if(Ee!==void 0){s.delete(ee),E.set(ee,Ee);var kt=I?I.next:h;ot(r,I,Ee),ot(r,Ee,kt),ar(Ee,kt,i),I=Ee}else{var xt=h?h.e.nodes_start:i;I=Ga(xt,r,I,I===null?r.first:I.next,ge,ee,q,o,f,u)}E.set(ee,I),R=[],J=[],h=I.next;continue}if(_&&Ba(L,ge,q,f),(L.e.f&st)!==0&&(xr(L.e),d&&(L.a?.unfix(),(X??=new Set).delete(L))),L!==h){if(z!==void 0&&z.has(L)){if(R.length<J.length){var lt=J[0],ze;I=lt.prev;var De=R[0],Qe=R[R.length-1];for(ze=0;ze<R.length;ze+=1)ar(R[ze],lt,i);for(ze=0;ze<J.length;ze+=1)z.delete(J[ze]);ot(r,De.prev,Qe.next),ot(r,I,De),ot(r,Qe,lt),h=lt,I=Qe,q-=1,R=[],J=[]}else z.delete(L),ar(L,h,i),ot(r,L.prev,L.next),ot(r,L,I===null?r.first:I.next),ot(r,I,L),I=L;continue}for(R=[],J=[];h!==null&&h.k!==ee;)(h.e.f&st)===0&&(z??=new Set).add(h),J.push(h),h=h.next;if(h===null)continue;L=h}R.push(L),I=L,h=L.next}if(h!==null||z!==void 0){for(var Me=z===void 0?[]:_r(z);h!==null;)(h.e.f&st)===0&&Me.push(h),h=h.next;var le=Me.length;if(le>0){var Ke=(f&ua)!==0&&b===0?i:null;if(d){for(q=0;q<le;q+=1)Me[q].a?.measure();for(q=0;q<le;q+=1)Me[q].a?.fix()}Hl(r,Me,Ke)}}d&&Dt(()=>{if(X!==void 0)for(L of X)L.a?.apply()}),e.first=r.first&&r.first.e,e.last=I&&I.e;for(var Z of s.values())$e(Z.e);s.clear()}function Ba(e,t,r,s){(s&Hn)!==0&&Kt(e.v,t),(s&Vn)!==0?Kt(e.i,r):e.i=r}function Ga(e,t,r,s,i,o,f,c,u,d,_){var b=(u&Hn)!==0,E=(u&Vs)===0,w=b?E?C(i,!1,!1):Ot(i):i,h=(u&Vn)===0?f:Ot(f),z={i:h,v:w,k:o,a:null,e:null,prev:r,next:s};try{if(e===null){var I=document.createDocumentFragment();I.append(e=pn())}return z.e=rt(()=>c(e,w,h,d),Ws),z.e.prev=r&&r.e,z.e.next=s&&s.e,r===null?_||(t.first=z):(r.next=z,r.e.next=z.e),s!==null&&(s.prev=z,s.e.prev=z.e),z}finally{}}function ar(e,t,r){for(var s=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,o=e.e.nodes_start;o!==null&&o!==s;){var f=mn(o);i.before(o),o=f}}function ot(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Bl(e,t,r){var s=e==null?"":""+e;return s=s?s+" "+t:t,s===""?null:s}function Gl(e,t){return e==null?null:String(e)}function jt(e,t,r,s,i,o){var f=e.__className;if(f!==r||f===void 0){var c=Bl(r,s);c==null?e.removeAttribute("class"):e.className=c,e.__className=r}return o}function Cn(e,t,r,s){var i=e.__style;if(i!==t){var o=Gl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return s}const Ul=Symbol("is custom element"),jl=Symbol("is html");function Re(e,t,r,s){var i=Wl(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[Ms]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Jl(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Wl(e){return e.__attributes??={[Ul]:e.nodeName.includes("-"),[jl]:e.namespaceURI===Us}}var na=new Map;function Jl(e){var t=e.getAttribute("is")||e.nodeName,r=na.get(t);if(r)return r;na.set(t,r=[]);for(var s,i=e,o=Element.prototype;o!==i;){s=ia(i);for(var f in s)s[f].set&&r.push(f);i=hr(i)}return r}function ra(e,t,r=t){var s=new WeakSet;_l(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=sr(e)?lr(o):o,r(o),ve!==null&&s.add(ve),await Al(),o!==(o=t())){var f=e.selectionStart,c=e.selectionEnd;e.value=o??"",c!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(c,e.value.length))}}),S(t)==null&&e.value&&(r(sr(e)?lr(e.value):e.value),ve!==null&&s.add(ve)),bn(()=>{var i=t();if(e===document.activeElement){var o=In??ve;if(s.has(o))return}sr(e)&&i===lr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function sr(e){var t=e.type;return t==="number"||t==="range"}function lr(e){return e===""?null:+e}function aa(e,t){return e===t||e?.[Wt]===t}function ql(e={},t,r,s){return yl(()=>{var i,o;return bn(()=>{i=o,o=[],S(()=>{e!==r(...o)&&(t(e,...o),i&&aa(r(...i),e)&&t(null,...i))})}),()=>{Dt(()=>{o&&aa(r(...o),e)&&t(null,...o)})}}),e}function $l(e=!1){const t=ue,r=t.l.u;if(!r)return;let s=()=>Cl(t.s);if(e){let i=0,o={};const f=wr(()=>{let c=!1;const u=t.s;for(const d in u)u[d]!==o[d]&&(o[d]=u[d],c=!0);return c&&i++,i});s=()=>n(f)}r.b.length&&bl(()=>{sa(t,s),Nn(r.b)}),fr(()=>{const i=S(()=>r.m.map(Ss));return()=>{for(const o of i)typeof o=="function"&&o()}}),r.a.length&&fr(()=>{sa(t,s),Nn(r.a)})}function sa(e,t){if(e.l.s)for(const r of e.l.s)n(r);t()}function Ua(e){ue===null&&va(),_n&&ue.l!==null?Ql(ue).m.push(e):fr(()=>{const t=S(e);if(typeof t=="function")return t})}function Yl(e){ue===null&&va(),Ua(()=>()=>S(e))}function Ql(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Kl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Kl);$s();var Xl=x('<div class="rejoin-error svelte-zv9a4n"> </div>'),Zl=x('<div class="rejoin-section svelte-zv9a4n"><div class="rejoin-info svelte-zv9a4n">Resume room <strong class="svelte-zv9a4n"> </strong> as <strong class="svelte-zv9a4n"> </strong>?</div> <!> <div class="rejoin-btns svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Rejoin Game</button> <button class="rejoin-dismiss-btn svelte-zv9a4n">Dismiss</button></div></div> <hr class="rejoin-divider svelte-zv9a4n"/>',1),ei=x(`<div class="splash-screen svelte-zv9a4n"><div class="splash-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <!> <div class="splash-actions svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Start Single Player</button> <div class="splash-multiplayer svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Join Multiplayer</button> <button class="start-btn svelte-zv9a4n">Start Multiplayer</button></div> <button class="change-name-btn svelte-zv9a4n">Change Name</button></div></div></div>`),ti=x('<div class="mp-error svelte-zv9a4n"> </div>'),ni=x('<h2 class="mp-title svelte-zv9a4n"> </h2> <input class="mp-input svelte-zv9a4n" type="text" placeholder="Your name"/> <!> <div class="mp-btn-row svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Back</button> <button class="start-btn svelte-zv9a4n"> </button></div>',1),ri=x('<div class="mp-error svelte-zv9a4n"> </div>'),ai=x('<h2 class="mp-title svelte-zv9a4n">Join a Room</h2> <input class="mp-input mp-token-input svelte-zv9a4n" type="text" placeholder="6-character room code (A–F, 0–9)"/> <!> <div class="mp-btn-row svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Back</button> <button class="start-btn svelte-zv9a4n">Next</button></div>',1),si=x('<div class="mp-connecting svelte-zv9a4n">Connecting…</div>'),li=x('<span class="starting-letter svelte-zv9a4n"> </span>'),ii=x('<div class="mp-starting-screen svelte-zv9a4n"><div class="mp-starting-word svelte-zv9a4n"><!> <span class="starting-ellipsis svelte-zv9a4n">…</span></div></div>'),oi=x('<div class="mp-share-label svelte-zv9a4n">Share this code with friends:</div> <div class="mp-token-display svelte-zv9a4n"> <button class="mp-copy-btn svelte-zv9a4n">Copy</button></div>',1),vi=x('<div class="mp-room-label svelte-zv9a4n">Room: <strong class="svelte-zv9a4n"> </strong></div>'),ui=x('<span class="lobby-host-badge svelte-zv9a4n">Host</span>'),fi=x('<div><!> <span class="svelte-zv9a4n"> </span></div>'),ci=x('<div class="mp-error svelte-zv9a4n"> </div>'),di=x('<button class="start-btn svelte-zv9a4n">Start Game</button>'),_i=x('<div class="mp-waiting svelte-zv9a4n">Waiting for host to start…</div>'),hi=x('<h2 class="mp-title svelte-zv9a4n">Game Lobby</h2> <!> <div class="lobby-players svelte-zv9a4n"></div> <!> <div class="mp-btn-row svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">Leave</button> <!></div>',1),pi=x(`<div class="mp-overlay svelte-zv9a4n"><div class="mp-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <!></div></div>`),mi=Un('<svg class="trophy-svg svelte-zv9a4n" viewBox="0 0 24 24"><path d="M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H9v2h6v-2h-2v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z" class="svelte-zv9a4n"></path></svg>'),bi=x('<span class="win-badge svelte-zv9a4n"> </span>'),gi=x('<div><span class="mp-end-lb-rank svelte-zv9a4n"></span> <span class="mp-end-lb-name svelte-zv9a4n"> <!> <!></span> <span class="mp-end-lb-score svelte-zv9a4n"> </span></div>'),yi=x('<div class="mp-end-leaderboard svelte-zv9a4n"><h4 class="mp-end-lb-heading svelte-zv9a4n">Final Standings:</h4> <!></div>'),wi=x('<div class="rematch-cancel-msg svelte-zv9a4n"> </div>'),Ei=x('<span> <span class="word-pts svelte-zv9a4n"> </span></span>'),zi=x('<div class="mp-words-list svelte-zv9a4n"></div>'),ki=x('<div class="no-words svelte-zv9a4n">No words found.</div>'),xi=x('<span class="found-word svelte-zv9a4n"> <span class="word-pts svelte-zv9a4n"> </span></span>'),Si=x('<div class="mp-words-list svelte-zv9a4n"></div>'),Ti=x('<button class="start-btn svelte-zv9a4n">Rematch</button>'),Ai=x(`<div class="splash-screen end-splash svelte-zv9a4n"><div class="splash-inner end-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <div class="end-summary svelte-zv9a4n"><!> <!> <div class="end-score svelte-zv9a4n"> <span class="big-score svelte-zv9a4n"> </span></div> <h4 class="svelte-zv9a4n">Your Words:</h4> <div class="end-words-scroll svelte-zv9a4n"><!></div> <div style="margin-top:12px; text-align:center; display:flex; gap:12px; justify-content:center; flex-wrap:wrap;" class="svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">View Board</button> <!> <button class="start-btn svelte-zv9a4n">Main Menu</button> <button class="change-name-btn svelte-zv9a4n">Change Name</button></div></div></div></div>`),Mi=x('<span class="rematch-status-ok svelte-zv9a4n">✓</span>'),Ci=x('<span class="rematch-status-wait svelte-zv9a4n">…</span>'),Ii=x('<div class="rematch-vote-row svelte-zv9a4n"><!> <span class="svelte-zv9a4n"> </span></div>'),Ni=x('<button class="start-btn svelte-zv9a4n">Join Rematch!</button> <div style="margin-top:10px;" class="svelte-zv9a4n"><button class="rejoin-dismiss-btn svelte-zv9a4n">Back to Results</button> <button class="change-name-btn svelte-zv9a4n">Change Name</button></div>',1),Ri=x('<div class="mp-waiting svelte-zv9a4n">Waiting for others…</div> <div style="margin-top:10px;" class="svelte-zv9a4n"><button class="change-name-btn svelte-zv9a4n">Change Name</button></div>',1),Oi=x('<h2 class="mp-title svelte-zv9a4n">Rematch?</h2> <div class="rematch-timer svelte-zv9a4n"><svg class="hourglass-icon svelte-zv9a4n" width="48" height="48" viewBox="0 0 24 24" fill="#3b2a1a"><path d="M6 2v6l4 4-4 4v6h12v-6l-4-4 4-4V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z" class="svelte-zv9a4n"></path></svg> <span class="rematch-time-num svelte-zv9a4n"> </span></div> <div class="rematch-votes-list svelte-zv9a4n"></div> <!>',1),Li=x('<div class="rematch-vote-row svelte-zv9a4n"><span class="rematch-status-ok svelte-zv9a4n">✓</span> <span class="svelte-zv9a4n"> </span></div>'),Di=x('<h2 class="mp-title svelte-zv9a4n">Get Ready!</h2> <div class="rematch-timer svelte-zv9a4n"><svg class="hourglass-icon svelte-zv9a4n" width="48" height="48" viewBox="0 0 24 24" fill="#3b2a1a"><path d="M6 2v6l4 4-4 4v6h12v-6l-4-4 4-4V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z" class="svelte-zv9a4n"></path></svg> <span class="rematch-time-num svelte-zv9a4n"> </span></div> <div class="rematch-votes-list svelte-zv9a4n"></div> <div class="mp-waiting svelte-zv9a4n">Game starting soon…</div> <div style="margin-top:10px;" class="svelte-zv9a4n"><button class="rejoin-dismiss-btn svelte-zv9a4n">Back to Results</button> <button class="change-name-btn svelte-zv9a4n">Change Name</button></div>',1),Fi=x('<div class="mp-connecting svelte-zv9a4n">Connecting…</div>'),Pi=x(`<div class="rematch-overlay svelte-zv9a4n"><div class="mp-inner svelte-zv9a4n"><img alt="Hob Gobblin' header" class="splash-header svelte-zv9a4n"/> <!></div></div>`),Hi=x('<span class="selection-number svelte-zv9a4n"> </span>'),Vi=x('<div class="focus-indicator svelte-zv9a4n"></div>'),Bi=x('<div role="button" tabindex="-1"> <!> <!></div>'),Gi=Un('<line stroke="#2196F3" stroke-width="3" stroke-linecap="round" class="svelte-zv9a4n"></line>'),Ui=x('<div class="current-word-display svelte-zv9a4n">Current Word: <span> </span></div> <div class="controls-row svelte-zv9a4n"><button class="clear-btn svelte-zv9a4n">Clear</button> <button class="submit-btn svelte-zv9a4n">Submit</button></div>',1),ji=x('<div class="controls-row center svelte-zv9a4n"><button class="start-btn svelte-zv9a4n">View Results</button></div>'),Wi=x('<div><span class="lb-rank svelte-zv9a4n"></span> <span class="lb-name svelte-zv9a4n"> </span> <span class="lb-score svelte-zv9a4n"> </span></div>'),Ji=x('<div class="leaderboard-panel svelte-zv9a4n"><h3 class="lb-title svelte-zv9a4n">Live Scores</h3> <!></div>'),qi=x('<span class="found-word svelte-zv9a4n"> </span>'),$i=x(`<div class="game-container svelte-zv9a4n"><div class="header-image-wrap svelte-zv9a4n" style="display:none;"><img alt="Hob Gobblin' header" class="header-image svelte-zv9a4n"/></div> <div class="board-and-progress svelte-zv9a4n"><div class="progress-rail svelte-zv9a4n" aria-hidden="true"><div class="progress-fill svelte-zv9a4n"></div></div> <div class="board-container svelte-zv9a4n"><div class="board svelte-zv9a4n"><!> <svg class="connection-lines svelte-zv9a4n" viewBox="0 0 400 400"></svg></div></div></div> <div class="board-controls svelte-zv9a4n"><!></div> <!> <div class="found-words svelte-zv9a4n"><h3 class="svelte-zv9a4n"> </h3> <div class="words-list svelte-zv9a4n"></div></div></div>`),Yi=x('<div class="fullscreen-countdown-overlay svelte-zv9a4n"><div class="countdown-number svelte-zv9a4n"> </div></div>'),Qi=x('<div class="score-popup show svelte-zv9a4n"> </div>'),Ki=x('<div class="disconnect-banner svelte-zv9a4n" role="alert" aria-live="polite"> <button class="mp-dismiss-btn svelte-zv9a4n">x</button></div>'),Xi=Un('<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" class="svelte-zv9a4n"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" class="svelte-zv9a4n"></path></svg>'),Zi=Un('<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" class="svelte-zv9a4n"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" class="svelte-zv9a4n"></path></svg>'),eo=x('<main class="svelte-zv9a4n"><!> <!> <!> <!> <!></main> <!> <!> <!> <button class="mute-btn svelte-zv9a4n"><!></button>',1);function to(e,t){da(t,!1);const r=C(),s=C(),i=C(),o=C(),f=C(),c="/hob-gobblin/";let u=C([]),d=C([]),_=C(""),b=[],E=new Set,w=180,h=C(w),z=C(!1),I=C(0),X=C(),R=C(0),J=C(!1),ge=C(3),ee=null,L=null,q=null,Ee=null,kt=C(""),xt=C(!1),lt=null,ze=C(!1),De=C(!0),Qe=C(!1),Me=C([]),le=C(!1),Ke=C(null),Z=null,it=!1,Xe=C(null),F=C(null),ae=C(""),ie=C(""),Ze=C([]),Y=C("none"),Ce=C(null),je=C(""),Ve=C([]),Ft=C(""),ft=C([]),yn=null,Be=C("none"),St=C([]),wn=C([]),Pt=null,ct=C(0),he=null,jn=!1,rn=C(""),Fe=C({}),bt=C(!1);const En=["Combobulating","Scrabblizing","Defunkerating","Sporadicizing"];let zn=C(""),kn=null,Ie=C(null),Ht=C("");function ja(){a(Qe,!1),a(De,!1)}const Wa=["AAEEGN","ELRTTY","AOOTTW","ABBJOO","EHRTVW","CIMOTU","DISTTY","EIOSST","DELRVY","ACHOPS","HIMNQU","EEINSU","EEGHNW","AFFKPS","HLNNRZ","DEILRX"];Ua(()=>{Ja(),Jn(),document.addEventListener("keydown",Wn),window.addEventListener("beforeunload",Sr);const l=()=>{document.visibilityState==="visible"&&n(le)&&!it&&n(ie)&&n(F)&&(a(Ce,"rejoin"),Qn())};document.addEventListener("visibilitychange",l);try{const v=localStorage.getItem("hobGobblinMuted");v!==null&&a(ze,v==="true")}catch{}try{const v=localStorage.getItem("hobGobblinName");v&&a(ae,v)}catch{}try{const v=sessionStorage.getItem("hobGobblinSession");if(v){const g=JSON.parse(v);g?.roomToken&&g?.playerName&&g?.playerId&&a(Ie,g)}}catch{}if(typeof location<"u"&&location.hash){const v=location.hash.slice(1).trim().toUpperCase();/^[0-9A-F]{6}$/.test(v)&&a(ie,v)}return()=>{document.removeEventListener("keydown",Wn),window.removeEventListener("beforeunload",Sr),document.removeEventListener("visibilitychange",l)}});function Sr(l){if(n(z)||n(J)||n(le)&&(n(Y)==="lobby"||n(Y)==="starting"))return l.preventDefault(),l.returnValue="",""}function xn(){try{sessionStorage.setItem("hobGobblinSession",JSON.stringify({roomToken:n(ie),playerName:n(ae),playerId:n(F),mpRole:n(Ke)})),history.replaceState(null,"",window.location.pathname+window.location.search+"#"+n(ie))}catch{}}function Vt(){try{sessionStorage.removeItem("hobGobblinSession")}catch{}history.replaceState(null,"",window.location.pathname+window.location.search),a(Ie,null)}function Wn(l){if(!(!n(z)||n(J)))if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(l.key)&&l.preventDefault(),l.key==="Escape")An();else if(l.key==="Enter")n(_).length>=3&&Ar();else if(l.key===" "){const v=b.indexOf(n(R));v!==-1?Tr(v):$n(n(R))}else l.key==="ArrowUp"?Sn("up"):l.key==="ArrowDown"?Sn("down"):l.key==="ArrowLeft"?Sn("left"):l.key==="ArrowRight"&&Sn("right")}function Sn(l){const v=Math.floor(n(R)/4),g=n(R)%4;let A=v,ye=g;switch(l){case"up":A=Math.max(0,v-1);break;case"down":A=Math.min(3,v+1);break;case"left":ye=Math.max(0,g-1);break;case"right":ye=Math.min(3,g+1);break}const Ne=A*4+ye;Ne!==n(R)&&(a(R,Ne),a(u,[...n(u)]))}async function Ja(){try{const g=(await(await fetch(c+"scrabble.txt")).text()).split(`
`).map(A=>A.trim().toUpperCase()).filter(A=>A.length>=3);E=new Set(g),console.log(`Loaded ${E.size} valid words`)}catch(l){console.error("Error loading word list:",l)}}function Jn(){a(u,[]);for(let l=0;l<16;l++){const g=Wa[l],A=g[Math.floor(Math.random()*g.length)];n(u).push({letter:A==="Q"?"Qu":A,value:A==="Q"?"QU":A.toUpperCase(),displayLetter:A==="Q"?"Qu":A,index:l,selected:!1,selectionOrder:-1,flashColor:null})}}function qn(){n(ze)||new Audio(c+"goblinStart.mp3").play().catch(()=>{}),a(d,[]),a(I,0),a(R,0),a(h,180),n(le)||Jn(),a(J,!0),a(bt,!0),a(ge,3);const l="ABCDEFGHIJKLMNOPQRSTUVWXYZ";ee=setInterval(()=>{a(u,n(u).map(v=>({...v,displayLetter:Math.random()<.12?"Qu":l[Math.floor(Math.random()*l.length)]})))},80),L=setInterval(()=>{a(ge,n(ge)-1),n(ge)<=0&&(clearInterval(L),L=null)},1e3),q=setTimeout(()=>{ee&&(clearInterval(ee),ee=null),a(u,n(u).map(v=>({...v,displayLetter:v.letter}))),a(ge,0),q=setTimeout(()=>{a(J,!1),a(z,!0),n(le)||(Ee=setInterval(()=>{ul(h,-1),n(h)<=0&&(clearInterval(Ee),Ee=null,Tn())},1e3))},700)},3e3)}function qa(){a(De,!1),setTimeout(()=>qn(),40)}Yl(()=>{ee&&clearInterval(ee),L&&clearInterval(L),q&&clearTimeout(q),Ee&&clearInterval(Ee),he&&clearInterval(he),document.removeEventListener("keydown",Wn),Z?.close(),sn()});function Tn(){n(z)&&(a(z,!1),Ee&&(clearInterval(Ee),Ee=null),ee&&(clearInterval(ee),ee=null),L&&(clearInterval(L),L=null),q&&(clearTimeout(q),q=null),n(le)&&n(ft).length>0?a(Me,[...n(ft)]):(a(Me,n(d).map(l=>({word:l,points:Mr(l)}))),n(Me).sort((l,v)=>v.points-l.points||l.word.localeCompare(v.word))),a(Qe,!0),a(De,!1),Vt())}function $a(){if(n(le)){if(Vt(),Z){try{Z.send(JSON.stringify({type:"LEAVE_ROOM",token:n(ie)}))}catch{}Z.close(),Z=null}a(le,!1),a(Ke,null),it=!1,a(F,null),a(ie,""),a(Ze,[]),a(Ve,[]),a(Y,"none"),a(Ce,null),a(je,""),a(Xe,null),a(Ft,"")}a(Qe,!1),a(De,!0),a(d,[]),b=[],a(_,""),a(I,0),a(h,180),a(z,!1),a(J,!1),a(bt,!1),a(ft,[]),yn=null,a(Be,"none"),a(St,[]),a(wn,[]),Pt=null,a(ct,0),he&&(clearInterval(he),he=null),a(rn,""),a(Fe,{}),sn(),Jn()}function $n(l){if(!n(z)||n(J))return;a(R,l),a(u,[...n(u)]);const v=n(u)[l],g=b.indexOf(l);if(g!==-1){Tr(g);return}if(b.length===0)b=[l],a(_,v.value),Yn();else{const A=b[b.length-1];Ya(A,l)&&(b.push(l),a(_,n(_)+v.value),Yn())}}function Tr(l){b=b.slice(0,l+1),a(_,"");for(let v=0;v<b.length;v++){const g=b[v];a(_,n(_)+n(u)[g].value)}Yn()}function Yn(){a(u,n(u).map((l,v)=>({...l,selected:b.includes(v),selectionOrder:b.indexOf(v)})))}function Ya(l,v){const g=Math.floor(l/4),A=l%4,ye=Math.floor(v/4),Ne=v%4;return Math.abs(g-ye)<=1&&Math.abs(A-Ne)<=1}function Ar(){if(n(_).length<3){An();return}let l="invalid";if(E.has(n(_)))if(n(d).includes(n(_)))l="duplicate";else{l="valid",a(d,[...n(d),n(_)]);const v=Mr(n(_));a(I,n(I)+v),Qa(v),n(le)&&it&&Z.send(JSON.stringify({type:"WORD_FOUND",token:n(ie),word:n(_),score:n(I)}))}Ka(l),setTimeout(()=>{An()},225)}function Qa(l){lt&&(clearTimeout(lt),lt=null),a(kt,`+${l}`),a(xt,!0),lt=setTimeout(()=>{a(xt,!1),lt=null},900)}function Ka(l){console.log("Animating word submission:",l,"Selected cells:",b);const g={valid:"#4CAF50",invalid:"#f44336",duplicate:"#FF9800"}[l];console.log("Flash color:",g),a(u,n(u).map((A,ye)=>({...A,flashColor:b.includes(ye)?g:null}))),setTimeout(()=>{a(u,n(u).map(A=>({...A,flashColor:null})))},200)}function Mr(l){const v=l.length;return v<=4?1:v===5?2:v===6?3:v===7?5:11}function An(){const l=b.length>0?b[b.length-1]:n(R);b=[],a(_,""),a(u,n(u).map(v=>({...v,selected:!1,selectionOrder:-1,flashColor:null}))),typeof l=="number"&&(a(R,l),a(u,[...n(u)]))}function Cr(l){if(!n(X))return{x:0,y:0};const v=n(X).children[l];if(!v)return{x:0,y:0};const g=v.getBoundingClientRect(),A=n(X).getBoundingClientRect();return{x:g.left-A.left+g.width/2,y:g.top-A.top+g.height/2}}function Xa(){if(b.length<2)return[];const l=[];for(let v=0;v<b.length-1;v++){const g=Cr(b[v]),A=Cr(b[v+1]);l.push({start:g,end:A})}return l}function Za(l){return!l||l.length<3?"incomplete":n(d).includes(l)?"already-found":E.has(l)?"valid":"invalid"}const es="wss://kznjk.com/ws";function Qn(){a(Xe,null),a(Y,"connecting");try{Z=new WebSocket(es)}catch{a(Xe,"Could not connect to server."),a(Y,"nameEntry");return}Z.onopen=()=>{it=!0;const l=n(ie).toUpperCase().trim();n(Ce)==="create"?Z.send(JSON.stringify({type:"CREATE_ROOM",playerName:n(ae)})):n(Ce)==="rejoin"?Z.send(JSON.stringify({type:"REJOIN_ROOM",token:l,playerName:n(ae),playerId:n(F)})):n(Ie)?.roomToken&&n(Ie)?.playerId&&n(Ie).roomToken.toUpperCase().trim()===l?Z.send(JSON.stringify({type:"REJOIN_ROOM",token:l,playerName:n(ae),playerId:n(Ie).playerId})):Z.send(JSON.stringify({type:"JOIN_ROOM",playerName:n(ae),token:l}))},Z.onmessage=l=>{try{ts(JSON.parse(l.data))}catch(v){console.error("Failed to parse server message:",v)}},Z.onclose=()=>{it=!1},Z.onerror=()=>{a(Xe,"Connection error. Is the server running?"),it=!1,n(Y)==="connecting"&&(n(Ce)==="rejoin"?(a(Ht,n(Xe)),a(Y,"none")):a(Y,"nameEntry"))}}function ts(l){switch(l.type){case"ROOM_CREATED":a(F,l.playerId),a(ie,l.token),a(Ke,"host"),a(le,!0),a(Ze,[{id:l.playerId,name:l.playerName,isHost:!0}]),a(Y,"lobby"),a(Ce,null),xn();break;case"ROOM_JOINED":if(a(F,l.playerId),a(Ze,l.players),n(Ke)!=="host"){const v=l.players.find(g=>g.id===l.playerId);a(Ke,v&&v.isHost?"host":"guest")}a(le,!0),a(Y,"lobby"),a(Ce,null),xn();break;case"LOBBY_UPDATE":a(Ze,l.players);break;case"GAME_START":a(Ve,n(Ze).map(v=>({id:v.id,name:v.name,score:0}))),Kn(l.board),a(Y,"starting"),Rr();{const v=l.serverTime??Date.now(),g=Math.max(0,l.startAt-v);setTimeout(()=>{sn(),a(De,!1),a(Y,"none"),qn()},g)}break;case"GAME_TICK":n(z)&&n(le)&&(a(h,l.timeLeft),n(h)<=0&&Tn());break;case"LEADERBOARD_UPDATE":a(Ve,l.leaderboard);break;case"GAME_END":if(a(Fe,l.winCounts||n(Fe)),a(Ve,l.leaderboard),l.playerResults&&n(F)&&l.playerResults[n(F)]){const v=l.playerResults[n(F)];a(ft,(v.words||[]).slice().sort((g,A)=>A.points-g.points||g.word.localeCompare(A.word))),yn=v.finalScore,a(I,yn),!n(z)&&n(Qe)&&a(Me,[...n(ft)])}Vt(),n(z)&&Tn();break;case"GAME_REJOINED":a(Ce,null),is(l);break;case"PLAYER_DISCONNECTED":a(Ft,l.playerName),setTimeout(()=>{a(Ft,"")},5e3);break;case"ERROR":if(n(Ce)==="rejoin"){if(a(Ht,l.message),(l.code==="GAME_ENDED"||l.code==="ROOM_NOT_FOUND")&&Vt(),a(Y,"none"),it=!1,Z){try{Z.close()}catch{}Z=null}}else a(je,l.message),n(Y)==="connecting"&&a(Y,"nameEntry");break;case"REMATCH_INITIATED":a(St,l.votes||[]),Pt=l.expiresAt,a(ct,Math.max(0,Math.round((l.expiresAt-Date.now())/1e3))),he&&(clearInterval(he),he=null),he=setInterval(()=>{a(ct,Math.max(0,Math.round((Pt-Date.now())/1e3)))},500),a(Be,"voting");break;case"REMATCH_UPDATE":a(St,l.votes||[]);break;case"REMATCH_STARTING":he&&(clearInterval(he),he=null),a(wn,l.players||[]),Pt=l.startsAt,a(ct,Math.max(0,Math.round((l.startsAt-Date.now())/1e3))),jn=!1,he=setInterval(()=>{a(ct,Math.max(0,Math.round((Pt-Date.now())/1e3))),n(ct)<=10&&!jn&&(jn=!0,n(ze)||new Audio(c+"goblinRematch.mp3").play().catch(()=>{}))},500),a(Be,"starting");break;case"REMATCH_CANCELLED":he&&(clearInterval(he),he=null),a(Be,"none"),l.soloPlayerId===n(F)&&a(rn,"Aww, no one wants to play with you!");break;case"REMATCH_START":{a(bt,!1),he&&(clearInterval(he),he=null),a(Be,"none"),a(St,[]),a(wn,[]),Pt=null,a(ct,0),a(rn,""),a(Fe,l.winCounts||n(Fe)),a(Qe,!1),a(I,0),a(d,[]),a(ft,[]),yn=null,a(Me,[]),l.players&&a(Ve,l.players.map(v=>({id:v.id,name:v.name,score:0}))),xn(),Kn(l.board),a(Y,"starting"),Rr();{const v=l.serverTime??Date.now(),g=Math.max(0,l.startAt-v);setTimeout(()=>{sn(),a(De,!1),a(Y,"none"),qn()},g)}break}}}function Kn(l){a(u,l.map((v,g)=>({letter:v==="Q"?"Qu":v,value:v==="Q"?"QU":v.toUpperCase(),displayLetter:v==="Q"?"Qu":v,index:g,selected:!1,selectionOrder:-1,flashColor:null})))}function Ir(){if(n(ae).trim()){try{localStorage.setItem("hobGobblinName",n(ae).trim())}catch{}Qn()}}function Nr(){const l=n(ie).trim().toUpperCase();if(!/^[0-9A-F]{6}$/.test(l)){a(je,"Enter a 6-character room code (letters A–F and digits 0–9)");return}a(ie,l),a(je,""),a(Y,"nameEntry")}function ns(){Z&&it&&Z.send(JSON.stringify({type:"START_GAME",token:n(ie)}))}function rs(){if(Z){try{Z.send(JSON.stringify({type:"LEAVE_ROOM",token:n(ie)}))}catch{}Z.close(),Z=null}a(le,!1),a(Ke,null),it=!1,a(F,null),a(ie,""),a(Ze,[]),a(Ve,[]),a(Y,"none"),a(Ce,null),a(je,""),a(Xe,null),Vt(),a(bt,!1),sn(),a(De,!0)}function as(){navigator.clipboard.writeText(n(ie)).catch(()=>{})}function ss(){a(ze,!n(ze));try{localStorage.setItem("hobGobblinMuted",String(n(ze)))}catch{}}function an(){const l=typeof prompt<"u"?prompt("Enter your name:",n(ae)||""):null;if(l!=null&&l.trim()){a(ae,l.trim().slice(0,20));try{localStorage.setItem("hobGobblinName",n(ae))}catch{}n(F)&&(a(Ze,n(Ze).map(v=>v.id===n(F)?{...v,name:n(ae)}:v)),a(Ve,n(Ve).map(v=>v.id===n(F)?{...v,name:n(ae)}:v)))}}function ls(){n(Ie)&&(a(Ht,""),a(ae,n(Ie).playerName),a(F,n(Ie).playerId),a(Ke,n(Ie).mpRole||"guest"),a(ie,n(Ie).roomToken),a(Ce,"rejoin"),Qn())}function is(l){a(F,l.playerId),a(le,!0),a(Ve,l.leaderboard||[]),Kn(l.board),a(d,l.foundWords||[]),a(I,l.score||0);const v=l.serverTime??Date.now(),g=Math.max(0,Math.floor((l.gameEndAt-v)/1e3));a(h,g),a(De,!1),a(Y,"none"),a(bt,!0),a(z,!0),xn(),g<=0&&Tn()}function Rr(){let l=Math.floor(Math.random()*En.length);a(zn,En[l]),kn=setInterval(()=>{l=(l+1)%En.length,a(zn,En[l])},900)}function sn(){kn&&(clearInterval(kn),kn=null)}function Or(){!Z||!it||(Z.send(JSON.stringify({type:"REMATCH_VOTE",token:n(ie)})),n(Be)==="none"&&a(Be,"pending"))}function Lr(){a(Be,"none"),clearInterval(he),he=null}Gt(()=>n(Fe),()=>{a(r,Object.values(n(Fe)).length>0?Math.max(...Object.values(n(Fe))):0)}),Gt(()=>(n(St),n(F)),()=>{a(s,!!n(St).find(l=>l.id===n(F)&&l.accepted))}),Gt(()=>n(Me),()=>{a(i,(()=>{const l=new Map;for(const v of n(Me)){const g=v.points;l.has(g)||l.set(g,[]),l.get(g).push(v.word)}return Array.from(l.entries()).sort((v,g)=>g[0]-v[0]).map(([v,g])=>({points:v,words:g}))})())}),Gt(()=>n(h),()=>{a(o,Math.max(0,Math.round(n(h)/w*100)))}),Gt(()=>n(h),()=>{a(f,(()=>{const l=n(h)/w;return l>.8?"#2196F3":l>.6?"#4CAF50":l>.4?"#FFEB3B":l>.2?"#FF9800":l>.05?"#f44336":"#000000"})())}),Gt(()=>(n(z),n(J),n(bt),n(De)),()=>{typeof document<"u"&&(n(z)||n(J)||n(bt)&&!n(De)?document.body.classList.add("game-playing"):document.body.classList.remove("game-playing"))}),wl(),$l();var Dr=eo(),Fr=we(Dr),Pr=p(Fr);{var os=l=>{var v=ei(),g=p(v),A=p(g),ye=m(A,2);{var Ne=te=>{var fe=Zl(),de=we(fe),me=p(de),Q=m(p(me)),W=p(Q),B=m(Q,2),oe=p(B),ne=m(me,2);{var j=D=>{var G=Xl(),N=p(G);P(()=>H(N,n(Ht))),y(D,G)};O(ne,D=>{n(Ht)&&D(j)})}var T=m(ne,2),k=p(T),M=m(k,2);P(()=>{H(W,(n(Ie),S(()=>n(Ie).roomToken))),H(oe,(n(Ie),S(()=>n(Ie).playerName)))}),$("click",k,ls),$("click",M,()=>{Vt(),a(Ht,"")}),y(te,fe)};O(ye,te=>{n(Ie)&&te(Ne)})}var dt=m(ye,2),pe=p(dt),be=m(pe,2),ke=p(be),Pe=m(ke,2),xe=m(be,2);P(()=>Re(A,"src",c+"header.png")),$("click",pe,qa),$("click",ke,()=>{a(Ce,"join"),a(Y,"tokenEntry"),a(ie,""),a(je,""),a(Xe,null)}),$("click",Pe,()=>{a(Ce,"create"),a(Y,"nameEntry"),a(Xe,null)}),$("click",xe,an),y(l,v)};O(Pr,l=>{n(De)&&l(os)})}var Hr=m(Pr,2);{var vs=l=>{var v=pi(),g=p(v),A=p(g),ye=m(A,2);{var Ne=pe=>{var be=ni(),ke=we(be),Pe=p(ke),xe=m(ke,2);Re(xe,"maxlength",20),Yr(xe);var te=m(xe,2);{var fe=B=>{var oe=ti(),ne=p(oe);P(()=>H(ne,n(Xe))),y(B,oe)};O(te,B=>{n(Xe)&&B(fe)})}var de=m(te,2),me=p(de),Q=m(me,2),W=p(Q);P(B=>{H(Pe,n(Ce)==="create"?"Start Multiplayer":"Join a Room"),Q.disabled=B,H(W,n(Ce)==="create"?"Create Room":"Join")},[()=>(n(ae),S(()=>!n(ae).trim()))]),ra(xe,()=>n(ae),B=>a(ae,B)),$("keydown",xe,B=>B.key==="Enter"&&Ir()),$("click",me,()=>{a(Y,n(Ce)==="join"?"tokenEntry":"none"),a(Xe,null),a(je,"")}),$("click",Q,Ir),y(pe,be)},dt=pe=>{var be=yt(),ke=we(be);{var Pe=te=>{var fe=ai(),de=m(we(fe),2);Re(de,"maxlength",6),Yr(de);var me=m(de,2);{var Q=ne=>{var j=ri(),T=p(j);P(()=>H(T,n(je))),y(ne,j)};O(me,ne=>{n(je)&&ne(Q)})}var W=m(me,2),B=p(W),oe=m(B,2);P(ne=>oe.disabled=ne,[()=>(n(ie),S(()=>!/^[0-9A-F]{6}$/.test(n(ie).trim().toUpperCase())))]),ra(de,()=>n(ie),ne=>a(ie,ne)),$("keydown",de,ne=>ne.key==="Enter"&&Nr()),$("click",B,()=>{a(Y,"none"),a(je,"")}),$("click",oe,Nr),y(te,fe)},xe=te=>{var fe=yt(),de=we(fe);{var me=W=>{var B=si();y(W,B)},Q=W=>{var B=yt(),oe=we(B);{var ne=T=>{var k=ii(),M=p(k),D=p(M);nt(D,1,()=>(n(zn),S(()=>n(zn).split(""))),tt,(G,N,se)=>{var ce=li();Cn(ce,`animation-delay: ${se*.07}s`);var _e=p(ce);P(()=>H(_e,n(N))),y(G,ce)}),y(T,k)},j=T=>{var k=yt(),M=we(k);{var D=G=>{var N=hi(),se=m(we(N),2);{var ce=re=>{var K=oi(),et=m(we(K),2),At=p(et),tr=m(At);P(()=>H(At,`${n(ie)??""} `)),$("click",tr,as),y(re,K)},_e=re=>{var K=vi(),et=m(p(K)),At=p(et);P(()=>H(At,n(ie))),y(re,K)};O(se,re=>{n(Ke)==="host"?re(ce):re(_e,!1)})}var Se=m(se,2);nt(Se,5,()=>n(Ze),tt,(re,K)=>{var et=fi(),At=p(et);{var tr=nr=>{var Es=ui();y(nr,Es)};O(At,nr=>{n(K),S(()=>n(K).isHost)&&nr(tr)})}var ys=m(At,2),ws=p(ys);P(()=>{jt(et,1,`lobby-player-row ${n(K),n(F),S(()=>n(K).id===n(F)?"is-me":"")??""}`,"svelte-zv9a4n"),H(ws,`${n(K),n(F),n(ae),S(()=>n(K).id===n(F)?n(ae):n(K).name)??""}${n(K),n(F),S(()=>n(K).id===n(F)?" (you)":"")??""}`)}),y(re,et)});var We=m(Se,2);{var Tt=re=>{var K=ci(),et=p(K);P(()=>H(et,n(je))),y(re,K)};O(We,re=>{n(je)&&re(Tt)})}var ln=m(We,2),Bt=p(ln),Xn=m(Bt,2);{var Zn=re=>{var K=di();P(()=>K.disabled=(n(Ze),S(()=>n(Ze).length<2))),$("click",K,ns),y(re,K)},er=re=>{var K=_i();y(re,K)};O(Xn,re=>{n(Ke)==="host"?re(Zn):re(er,!1)})}$("click",Bt,rs),y(G,N)};O(M,G=>{n(Y)==="lobby"&&G(D)},!0)}y(T,k)};O(oe,T=>{n(Y)==="starting"?T(ne):T(j,!1)},!0)}y(W,B)};O(de,W=>{n(Y)==="connecting"?W(me):W(Q,!1)},!0)}y(te,fe)};O(ke,te=>{n(Y)==="tokenEntry"?te(Pe):te(xe,!1)},!0)}y(pe,be)};O(ye,pe=>{n(Y)==="nameEntry"?pe(Ne):pe(dt,!1)})}P(()=>Re(A,"src",c+"header.png")),y(l,v)};O(Hr,l=>{n(Y)!=="none"&&l(vs)})}var Vr=m(Hr,2);{var us=l=>{var v=Ai(),g=p(v),A=p(g),ye=m(A,2),Ne=p(ye);{var dt=k=>{var M=yi(),D=m(p(M),2);nt(D,1,()=>n(Ve),tt,(G,N,se)=>{var ce=gi(),_e=p(ce);_e.textContent=`#${se+1}`;var Se=m(_e,2),We=p(Se),Tt=m(We);{var ln=re=>{var K=mi();y(re,K)};O(Tt,re=>{n(r),n(Fe),n(N),S(()=>n(r)>0&&n(Fe)[n(N).id]===n(r))&&re(ln)})}var Bt=m(Tt,2);{var Xn=re=>{var K=bi(),et=p(K);P(()=>H(et,`${n(Fe),n(N),S(()=>n(Fe)[n(N).id])??""}W`)),y(re,K)};O(Bt,re=>{n(Fe),n(N),S(()=>n(Fe)[n(N).id]>0)&&re(Xn)})}var Zn=m(Se,2),er=p(Zn);P(()=>{jt(ce,1,`mp-end-lb-row ${se===0?"mp-lb-first":""} ${n(N),n(F),S(()=>n(N).id===n(F)?"mp-lb-me":"")??""}`,"svelte-zv9a4n"),H(We,`${n(N),n(F),n(ae),S(()=>n(N).id===n(F)?n(ae):n(N).name)??""}${n(N),n(F),S(()=>n(N).id===n(F)?" (you)":"")??""} `),H(er,(n(N),S(()=>n(N).score)))}),y(G,ce)}),y(k,M)};O(Ne,k=>{n(le),n(Ve),S(()=>n(le)&&n(Ve).length>0)&&k(dt)})}var pe=m(Ne,2);{var be=k=>{var M=wi(),D=p(M);P(()=>H(D,n(rn))),y(k,M)};O(pe,k=>{n(rn)&&k(be)})}var ke=m(pe,2),Pe=p(ke),xe=m(Pe),te=p(xe),fe=m(ke,4),de=p(fe);{var me=k=>{var M=zi();nt(M,5,()=>n(ft),tt,(D,G)=>{var N=Ei(),se=p(N),ce=m(se),_e=p(ce);P(()=>{jt(N,1,`found-word ${n(G),S(()=>n(G).tag==="contested_first"?"mp-word-first":"")??""} ${n(G),S(()=>n(G).tag==="contested_second"?"mp-word-second":"")??""}`,"svelte-zv9a4n"),Re(N,"title",(n(G),S(()=>n(G).tag==="contested_first"?"Also found by another player — 1 pt":n(G).tag==="contested_second"?"Found first by another player — 0 pts":""))),H(se,`${n(G),S(()=>n(G).word)??""} `),H(_e,`(${n(G),S(()=>n(G).points)??""})`)}),y(D,N)}),y(k,M)},Q=k=>{var M=yt(),D=we(M);{var G=se=>{var ce=ki();y(se,ce)},N=se=>{var ce=Si();nt(ce,5,()=>n(Me),tt,(_e,Se)=>{var We=xi(),Tt=p(We),ln=m(Tt),Bt=p(ln);P(()=>{H(Tt,`${n(Se),S(()=>n(Se).word)??""} `),H(Bt,`(${n(Se),S(()=>n(Se).points)??""})`)}),y(_e,We)}),y(se,ce)};O(D,se=>{n(Me),S(()=>n(Me).length===0)?se(G):se(N,!1)},!0)}y(k,M)};O(de,k=>{n(le),n(ft),S(()=>n(le)&&n(ft).length>0)?k(me):k(Q,!1)})}var W=m(fe,2),B=p(W),oe=m(B,2);{var ne=k=>{var M=Ti();$("click",M,Or),y(k,M)};O(oe,k=>{n(le)&&n(Be)==="none"&&k(ne)})}var j=m(oe,2),T=m(j,2);P(()=>{Re(A,"src",c+"header.png"),H(Pe,`${n(le)?"Your":"Final"} Score: `),H(te,n(I))}),$("click",B,ja),$("click",j,$a),$("click",T,an),y(l,v)};O(Vr,l=>{n(Qe)&&l(us)})}var Br=m(Vr,2);{var fs=l=>{var v=Pi(),g=p(v),A=p(g),ye=m(A,2);{var Ne=pe=>{var be=Oi(),ke=m(we(be),2),Pe=m(p(ke),2),xe=p(Pe),te=m(ke,2);nt(te,5,()=>n(St),tt,(Q,W)=>{var B=Ii(),oe=p(B);{var ne=M=>{var D=Mi();y(M,D)},j=M=>{var D=Ci();y(M,D)};O(oe,M=>{n(W),S(()=>n(W).accepted)?M(ne):M(j,!1)})}var T=m(oe,2),k=p(T);P(()=>H(k,(n(W),n(F),n(ae),S(()=>n(W).id===n(F)?n(ae):n(W).name)))),y(Q,B)});var fe=m(te,2);{var de=Q=>{var W=Ni(),B=we(W),oe=m(B,2),ne=p(oe),j=m(ne,2);$("click",B,Or),$("click",ne,Lr),$("click",j,an),y(Q,W)},me=Q=>{var W=Ri(),B=m(we(W),2),oe=p(B);$("click",oe,an),y(Q,W)};O(fe,Q=>{n(s)?Q(me,!1):Q(de)})}P(()=>H(xe,n(ct))),y(pe,be)},dt=pe=>{var be=yt(),ke=we(be);{var Pe=te=>{var fe=Di(),de=m(we(fe),2),me=m(p(de),2),Q=p(me),W=m(de,2);nt(W,5,()=>n(wn),tt,(j,T)=>{var k=Li(),M=m(p(k),2),D=p(M);P(()=>H(D,n(T))),y(j,k)});var B=m(W,4),oe=p(B),ne=m(oe,2);P(()=>H(Q,n(ct))),$("click",oe,Lr),$("click",ne,an),y(te,fe)},xe=te=>{var fe=yt(),de=we(fe);{var me=Q=>{var W=Fi();y(Q,W)};O(de,Q=>{n(Be)==="pending"&&Q(me)},!0)}y(te,fe)};O(ke,te=>{n(Be)==="starting"?te(Pe):te(xe,!1)},!0)}y(pe,be)};O(ye,pe=>{n(Be)==="voting"?pe(Ne):pe(dt,!1)})}P(()=>Re(A,"src",c+"header.png")),y(l,v)};O(Br,l=>{n(Be)!=="none"&&l(fs)})}var cs=m(Br,2);{var ds=l=>{var v=$i(),g=p(v),A=p(g),ye=m(g,2),Ne=p(ye),dt=p(Ne),pe=m(Ne,2),be=p(pe),ke=p(be);nt(ke,1,()=>n(u),tt,(j,T,k)=>{var M=Bi();Re(M,"data-index",k);var D=p(M),G=m(D);{var N=_e=>{var Se=Hi(),We=p(Se);P(()=>H(We,(n(T),S(()=>n(T).selectionOrder+1)))),y(_e,Se)};O(G,_e=>{n(T),S(()=>n(T).selected&&n(T).selectionOrder>=0)&&_e(N)})}var se=m(G,2);{var ce=_e=>{var Se=Vi();y(_e,Se)};O(se,_e=>{n(R),n(z),n(T),S(()=>k===n(R)&&n(z)&&!n(T).selected)&&_e(ce)})}P(()=>{jt(M,1,`cell ${n(T),S(()=>n(T).selected?"selected":"")??""} ${k===n(R)?"focused":""} ${n(J)?"scrambling":""}`,"svelte-zv9a4n"),Cn(M,(n(T),S(()=>n(T).flashColor?`background-color: ${n(T).flashColor} !important; border-color: ${n(T).flashColor} !important; transform: scale(1.2);`:""))),H(D,`${n(T),S(()=>n(T).displayLetter)??""} `)}),$("click",M,()=>$n(k)),$("keydown",M,_e=>_e.key==="Enter"&&$n(k)),y(j,M)});var Pe=m(ke,2);nt(Pe,5,()=>S(Xa),tt,(j,T)=>{var k=Gi();P(()=>{Re(k,"x1",(n(T),S(()=>n(T).start.x))),Re(k,"y1",(n(T),S(()=>n(T).start.y))),Re(k,"x2",(n(T),S(()=>n(T).end.x))),Re(k,"y2",(n(T),S(()=>n(T).end.y)))}),y(j,k)}),ql(be,j=>a(X,j),()=>n(X));var xe=m(ye,2),te=p(xe);{var fe=j=>{var T=Ui(),k=we(T),M=m(p(k)),D=p(M),G=m(k,2),N=p(G),se=m(N,2);P(ce=>{jt(M,1,`word ${ce??""}`,"svelte-zv9a4n"),H(D,n(_)||"(none)"),se.disabled=(n(_),S(()=>n(_).length<3))},[()=>(n(_),S(()=>Za(n(_))))]),$("click",N,An),$("click",se,Ar),y(j,T)},de=j=>{var T=yt(),k=we(T);{var M=D=>{var G=ji(),N=p(G);$("click",N,()=>{a(Qe,!0)}),y(D,G)};O(k,D=>{!n(z)&&!n(J)&&D(M)},!0)}y(j,T)};O(te,j=>{n(z)?j(fe):j(de,!1)})}var me=m(xe,2);{var Q=j=>{var T=Ji(),k=m(p(T),2);nt(k,1,()=>n(Ve),tt,(M,D,G)=>{var N=Wi(),se=p(N);se.textContent=`${G+1}.`;var ce=m(se,2),_e=p(ce),Se=m(ce,2),We=p(Se);P(()=>{jt(N,1,`lb-row ${n(D),n(F),S(()=>n(D).id===n(F)?"lb-me":"")??""} ${G===0?"lb-first":""}`,"svelte-zv9a4n"),H(_e,(n(D),n(F),n(ae),S(()=>n(D).id===n(F)?n(ae):n(D).name))),H(We,(n(D),S(()=>n(D).score)))}),y(M,N)}),y(j,T)};O(me,j=>{n(le)&&n(z)&&j(Q)})}var W=m(me,2),B=p(W),oe=p(B),ne=m(B,2);nt(ne,5,()=>n(d),tt,(j,T)=>{var k=qi(),M=p(k);P(()=>H(M,n(T))),y(j,k)}),P(()=>{Re(A,"src",c+"header.png"),Cn(dt,`height: ${n(o)??""}%; background: linear-gradient(${n(f)??""}, #000);`),Cn(be,n(J)?"pointer-events: none;":""),H(oe,`Found Words (${n(d),S(()=>n(d).length)??""}):`)}),y(l,v)};O(cs,l=>{n(bt)&&l(ds)})}var Gr=m(Fr,2);{var _s=l=>{var v=Yi(),g=p(v),A=p(g);P(()=>H(A,n(ge)>0?n(ge):"Go!")),y(l,v)};O(Gr,l=>{n(J)&&l(_s)})}var Ur=m(Gr,2);{var hs=l=>{var v=Qi(),g=p(v);P(()=>H(g,n(kt))),y(l,v)};O(Ur,l=>{n(xt)&&l(hs)})}var jr=m(Ur,2);{var ps=l=>{var v=Ki(),g=p(v),A=m(g);P(()=>H(g,`${n(Ft)??""} disconnected — game continues `)),$("click",A,()=>a(Ft,"")),y(l,v)};O(jr,l=>{n(Ft)&&l(ps)})}var Mn=m(jr,2),ms=p(Mn);{var bs=l=>{var v=Xi();y(l,v)},gs=l=>{var v=Zi();y(l,v)};O(ms,l=>{n(ze)?l(bs):l(gs,!1)})}P(()=>{Re(Mn,"aria-label",n(ze)?"Unmute sound effects":"Mute sound effects"),Re(Mn,"title",n(ze)?"Unmute":"Mute")}),$("click",Mn,ss),y(e,Dr),_a()}var no=x("<main><!></main>");function ro(e){var t=no(),r=p(t);to(r,{}),y(e,t)}Dl(ro,{target:document.getElementById("app")});
